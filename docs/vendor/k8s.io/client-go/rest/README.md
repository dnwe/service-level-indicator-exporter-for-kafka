<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# rest

```go
import "github.com/vmware/service-level-indicator-exporter-for-kafka/vendor/k8s.io/client-go/rest"
```

## Index

- [Constants](<#constants>)
- [Variables](<#variables>)
- [func ConfigToExecCluster(config *Config) (*clientauthenticationapi.Cluster, error)](<#func-configtoexeccluster>)
- [func DefaultKubernetesUserAgent() string](<#func-defaultkubernetesuseragent>)
- [func DefaultServerURL(host, apiPath string, groupVersion schema.GroupVersion, defaultTLS bool) (*url.URL, string, error)](<#func-defaultserverurl>)
- [func DefaultVersionedAPIPath(apiPath string, groupVersion schema.GroupVersion) string](<#func-defaultversionedapipath>)
- [func HTTPWrappersForConfig(config *Config, rt http.RoundTripper) (http.RoundTripper, error)](<#func-httpwrappersforconfig>)
- [func IsConfigTransportTLS(config Config) bool](<#func-isconfigtransporttls>)
- [func IsValidPathSegmentName(name string) []string](<#func-isvalidpathsegmentname>)
- [func IsValidPathSegmentPrefix(name string) []string](<#func-isvalidpathsegmentprefix>)
- [func LoadTLSFiles(c *Config) error](<#func-loadtlsfiles>)
- [func RegisterAuthProviderPlugin(name string, plugin Factory) error](<#func-registerauthproviderplugin>)
- [func SetDefaultWarningHandler(l WarningHandler)](<#func-setdefaultwarninghandler>)
- [func SetKubernetesDefaults(config *Config) error](<#func-setkubernetesdefaults>)
- [func TLSConfigFor(config *Config) (*tls.Config, error)](<#func-tlsconfigfor>)
- [func TransportFor(config *Config) (http.RoundTripper, error)](<#func-transportfor>)
- [func ValidatePathSegmentName(name string, prefix bool) []string](<#func-validatepathsegmentname>)
- [type AuthProvider](<#type-authprovider>)
  - [func GetAuthProvider(clusterAddress string, apc *clientcmdapi.AuthProviderConfig, persister AuthProviderConfigPersister) (AuthProvider, error)](<#func-getauthprovider>)
- [type AuthProviderConfigPersister](<#type-authproviderconfigpersister>)
- [type BackoffManager](<#type-backoffmanager>)
- [type ClientContentConfig](<#type-clientcontentconfig>)
- [type Config](<#type-config>)
  - [func AddUserAgent(config *Config, userAgent string) *Config](<#func-adduseragent>)
  - [func AnonymousClientConfig(config *Config) *Config](<#func-anonymousclientconfig>)
  - [func CopyConfig(config *Config) *Config](<#func-copyconfig>)
  - [func ExecClusterToConfig(cluster *clientauthentication.Cluster) (*Config, error)](<#func-execclustertoconfig>)
  - [func InClusterConfig() (*Config, error)](<#func-inclusterconfig>)
  - [func (c *Config) GoString() string](<#func-config-gostring>)
  - [func (c *Config) String() string](<#func-config-string>)
  - [func (c *Config) TransportConfig() (*transport.Config, error)](<#func-config-transportconfig>)
  - [func (c *Config) Wrap(fn transport.WrapperFunc)](<#func-config-wrap>)
- [type ContentConfig](<#type-contentconfig>)
- [type Factory](<#type-factory>)
- [type HTTPClient](<#type-httpclient>)
- [type ImpersonationConfig](<#type-impersonationconfig>)
- [type Interface](<#type-interface>)
- [type IsRetryableErrorFunc](<#type-isretryableerrorfunc>)
  - [func (r IsRetryableErrorFunc) IsErrorRetryable(request *http.Request, err error) bool](<#func-isretryableerrorfunc-iserrorretryable>)
- [type NoBackoff](<#type-nobackoff>)
  - [func (n *NoBackoff) CalculateBackoff(actualUrl *url.URL) time.Duration](<#func-nobackoff-calculatebackoff>)
  - [func (n *NoBackoff) Sleep(d time.Duration)](<#func-nobackoff-sleep>)
  - [func (n *NoBackoff) UpdateBackoff(actualUrl *url.URL, err error, responseCode int)](<#func-nobackoff-updatebackoff>)
- [type NoWarnings](<#type-nowarnings>)
  - [func (NoWarnings) HandleWarningHeader(code int, agent string, message string)](<#func-nowarnings-handlewarningheader>)
- [type RESTClient](<#type-restclient>)
  - [func NewRESTClient(baseURL *url.URL, versionedAPIPath string, config ClientContentConfig, rateLimiter flowcontrol.RateLimiter, client *http.Client) (*RESTClient, error)](<#func-newrestclient>)
  - [func RESTClientFor(config *Config) (*RESTClient, error)](<#func-restclientfor>)
  - [func UnversionedRESTClientFor(config *Config) (*RESTClient, error)](<#func-unversionedrestclientfor>)
  - [func (c *RESTClient) APIVersion() schema.GroupVersion](<#func-restclient-apiversion>)
  - [func (c *RESTClient) Delete() *Request](<#func-restclient-delete>)
  - [func (c *RESTClient) Get() *Request](<#func-restclient-get>)
  - [func (c *RESTClient) GetRateLimiter() flowcontrol.RateLimiter](<#func-restclient-getratelimiter>)
  - [func (c *RESTClient) Patch(pt types.PatchType) *Request](<#func-restclient-patch>)
  - [func (c *RESTClient) Post() *Request](<#func-restclient-post>)
  - [func (c *RESTClient) Put() *Request](<#func-restclient-put>)
  - [func (c *RESTClient) Verb(verb string) *Request](<#func-restclient-verb>)
- [type Request](<#type-request>)
  - [func NewRequest(c *RESTClient) *Request](<#func-newrequest>)
  - [func NewRequestWithClient(base *url.URL, versionedAPIPath string, content ClientContentConfig, client *http.Client) *Request](<#func-newrequestwithclient>)
  - [func (r *Request) AbsPath(segments ...string) *Request](<#func-request-abspath>)
  - [func (r *Request) BackOff(manager BackoffManager) *Request](<#func-request-backoff>)
  - [func (r *Request) Body(obj interface{}) *Request](<#func-request-body>)
  - [func (r *Request) Do(ctx context.Context) Result](<#func-request-do>)
  - [func (r *Request) DoRaw(ctx context.Context) ([]byte, error)](<#func-request-doraw>)
  - [func (r *Request) MaxRetries(maxRetries int) *Request](<#func-request-maxretries>)
  - [func (r *Request) Name(resourceName string) *Request](<#func-request-name>)
  - [func (r *Request) Namespace(namespace string) *Request](<#func-request-namespace>)
  - [func (r *Request) NamespaceIfScoped(namespace string, scoped bool) *Request](<#func-request-namespaceifscoped>)
  - [func (r *Request) Param(paramName, s string) *Request](<#func-request-param>)
  - [func (r *Request) Prefix(segments ...string) *Request](<#func-request-prefix>)
  - [func (r *Request) RequestURI(uri string) *Request](<#func-request-requesturi>)
  - [func (r *Request) Resource(resource string) *Request](<#func-request-resource>)
  - [func (r *Request) SetHeader(key string, values ...string) *Request](<#func-request-setheader>)
  - [func (r *Request) SpecificallyVersionedParams(obj runtime.Object, codec runtime.ParameterCodec, version schema.GroupVersion) *Request](<#func-request-specificallyversionedparams>)
  - [func (r *Request) Stream(ctx context.Context) (io.ReadCloser, error)](<#func-request-stream>)
  - [func (r *Request) SubResource(subresources ...string) *Request](<#func-request-subresource>)
  - [func (r *Request) Suffix(segments ...string) *Request](<#func-request-suffix>)
  - [func (r *Request) Throttle(limiter flowcontrol.RateLimiter) *Request](<#func-request-throttle>)
  - [func (r *Request) Timeout(d time.Duration) *Request](<#func-request-timeout>)
  - [func (r *Request) URL() *url.URL](<#func-request-url>)
  - [func (r *Request) Verb(verb string) *Request](<#func-request-verb>)
  - [func (r *Request) VersionedParams(obj runtime.Object, codec runtime.ParameterCodec) *Request](<#func-request-versionedparams>)
  - [func (r *Request) WarningHandler(handler WarningHandler) *Request](<#func-request-warninghandler>)
  - [func (r *Request) Watch(ctx context.Context) (watch.Interface, error)](<#func-request-watch>)
- [type RequestConstructionError](<#type-requestconstructionerror>)
  - [func (r *RequestConstructionError) Error() string](<#func-requestconstructionerror-error>)
- [type ResponseWrapper](<#type-responsewrapper>)
- [type Result](<#type-result>)
  - [func (r Result) Error() error](<#func-result-error>)
  - [func (r Result) Get() (runtime.Object, error)](<#func-result-get>)
  - [func (r Result) Into(obj runtime.Object) error](<#func-result-into>)
  - [func (r Result) Raw() ([]byte, error)](<#func-result-raw>)
  - [func (r Result) StatusCode(statusCode *int) Result](<#func-result-statuscode>)
  - [func (r Result) Warnings() []net.WarningHeader](<#func-result-warnings>)
  - [func (r Result) WasCreated(wasCreated *bool) Result](<#func-result-wascreated>)
- [type RetryAfter](<#type-retryafter>)
- [type TLSClientConfig](<#type-tlsclientconfig>)
  - [func (in *TLSClientConfig) DeepCopy() *TLSClientConfig](<#func-tlsclientconfig-deepcopy>)
  - [func (in *TLSClientConfig) DeepCopyInto(out *TLSClientConfig)](<#func-tlsclientconfig-deepcopyinto>)
  - [func (c TLSClientConfig) GoString() string](<#func-tlsclientconfig-gostring>)
  - [func (c TLSClientConfig) String() string](<#func-tlsclientconfig-string>)
- [type URLBackoff](<#type-urlbackoff>)
  - [func (b *URLBackoff) CalculateBackoff(actualUrl *url.URL) time.Duration](<#func-urlbackoff-calculatebackoff>)
  - [func (b *URLBackoff) Disable()](<#func-urlbackoff-disable>)
  - [func (b *URLBackoff) Sleep(d time.Duration)](<#func-urlbackoff-sleep>)
  - [func (b *URLBackoff) UpdateBackoff(actualUrl *url.URL, err error, responseCode int)](<#func-urlbackoff-updatebackoff>)
- [type WarningHandler](<#type-warninghandler>)
- [type WarningLogger](<#type-warninglogger>)
  - [func (WarningLogger) HandleWarningHeader(code int, agent string, message string)](<#func-warninglogger-handlewarningheader>)
- [type WarningWriterOptions](<#type-warningwriteroptions>)
- [type WithRetry](<#type-withretry>)


## Constants

```go
const (
    DefaultQPS   float32 = 5.0
    DefaultBurst int     = 10
)
```

## Variables

```go
var ErrNotInCluster = errors.New("unable to load in-cluster configuration, KUBERNETES_SERVICE_HOST and KUBERNETES_SERVICE_PORT must be defined")
```

NameMayNotBe specifies strings that cannot be used as names specified as path segments \(like the REST API or etcd store\)

```go
var NameMayNotBe = []string{".", ".."}
```

NameMayNotContain specifies substrings that cannot be used in names specified as path segments \(like the REST API or etcd store\)

```go
var NameMayNotContain = []string{"/", "%"}
```

## func ConfigToExecCluster

```go
func ConfigToExecCluster(config *Config) (*clientauthenticationapi.Cluster, error)
```

ConfigToExecCluster creates a clientauthenticationapi.Cluster with the corresponding fields from the provided Config.

## func DefaultKubernetesUserAgent

```go
func DefaultKubernetesUserAgent() string
```

DefaultKubernetesUserAgent returns a User\-Agent string built from static global vars.

## func DefaultServerURL

```go
func DefaultServerURL(host, apiPath string, groupVersion schema.GroupVersion, defaultTLS bool) (*url.URL, string, error)
```

DefaultServerURL converts a host, host:port, or URL string to the default base server API path to use with a Client at a given API version following the standard conventions for a Kubernetes API.

## func DefaultVersionedAPIPath

```go
func DefaultVersionedAPIPath(apiPath string, groupVersion schema.GroupVersion) string
```

DefaultVersionedAPIPathFor constructs the default path for the given group version, assuming the given API path, following the standard conventions of the Kubernetes API.

## func HTTPWrappersForConfig

```go
func HTTPWrappersForConfig(config *Config, rt http.RoundTripper) (http.RoundTripper, error)
```

HTTPWrappersForConfig wraps a round tripper with any relevant layered behavior from the config. Exposed to allow more clients that need HTTP\-like behavior but then must hijack the underlying connection \(like WebSocket or HTTP2 clients\). Pure HTTP clients should use the higher level TransportFor or RESTClientFor methods.

## func IsConfigTransportTLS

```go
func IsConfigTransportTLS(config Config) bool
```

IsConfigTransportTLS returns true if and only if the provided config will result in a protected connection to the server when it is passed to restclient.RESTClientFor\(\).  Use to determine when to send credentials over the wire.

Note: the Insecure flag is ignored when testing for this value, so MITM attacks are still possible.

## func IsValidPathSegmentName

```go
func IsValidPathSegmentName(name string) []string
```

IsValidPathSegmentName validates the name can be safely encoded as a path segment

## func IsValidPathSegmentPrefix

```go
func IsValidPathSegmentPrefix(name string) []string
```

IsValidPathSegmentPrefix validates the name can be used as a prefix for a name which will be encoded as a path segment It does not check for exact matches with disallowed names, since an arbitrary suffix might make the name valid

## func LoadTLSFiles

```go
func LoadTLSFiles(c *Config) error
```

LoadTLSFiles copies the data from the CertFile, KeyFile, and CAFile fields into the CertData, KeyData, and CAFile fields, or returns an error. If no error is returned, all three fields are either populated or were empty to start.

## func RegisterAuthProviderPlugin

```go
func RegisterAuthProviderPlugin(name string, plugin Factory) error
```

## func SetDefaultWarningHandler

```go
func SetDefaultWarningHandler(l WarningHandler)
```

SetDefaultWarningHandler sets the default handler clients use when warning headers are encountered. By default, warnings are logged. Several built\-in implementations are provided: \- NoWarnings suppresses warnings. \- WarningLogger logs warnings. \- NewWarningWriter\(\) outputs warnings to the provided writer.

## func SetKubernetesDefaults

```go
func SetKubernetesDefaults(config *Config) error
```

SetKubernetesDefaults sets default values on the provided client config for accessing the Kubernetes API or returns an error if any of the defaults are impossible or invalid.

## func TLSConfigFor

```go
func TLSConfigFor(config *Config) (*tls.Config, error)
```

TLSConfigFor returns a tls.Config that will provide the transport level security defined by the provided Config. Will return nil if no transport level security is requested.

## func TransportFor

```go
func TransportFor(config *Config) (http.RoundTripper, error)
```

TransportFor returns an http.RoundTripper that will provide the authentication or transport level security defined by the provided Config. Will return the default http.DefaultTransport if no special case behavior is needed.

## func ValidatePathSegmentName

```go
func ValidatePathSegmentName(name string, prefix bool) []string
```

ValidatePathSegmentName validates the name can be safely encoded as a path segment

## type AuthProvider

```go
type AuthProvider interface {
    // WrapTransport allows the plugin to create a modified RoundTripper that
    // attaches authorization headers (or other info) to requests.
    WrapTransport(http.RoundTripper) http.RoundTripper
    // Login allows the plugin to initialize its configuration. It must not
    // require direct user interaction.
    Login() error
}
```

### func GetAuthProvider

```go
func GetAuthProvider(clusterAddress string, apc *clientcmdapi.AuthProviderConfig, persister AuthProviderConfigPersister) (AuthProvider, error)
```

## type AuthProviderConfigPersister

AuthProviderConfigPersister allows a plugin to persist configuration info for just itself.

```go
type AuthProviderConfigPersister interface {
    Persist(map[string]string) error
}
```

## type BackoffManager

```go
type BackoffManager interface {
    UpdateBackoff(actualUrl *url.URL, err error, responseCode int)
    CalculateBackoff(actualUrl *url.URL) time.Duration
    Sleep(d time.Duration)
}
```

## type ClientContentConfig

ClientContentConfig controls how RESTClient communicates with the server.

TODO: ContentConfig will be updated to accept a Negotiator instead of a NegotiatedSerializer and NegotiatedSerializer will be removed.

```go
type ClientContentConfig struct {
    // AcceptContentTypes specifies the types the client will accept and is optional.
    // If not set, ContentType will be used to define the Accept header
    AcceptContentTypes string
    // ContentType specifies the wire format used to communicate with the server.
    // This value will be set as the Accept header on requests made to the server if
    // AcceptContentTypes is not set, and as the default content type on any object
    // sent to the server. If not set, "application/json" is used.
    ContentType string
    // GroupVersion is the API version to talk to. Must be provided when initializing
    // a RESTClient directly. When initializing a Client, will be set with the default
    // code version. This is used as the default group version for VersionedParams.
    GroupVersion schema.GroupVersion
    // Negotiator is used for obtaining encoders and decoders for multiple
    // supported media types.
    Negotiator runtime.ClientNegotiator
}
```

## type Config

Config holds the common attributes that can be passed to a Kubernetes client on initialization.

```go
type Config struct {
    // Host must be a host string, a host:port pair, or a URL to the base of the apiserver.
    // If a URL is given then the (optional) Path of that URL represents a prefix that must
    // be appended to all request URIs used to access the apiserver. This allows a frontend
    // proxy to easily relocate all of the apiserver endpoints.
    Host string
    // APIPath is a sub-path that points to an API root.
    APIPath string

    // ContentConfig contains settings that affect how objects are transformed when
    // sent to the server.
    ContentConfig

    // Server requires Basic authentication
    Username string
    Password string `datapolicy:"password"`

    // Server requires Bearer authentication. This client will not attempt to use
    // refresh tokens for an OAuth2 flow.
    // TODO: demonstrate an OAuth2 compatible client.
    BearerToken string `datapolicy:"token"`

    // Path to a file containing a BearerToken.
    // If set, the contents are periodically read.
    // The last successfully read value takes precedence over BearerToken.
    BearerTokenFile string

    // Impersonate is the configuration that RESTClient will use for impersonation.
    Impersonate ImpersonationConfig

    // Server requires plugin-specified authentication.
    AuthProvider *clientcmdapi.AuthProviderConfig

    // Callback to persist config for AuthProvider.
    AuthConfigPersister AuthProviderConfigPersister

    // Exec-based authentication provider.
    ExecProvider *clientcmdapi.ExecConfig

    // TLSClientConfig contains settings to enable transport layer security
    TLSClientConfig

    // UserAgent is an optional field that specifies the caller of this request.
    UserAgent string

    // DisableCompression bypasses automatic GZip compression requests to the
    // server.
    DisableCompression bool

    // Transport may be used for custom HTTP behavior. This attribute may not
    // be specified with the TLS client certificate options. Use WrapTransport
    // to provide additional per-server middleware behavior.
    Transport http.RoundTripper
    // WrapTransport will be invoked for custom HTTP behavior after the underlying
    // transport is initialized (either the transport created from TLSClientConfig,
    // Transport, or http.DefaultTransport). The config may layer other RoundTrippers
    // on top of the returned RoundTripper.
    //
    // A future release will change this field to an array. Use config.Wrap()
    // instead of setting this value directly.
    WrapTransport transport.WrapperFunc

    // QPS indicates the maximum QPS to the master from this client.
    // If it's zero, the created RESTClient will use DefaultQPS: 5
    QPS float32

    // Maximum burst for throttle.
    // If it's zero, the created RESTClient will use DefaultBurst: 10.
    Burst int

    // Rate limiter for limiting connections to the master from this client. If present overwrites QPS/Burst
    RateLimiter flowcontrol.RateLimiter

    // WarningHandler handles warnings in server responses.
    // If not set, the default warning handler is used.
    // See documentation for SetDefaultWarningHandler() for details.
    WarningHandler WarningHandler

    // The maximum length of time to wait before giving up on a server request. A value of zero means no timeout.
    Timeout time.Duration

    // Dial specifies the dial function for creating unencrypted TCP connections.
    Dial func(ctx context.Context, network, address string) (net.Conn, error)

    // Proxy is the proxy func to be used for all requests made by this
    // transport. If Proxy is nil, http.ProxyFromEnvironment is used. If Proxy
    // returns a nil *URL, no proxy is used.
    //
    // socks5 proxying does not currently support spdy streaming endpoints.
    Proxy func(*http.Request) (*url.URL, error)
}
```

### func AddUserAgent

```go
func AddUserAgent(config *Config, userAgent string) *Config
```

### func AnonymousClientConfig

```go
func AnonymousClientConfig(config *Config) *Config
```

AnonymousClientConfig returns a copy of the given config with all user credentials \(cert/key, bearer token, and username/password\) and custom transports \(WrapTransport, Transport\) removed

### func CopyConfig

```go
func CopyConfig(config *Config) *Config
```

CopyConfig returns a copy of the given config

### func ExecClusterToConfig

```go
func ExecClusterToConfig(cluster *clientauthentication.Cluster) (*Config, error)
```

ExecClusterToConfig creates a Config with the corresponding fields from the provided clientauthenticationapi.Cluster. The returned Config will be anonymous \(i.e., it will not have any authentication\-related fields set\).

### func InClusterConfig

```go
func InClusterConfig() (*Config, error)
```

InClusterConfig returns a config object which uses the service account kubernetes gives to pods. It's intended for clients that expect to be running inside a pod running on kubernetes. It will return ErrNotInCluster if called from a process not running in a kubernetes environment.

### func \(\*Config\) GoString

```go
func (c *Config) GoString() string
```

GoString implements fmt.GoStringer and sanitizes sensitive fields of Config to prevent accidental leaking via logs.

### func \(\*Config\) String

```go
func (c *Config) String() string
```

String implements fmt.Stringer and sanitizes sensitive fields of Config to prevent accidental leaking via logs.

### func \(\*Config\) TransportConfig

```go
func (c *Config) TransportConfig() (*transport.Config, error)
```

TransportConfig converts a client config to an appropriate transport config.

### func \(\*Config\) Wrap

```go
func (c *Config) Wrap(fn transport.WrapperFunc)
```

Wrap adds a transport middleware function that will give the caller an opportunity to wrap the underlying http.RoundTripper prior to the first API call being made. The provided function is invoked after any existing transport wrappers are invoked.

## type ContentConfig

```go
type ContentConfig struct {
    // AcceptContentTypes specifies the types the client will accept and is optional.
    // If not set, ContentType will be used to define the Accept header
    AcceptContentTypes string
    // ContentType specifies the wire format used to communicate with the server.
    // This value will be set as the Accept header on requests made to the server, and
    // as the default content type on any object sent to the server. If not set,
    // "application/json" is used.
    ContentType string
    // GroupVersion is the API version to talk to. Must be provided when initializing
    // a RESTClient directly. When initializing a Client, will be set with the default
    // code version.
    GroupVersion *schema.GroupVersion
    // NegotiatedSerializer is used for obtaining encoders and decoders for multiple
    // supported media types.
    //
    // TODO: NegotiatedSerializer will be phased out as internal clients are removed
    //   from Kubernetes.
    NegotiatedSerializer runtime.NegotiatedSerializer
}
```

## type Factory

Factory generates an AuthProvider plugin. clusterAddress is the address of the current cluster. config is the initial configuration for this plugin. persister allows the plugin to save updated configuration.

```go
type Factory func(clusterAddress string, config map[string]string, persister AuthProviderConfigPersister) (AuthProvider, error)
```

## type HTTPClient

HTTPClient is an interface for testing a request object.

```go
type HTTPClient interface {
    Do(req *http.Request) (*http.Response, error)
}
```

## type ImpersonationConfig

ImpersonationConfig has all the available impersonation options

```go
type ImpersonationConfig struct {
    // UserName is the username to impersonate on each request.
    UserName string
    // Groups are the groups to impersonate on each request.
    Groups []string
    // Extra is a free-form field which can be used to link some authentication information
    // to authorization information.  This field allows you to impersonate it.
    Extra map[string][]string
}
```

## type Interface

Interface captures the set of operations for generically interacting with Kubernetes REST apis.

```go
type Interface interface {
    GetRateLimiter() flowcontrol.RateLimiter
    Verb(verb string) *Request
    Post() *Request
    Put() *Request
    Patch(pt types.PatchType) *Request
    Get() *Request
    Delete() *Request
    APIVersion() schema.GroupVersion
}
```

## type IsRetryableErrorFunc

IsRetryableErrorFunc allows the client to provide its own function that determines whether the specified err from the server is retryable.

request: the original request sent to the server err: the server sent this error to us

The function returns true if the error is retryable and the request can be retried, otherwise it returns false. We have four mode of communications \- 'Stream', 'Watch', 'Do' and 'DoRaw', this function allows us to customize the retryability aspect of each.

```go
type IsRetryableErrorFunc func(request *http.Request, err error) bool
```

### func \(IsRetryableErrorFunc\) IsErrorRetryable

```go
func (r IsRetryableErrorFunc) IsErrorRetryable(request *http.Request, err error) bool
```

## type NoBackoff

NoBackoff is a stub implementation, can be used for mocking or else as a default.

```go
type NoBackoff struct {
}
```

### func \(\*NoBackoff\) CalculateBackoff

```go
func (n *NoBackoff) CalculateBackoff(actualUrl *url.URL) time.Duration
```

### func \(\*NoBackoff\) Sleep

```go
func (n *NoBackoff) Sleep(d time.Duration)
```

### func \(\*NoBackoff\) UpdateBackoff

```go
func (n *NoBackoff) UpdateBackoff(actualUrl *url.URL, err error, responseCode int)
```

## type NoWarnings

NoWarnings is an implementation of WarningHandler that suppresses warnings.

```go
type NoWarnings struct{}
```

### func \(NoWarnings\) HandleWarningHeader

```go
func (NoWarnings) HandleWarningHeader(code int, agent string, message string)
```

## type RESTClient

RESTClient imposes common Kubernetes API conventions on a set of resource paths. The baseURL is expected to point to an HTTP or HTTPS path that is the parent of one or more resources.  The server should return a decodable API resource object, or an api.Status object which contains information about the reason for any failure.

Most consumers should use client.New\(\) to get a Kubernetes API client.

```go
type RESTClient struct {

    // Set specific behavior of the client.  If not set http.DefaultClient will be used.
    Client *http.Client
    // contains filtered or unexported fields
}
```

### func NewRESTClient

```go
func NewRESTClient(baseURL *url.URL, versionedAPIPath string, config ClientContentConfig, rateLimiter flowcontrol.RateLimiter, client *http.Client) (*RESTClient, error)
```

NewRESTClient creates a new RESTClient. This client performs generic REST functions such as Get, Put, Post, and Delete on specified paths.

### func RESTClientFor

```go
func RESTClientFor(config *Config) (*RESTClient, error)
```

RESTClientFor returns a RESTClient that satisfies the requested attributes on a client Config object. Note that a RESTClient may require fields that are optional when initializing a Client. A RESTClient created by this method is generic \- it expects to operate on an API that follows the Kubernetes conventions, but may not be the Kubernetes API.

### func UnversionedRESTClientFor

```go
func UnversionedRESTClientFor(config *Config) (*RESTClient, error)
```

UnversionedRESTClientFor is the same as RESTClientFor, except that it allows the config.Version to be empty.

### func \(\*RESTClient\) APIVersion

```go
func (c *RESTClient) APIVersion() schema.GroupVersion
```

APIVersion returns the APIVersion this RESTClient is expected to use.

### func \(\*RESTClient\) Delete

```go
func (c *RESTClient) Delete() *Request
```

Delete begins a DELETE request. Short for c.Verb\("DELETE"\).

### func \(\*RESTClient\) Get

```go
func (c *RESTClient) Get() *Request
```

Get begins a GET request. Short for c.Verb\("GET"\).

### func \(\*RESTClient\) GetRateLimiter

```go
func (c *RESTClient) GetRateLimiter() flowcontrol.RateLimiter
```

GetRateLimiter returns rate limiter for a given client, or nil if it's called on a nil client

### func \(\*RESTClient\) Patch

```go
func (c *RESTClient) Patch(pt types.PatchType) *Request
```

Patch begins a PATCH request. Short for c.Verb\("Patch"\).

### func \(\*RESTClient\) Post

```go
func (c *RESTClient) Post() *Request
```

Post begins a POST request. Short for c.Verb\("POST"\).

### func \(\*RESTClient\) Put

```go
func (c *RESTClient) Put() *Request
```

Put begins a PUT request. Short for c.Verb\("PUT"\).

### func \(\*RESTClient\) Verb

```go
func (c *RESTClient) Verb(verb string) *Request
```

Verb begins a request with a verb \(GET, POST, PUT, DELETE\).

Example usage of RESTClient's request building interface: c, err := NewRESTClient\(...\) if err \!= nil \{ ... \} resp, err := c.Verb\("GET"\). Path\("pods"\). SelectorParam\("labels", "area=staging"\). Timeout\(10\*time.Second\). Do\(\) if err \!= nil \{ ... \} list, ok := resp.\(\*api.PodList\)

## type Request

Request allows for building up a request to a server in a chained fashion. Any errors are stored until the end of your call, so you only have to check once.

```go
type Request struct {
    // contains filtered or unexported fields
}
```

### func NewRequest

```go
func NewRequest(c *RESTClient) *Request
```

NewRequest creates a new request helper object for accessing runtime.Objects on a server.

### func NewRequestWithClient

```go
func NewRequestWithClient(base *url.URL, versionedAPIPath string, content ClientContentConfig, client *http.Client) *Request
```

NewRequestWithClient creates a Request with an embedded RESTClient for use in test scenarios.

### func \(\*Request\) AbsPath

```go
func (r *Request) AbsPath(segments ...string) *Request
```

AbsPath overwrites an existing path with the segments provided. Trailing slashes are preserved when a single segment is passed.

### func \(\*Request\) BackOff

```go
func (r *Request) BackOff(manager BackoffManager) *Request
```

BackOff sets the request's backoff manager to the one specified, or defaults to the stub implementation if nil is provided

### func \(\*Request\) Body

```go
func (r *Request) Body(obj interface{}) *Request
```

Body makes the request use obj as the body. Optional. If obj is a string, try to read a file of that name. If obj is a \[\]byte, send it directly. If obj is an io.Reader, use it directly. If obj is a runtime.Object, marshal it correctly, and set Content\-Type header. If obj is a runtime.Object and nil, do nothing. Otherwise, set an error.

### func \(\*Request\) Do

```go
func (r *Request) Do(ctx context.Context) Result
```

Do formats and executes the request. Returns a Result object for easy response processing.

Error type: \* If the server responds with a status: \*errors.StatusError or \*errors.UnexpectedObjectError \* http.Client.Do errors are returned directly.

### func \(\*Request\) DoRaw

```go
func (r *Request) DoRaw(ctx context.Context) ([]byte, error)
```

DoRaw executes the request but does not process the response body.

### func \(\*Request\) MaxRetries

```go
func (r *Request) MaxRetries(maxRetries int) *Request
```

MaxRetries makes the request use the given integer as a ceiling of retrying upon receiving "Retry\-After" headers and 429 status\-code in the response. The default is 10 unless this function is specifically called with a different value. A zero maxRetries prevent it from doing retires and return an error immediately.

### func \(\*Request\) Name

```go
func (r *Request) Name(resourceName string) *Request
```

Name sets the name of a resource to access \(\<resource\>/\[ns/\<namespace\>/\]\<name\>\)

### func \(\*Request\) Namespace

```go
func (r *Request) Namespace(namespace string) *Request
```

Namespace applies the namespace scope to a request \(\<resource\>/\[ns/\<namespace\>/\]\<name\>\)

### func \(\*Request\) NamespaceIfScoped

```go
func (r *Request) NamespaceIfScoped(namespace string, scoped bool) *Request
```

NamespaceIfScoped is a convenience function to set a namespace if scoped is true

### func \(\*Request\) Param

```go
func (r *Request) Param(paramName, s string) *Request
```

Param creates a query parameter with the given string value.

### func \(\*Request\) Prefix

```go
func (r *Request) Prefix(segments ...string) *Request
```

Prefix adds segments to the relative beginning to the request path. These items will be placed before the optional Namespace, Resource, or Name sections. Setting AbsPath will clear any previously set Prefix segments

### func \(\*Request\) RequestURI

```go
func (r *Request) RequestURI(uri string) *Request
```

RequestURI overwrites existing path and parameters with the value of the provided server relative URI.

### func \(\*Request\) Resource

```go
func (r *Request) Resource(resource string) *Request
```

Resource sets the resource to access \(\<resource\>/\[ns/\<namespace\>/\]\<name\>\)

### func \(\*Request\) SetHeader

```go
func (r *Request) SetHeader(key string, values ...string) *Request
```

### func \(\*Request\) SpecificallyVersionedParams

```go
func (r *Request) SpecificallyVersionedParams(obj runtime.Object, codec runtime.ParameterCodec, version schema.GroupVersion) *Request
```

### func \(\*Request\) Stream

```go
func (r *Request) Stream(ctx context.Context) (io.ReadCloser, error)
```

Stream formats and executes the request, and offers streaming of the response. Returns io.ReadCloser which could be used for streaming of the response, or an error Any non\-2xx http status code causes an error.  If we get a non\-2xx code, we try to convert the body into an APIStatus object. If we can, we return that as an error.  Otherwise, we create an error that lists the http status and the content of the response.

### func \(\*Request\) SubResource

```go
func (r *Request) SubResource(subresources ...string) *Request
```

SubResource sets a sub\-resource path which can be multiple segments after the resource name but before the suffix.

### func \(\*Request\) Suffix

```go
func (r *Request) Suffix(segments ...string) *Request
```

Suffix appends segments to the end of the path. These items will be placed after the prefix and optional Namespace, Resource, or Name sections.

### func \(\*Request\) Throttle

```go
func (r *Request) Throttle(limiter flowcontrol.RateLimiter) *Request
```

Throttle receives a rate\-limiter and sets or replaces an existing request limiter

### func \(\*Request\) Timeout

```go
func (r *Request) Timeout(d time.Duration) *Request
```

Timeout makes the request use the given duration as an overall timeout for the request. Additionally, if set passes the value as "timeout" parameter in URL.

### func \(\*Request\) URL

```go
func (r *Request) URL() *url.URL
```

URL returns the current working URL.

### func \(\*Request\) Verb

```go
func (r *Request) Verb(verb string) *Request
```

Verb sets the verb this request will use.

### func \(\*Request\) VersionedParams

```go
func (r *Request) VersionedParams(obj runtime.Object, codec runtime.ParameterCodec) *Request
```

VersionedParams will take the provided object, serialize it to a map\[string\]\[\]string using the implicit RESTClient API version and the default parameter codec, and then add those as parameters to the request. Use this to provide versioned query parameters from client libraries. VersionedParams will not write query parameters that have omitempty set and are empty. If a parameter has already been set it is appended to \(Params and VersionedParams are additive\).

### func \(\*Request\) WarningHandler

```go
func (r *Request) WarningHandler(handler WarningHandler) *Request
```

WarningHandler sets the handler this client uses when warning headers are encountered. If set to nil, this client will use the default warning handler \(see SetDefaultWarningHandler\).

### func \(\*Request\) Watch

```go
func (r *Request) Watch(ctx context.Context) (watch.Interface, error)
```

Watch attempts to begin watching the requested location. Returns a watch.Interface, or an error.

## type RequestConstructionError

RequestConstructionError is returned when there's an error assembling a request.

```go
type RequestConstructionError struct {
    Err error
}
```

### func \(\*RequestConstructionError\) Error

```go
func (r *RequestConstructionError) Error() string
```

Error returns a textual description of 'r'.

## type ResponseWrapper

ResponseWrapper is an interface for getting a response. The response may be either accessed as a raw data \(the whole output is put into memory\) or as a stream.

```go
type ResponseWrapper interface {
    DoRaw(context.Context) ([]byte, error)
    Stream(context.Context) (io.ReadCloser, error)
}
```

## type Result

Result contains the result of calling Request.Do\(\).

```go
type Result struct {
    // contains filtered or unexported fields
}
```

### func \(Result\) Error

```go
func (r Result) Error() error
```

Error returns the error executing the request, nil if no error occurred. If the returned object is of type Status and has Status \!= StatusSuccess, the additional information in Status will be used to enrich the error. See the Request.Do\(\) comment for what errors you might get.

### func \(Result\) Get

```go
func (r Result) Get() (runtime.Object, error)
```

Get returns the result as an object, which means it passes through the decoder. If the returned object is of type Status and has .Status \!= StatusSuccess, the additional information in Status will be used to enrich the error.

### func \(Result\) Into

```go
func (r Result) Into(obj runtime.Object) error
```

Into stores the result into obj, if possible. If obj is nil it is ignored. If the returned object is of type Status and has .Status \!= StatusSuccess, the additional information in Status will be used to enrich the error.

### func \(Result\) Raw

```go
func (r Result) Raw() ([]byte, error)
```

Raw returns the raw result.

### func \(Result\) StatusCode

```go
func (r Result) StatusCode(statusCode *int) Result
```

StatusCode returns the HTTP status code of the request. \(Only valid if no error was returned.\)

### func \(Result\) Warnings

```go
func (r Result) Warnings() []net.WarningHeader
```

Warnings returns any warning headers received in the response

### func \(Result\) WasCreated

```go
func (r Result) WasCreated(wasCreated *bool) Result
```

WasCreated updates the provided bool pointer to whether the server returned 201 created or a different response.

## type RetryAfter

RetryAfter holds information associated with the next retry.

```go
type RetryAfter struct {
    // Wait is the duration the server has asked us to wait before
    // the next retry is initiated.
    // This is the value of the 'Retry-After' response header in seconds.
    Wait time.Duration

    // Attempt is the Nth attempt after which we have received a retryable
    // error or a 'Retry-After' response header from the server.
    Attempt int

    // Reason describes why we are retrying the request
    Reason string
}
```

## type TLSClientConfig

\+k8s:deepcopy\-gen=true TLSClientConfig contains settings to enable transport layer security

```go
type TLSClientConfig struct {
    // Server should be accessed without verifying the TLS certificate. For testing only.
    Insecure bool
    // ServerName is passed to the server for SNI and is used in the client to check server
    // certificates against. If ServerName is empty, the hostname used to contact the
    // server is used.
    ServerName string

    // Server requires TLS client certificate authentication
    CertFile string
    // Server requires TLS client certificate authentication
    KeyFile string
    // Trusted root certificates for server
    CAFile string

    // CertData holds PEM-encoded bytes (typically read from a client certificate file).
    // CertData takes precedence over CertFile
    CertData []byte
    // KeyData holds PEM-encoded bytes (typically read from a client certificate key file).
    // KeyData takes precedence over KeyFile
    KeyData []byte `datapolicy:"security-key"`
    // CAData holds PEM-encoded bytes (typically read from a root certificates bundle).
    // CAData takes precedence over CAFile
    CAData []byte

    // NextProtos is a list of supported application level protocols, in order of preference.
    // Used to populate tls.Config.NextProtos.
    // To indicate to the server http/1.1 is preferred over http/2, set to ["http/1.1", "h2"] (though the server is free to ignore that preference).
    // To use only http/1.1, set to ["http/1.1"].
    NextProtos []string
}
```

### func \(\*TLSClientConfig\) DeepCopy

```go
func (in *TLSClientConfig) DeepCopy() *TLSClientConfig
```

DeepCopy is an autogenerated deepcopy function, copying the receiver, creating a new TLSClientConfig.

### func \(\*TLSClientConfig\) DeepCopyInto

```go
func (in *TLSClientConfig) DeepCopyInto(out *TLSClientConfig)
```

DeepCopyInto is an autogenerated deepcopy function, copying the receiver, writing into out. in must be non\-nil.

### func \(TLSClientConfig\) GoString

```go
func (c TLSClientConfig) GoString() string
```

GoString implements fmt.GoStringer and sanitizes sensitive fields of TLSClientConfig to prevent accidental leaking via logs.

### func \(TLSClientConfig\) String

```go
func (c TLSClientConfig) String() string
```

String implements fmt.Stringer and sanitizes sensitive fields of TLSClientConfig to prevent accidental leaking via logs.

## type URLBackoff

URLBackoff struct implements the semantics on top of Backoff which we need for URL specific exponential backoff.

```go
type URLBackoff struct {
    // Uses backoff as underlying implementation.
    Backoff *flowcontrol.Backoff
}
```

### func \(\*URLBackoff\) CalculateBackoff

```go
func (b *URLBackoff) CalculateBackoff(actualUrl *url.URL) time.Duration
```

CalculateBackoff takes a url and back's off exponentially, based on its knowledge of existing failures.

### func \(\*URLBackoff\) Disable

```go
func (b *URLBackoff) Disable()
```

Disable makes the backoff trivial, i.e., sets it to zero.  This might be used by tests which want to run 1000s of mock requests without slowing down.

### func \(\*URLBackoff\) Sleep

```go
func (b *URLBackoff) Sleep(d time.Duration)
```

### func \(\*URLBackoff\) UpdateBackoff

```go
func (b *URLBackoff) UpdateBackoff(actualUrl *url.URL, err error, responseCode int)
```

UpdateBackoff updates backoff metadata

## type WarningHandler

WarningHandler is an interface for handling warning headers

```go
type WarningHandler interface {
    // HandleWarningHeader is called with the warn code, agent, and text when a warning header is countered.
    HandleWarningHeader(code int, agent string, text string)
}
```

## type WarningLogger

WarningLogger is an implementation of WarningHandler that logs code 299 warnings

```go
type WarningLogger struct{}
```

### func \(WarningLogger\) HandleWarningHeader

```go
func (WarningLogger) HandleWarningHeader(code int, agent string, message string)
```

## type WarningWriterOptions

WarningWriterOptions controls the behavior of a WarningHandler constructed using NewWarningWriter\(\)

```go
type WarningWriterOptions struct {
    // Deduplicate indicates a given warning message should only be written once.
    // Setting this to true in a long-running process handling many warnings can result in increased memory use.
    Deduplicate bool
    // Color indicates that warning output can include ANSI color codes
    Color bool
}
```

## type WithRetry

WithRetry allows the client to retry a request up to a certain number of times Note that WithRetry is not safe for concurrent use by multiple goroutines without additional locking or coordination.

```go
type WithRetry interface {
    // SetMaxRetries makes the request use the specified integer as a ceiling
    // for retries upon receiving a 429 status code  and the "Retry-After" header
    // in the response.
    // A zero maxRetries should prevent from doing any retry and return immediately.
    SetMaxRetries(maxRetries int)

    // NextRetry advances the retry counter appropriately and returns true if the
    // request should be retried, otherwise it returns false if:
    //  - we have already reached the maximum retry threshold.
    //  - the error does not fall into the retryable category.
    //  - the server has not sent us a 429, or 5xx status code and the
    //    'Retry-After' response header is not set with a value.
    //
    // if retry is set to true, retryAfter will contain the information
    // regarding the next retry.
    //
    // request: the original request sent to the server
    // resp: the response sent from the server, it is set if err is nil
    // err: the server sent this error to us, if err is set then resp is nil.
    // f: a IsRetryableErrorFunc function provided by the client that determines
    //    if the err sent by the server is retryable.
    NextRetry(req *http.Request, resp *http.Response, err error, f IsRetryableErrorFunc) (*RetryAfter, bool)

    // BeforeNextRetry is responsible for carrying out operations that need
    // to be completed before the next retry is initiated:
    // - if the request context is already canceled there is no need to
    //   retry, the function will return ctx.Err().
    // - we need to seek to the beginning of the request body before we
    //   initiate the next retry, the function should return an error if
    //   it fails to do so.
    // - we should wait the number of seconds the server has asked us to
    //   in the 'Retry-After' response header.
    //
    // If BeforeNextRetry returns an error the client should abort the retry,
    // otherwise it is safe to initiate the next retry.
    BeforeNextRetry(ctx context.Context, backoff BackoffManager, retryAfter *RetryAfter, url string, body io.Reader) error
}
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
