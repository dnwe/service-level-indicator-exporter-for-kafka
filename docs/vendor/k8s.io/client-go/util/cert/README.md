<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# cert

```go
import "github.com/vmware/service-level-indicator-exporter-for-kafka/vendor/k8s.io/client-go/util/cert"
```

## Index

- [Constants](<#constants>)
- [func CanReadCertAndKey(certPath, keyPath string) (bool, error)](<#func-canreadcertandkey>)
- [func CertsFromFile(file string) ([]*x509.Certificate, error)](<#func-certsfromfile>)
- [func EncodeCertificates(certs ...*x509.Certificate) ([]byte, error)](<#func-encodecertificates>)
- [func GenerateSelfSignedCertKey(host string, alternateIPs []net.IP, alternateDNS []string) ([]byte, []byte, error)](<#func-generateselfsignedcertkey>)
- [func GenerateSelfSignedCertKeyWithFixtures(host string, alternateIPs []net.IP, alternateDNS []string, fixtureDirectory string) ([]byte, []byte, error)](<#func-generateselfsignedcertkeywithfixtures>)
- [func GetClientCANames(apiHost string) ([]string, error)](<#func-getclientcanames>)
- [func GetClientCANamesForURL(kubeConfigURL string) ([]string, error)](<#func-getclientcanamesforurl>)
- [func GetServingCertificates(apiHost, serverName string) ([]*x509.Certificate, [][]byte, error)](<#func-getservingcertificates>)
- [func GetServingCertificatesForURL(kubeConfigURL, serverName string) ([]*x509.Certificate, [][]byte, error)](<#func-getservingcertificatesforurl>)
- [func MakeCSR(privateKey interface{}, subject *pkix.Name, dnsSANs []string, ipSANs []net.IP) (csr []byte, err error)](<#func-makecsr>)
- [func MakeCSRFromTemplate(privateKey interface{}, template *x509.CertificateRequest) ([]byte, error)](<#func-makecsrfromtemplate>)
- [func NewPool(filename string) (*x509.CertPool, error)](<#func-newpool>)
- [func NewPoolFromBytes(pemBlock []byte) (*x509.CertPool, error)](<#func-newpoolfrombytes>)
- [func NewSelfSignedCACert(cfg Config, key crypto.Signer) (*x509.Certificate, error)](<#func-newselfsignedcacert>)
- [func ParseCertsPEM(pemCerts []byte) ([]*x509.Certificate, error)](<#func-parsecertspem>)
- [func WriteCert(certPath string, data []byte) error](<#func-writecert>)
- [type AltNames](<#type-altnames>)
- [type Config](<#type-config>)


## Constants

```go
const (
    // CertificateBlockType is a possible value for pem.Block.Type.
    CertificateBlockType = "CERTIFICATE"
    // CertificateRequestBlockType is a possible value for pem.Block.Type.
    CertificateRequestBlockType = "CERTIFICATE REQUEST"
)
```

## func CanReadCertAndKey

```go
func CanReadCertAndKey(certPath, keyPath string) (bool, error)
```

CanReadCertAndKey returns true if the certificate and key files already exists, otherwise returns false. If lost one of cert and key, returns error.

## func CertsFromFile

```go
func CertsFromFile(file string) ([]*x509.Certificate, error)
```

CertsFromFile returns the x509.Certificates contained in the given PEM\-encoded file. Returns an error if the file could not be read, a certificate could not be parsed, or if the file does not contain any certificates

## func EncodeCertificates

```go
func EncodeCertificates(certs ...*x509.Certificate) ([]byte, error)
```

EncodeCertificates returns the PEM\-encoded byte array that represents by the specified certs.

## func GenerateSelfSignedCertKey

```go
func GenerateSelfSignedCertKey(host string, alternateIPs []net.IP, alternateDNS []string) ([]byte, []byte, error)
```

GenerateSelfSignedCertKey creates a self\-signed certificate and key for the given host. Host may be an IP or a DNS name You may also specify additional subject alt names \(either ip or dns names\) for the certificate.

## func GenerateSelfSignedCertKeyWithFixtures

```go
func GenerateSelfSignedCertKeyWithFixtures(host string, alternateIPs []net.IP, alternateDNS []string, fixtureDirectory string) ([]byte, []byte, error)
```

GenerateSelfSignedCertKeyWithFixtures creates a self\-signed certificate and key for the given host. Host may be an IP or a DNS name. You may also specify additional subject alt names \(either ip or dns names\) for the certificate.

If fixtureDirectory is non\-empty, it is a directory path which can contain pre\-generated certs. The format is: \<host\>\_\<ip\>\-\<ip\>\_\<alternateDNS\>\-\<alternateDNS\>.crt \<host\>\_\<ip\>\-\<ip\>\_\<alternateDNS\>\-\<alternateDNS\>.key Certs/keys not existing in that directory are created.

## func GetClientCANames

```go
func GetClientCANames(apiHost string) ([]string, error)
```

GetClientCANames gets the CA names for client certs that a server accepts.  This is useful when inspecting the state of particular servers.  apiHost is "host:port"

## func GetClientCANamesForURL

```go
func GetClientCANamesForURL(kubeConfigURL string) ([]string, error)
```

GetClientCANamesForURL is GetClientCANames against a URL string like we use in kubeconfigs

## func GetServingCertificates

```go
func GetServingCertificates(apiHost, serverName string) ([]*x509.Certificate, [][]byte, error)
```

GetServingCertificates returns the x509 certs used by a server as certificates and pem encoded bytes. The serverName is optional for specifying a different name to get SNI certificates.  apiHost is "host:port"

## func GetServingCertificatesForURL

```go
func GetServingCertificatesForURL(kubeConfigURL, serverName string) ([]*x509.Certificate, [][]byte, error)
```

GetServingCertificatesForURL is GetServingCertificates against a URL string like we use in kubeconfigs

## func MakeCSR

```go
func MakeCSR(privateKey interface{}, subject *pkix.Name, dnsSANs []string, ipSANs []net.IP) (csr []byte, err error)
```

MakeCSR generates a PEM\-encoded CSR using the supplied private key, subject, and SANs. All key types that are implemented via crypto.Signer are supported \(This includes \*rsa.PrivateKey and \*ecdsa.PrivateKey.\)

## func MakeCSRFromTemplate

```go
func MakeCSRFromTemplate(privateKey interface{}, template *x509.CertificateRequest) ([]byte, error)
```

MakeCSRFromTemplate generates a PEM\-encoded CSR using the supplied private key and certificate request as a template. All key types that are implemented via crypto.Signer are supported \(This includes \*rsa.PrivateKey and \*ecdsa.PrivateKey.\)

## func NewPool

```go
func NewPool(filename string) (*x509.CertPool, error)
```

NewPool returns an x509.CertPool containing the certificates in the given PEM\-encoded file. Returns an error if the file could not be read, a certificate could not be parsed, or if the file does not contain any certificates

## func NewPoolFromBytes

```go
func NewPoolFromBytes(pemBlock []byte) (*x509.CertPool, error)
```

NewPoolFromBytes returns an x509.CertPool containing the certificates in the given PEM\-encoded bytes. Returns an error if the file could not be read, a certificate could not be parsed, or if the file does not contain any certificates

## func NewSelfSignedCACert

```go
func NewSelfSignedCACert(cfg Config, key crypto.Signer) (*x509.Certificate, error)
```

NewSelfSignedCACert creates a CA certificate

## func ParseCertsPEM

```go
func ParseCertsPEM(pemCerts []byte) ([]*x509.Certificate, error)
```

ParseCertsPEM returns the x509.Certificates contained in the given PEM\-encoded byte array Returns an error if a certificate could not be parsed, or if the data does not contain any certificates

## func WriteCert

```go
func WriteCert(certPath string, data []byte) error
```

WriteCert writes the pem\-encoded certificate data to certPath. The certificate file will be created with file mode 0644. If the certificate file already exists, it will be overwritten. The parent directory of the certPath will be created as needed with file mode 0755.

## type AltNames

AltNames contains the domain names and IP addresses that will be added to the API Server's x509 certificate SubAltNames field. The values will be passed directly to the x509.Certificate object.

```go
type AltNames struct {
    DNSNames []string
    IPs      []net.IP
}
```

## type Config

Config contains the basic fields required for creating a certificate

```go
type Config struct {
    CommonName   string
    Organization []string
    AltNames     AltNames
    Usages       []x509.ExtKeyUsage
}
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
