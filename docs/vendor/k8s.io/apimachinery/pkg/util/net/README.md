<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# net

```go
import "github.com/vmware/service-level-indicator-exporter-for-kafka/vendor/k8s.io/apimachinery/pkg/util/net"
```

## Index

- [Constants](<#constants>)
- [func AppendForwardedForHeader(req *http.Request)](<#func-appendforwardedforheader>)
- [func ChooseBindAddressForInterface(intfName string) (net.IP, error)](<#func-choosebindaddressforinterface>)
- [func ChooseHostInterface() (net.IP, error)](<#func-choosehostinterface>)
- [func CloneHeader(in http.Header) http.Header](<#func-cloneheader>)
- [func CloneRequest(req *http.Request) *http.Request](<#func-clonerequest>)
- [func ConnectWithRedirects(originalMethod string, originalLocation *url.URL, header http.Header, originalBody io.Reader, dialer Dialer, requireSameHostRedirects bool) (net.Conn, []byte, error)](<#func-connectwithredirects>)
- [func FormatURL(scheme string, host string, port int, path string) *url.URL](<#func-formaturl>)
- [func GetClientIP(req *http.Request) net.IP](<#func-getclientip>)
- [func GetHTTPClient(req *http.Request) string](<#func-gethttpclient>)
- [func IPNetEqual(ipnet1, ipnet2 *net.IPNet) bool](<#func-ipnetequal>)
- [func IsConnectionRefused(err error) bool](<#func-isconnectionrefused>)
- [func IsConnectionReset(err error) bool](<#func-isconnectionreset>)
- [func IsNoRoutesError(err error) bool](<#func-isnorouteserror>)
- [func IsProbableEOF(err error) bool](<#func-isprobableeof>)
- [func IsTimeout(err error) bool](<#func-istimeout>)
- [func JoinPreservingTrailingSlash(elem ...string) string](<#func-joinpreservingtrailingslash>)
- [func JoinSchemeNamePort(scheme, name, port string) string](<#func-joinschemenameport>)
- [func NewProxierWithNoProxyCIDR(delegate func(req *http.Request) (*url.URL, error)) func(req *http.Request) (*url.URL, error)](<#func-newproxierwithnoproxycidr>)
- [func NewWarningHeader(code int, agent, text string) (string, error)](<#func-newwarningheader>)
- [func ResolveBindAddress(bindAddress net.IP) (net.IP, error)](<#func-resolvebindaddress>)
- [func SetOldTransportDefaults(t *http.Transport) *http.Transport](<#func-setoldtransportdefaults>)
- [func SetTransportDefaults(t *http.Transport) *http.Transport](<#func-settransportdefaults>)
- [func SourceIPs(req *http.Request) []net.IP](<#func-sourceips>)
- [func SplitSchemeNamePort(id string) (scheme, name, port string, valid bool)](<#func-splitschemenameport>)
- [func TLSClientConfig(transport http.RoundTripper) (*tls.Config, error)](<#func-tlsclientconfig>)
- [type AddressFamily](<#type-addressfamily>)
- [type AddressFamilyPreference](<#type-addressfamilypreference>)
- [type DialFunc](<#type-dialfunc>)
  - [func DialerFor(transport http.RoundTripper) (DialFunc, error)](<#func-dialerfor>)
- [type Dialer](<#type-dialer>)
- [type DialerFunc](<#type-dialerfunc>)
  - [func (fn DialerFunc) Dial(req *http.Request) (net.Conn, error)](<#func-dialerfunc-dial>)
- [type PortRange](<#type-portrange>)
  - [func ParsePortRange(value string) (*PortRange, error)](<#func-parseportrange>)
  - [func ParsePortRangeOrDie(value string) *PortRange](<#func-parseportrangeordie>)
  - [func (pr *PortRange) Contains(p int) bool](<#func-portrange-contains>)
  - [func (pr *PortRange) Set(value string) error](<#func-portrange-set>)
  - [func (pr PortRange) String() string](<#func-portrange-string>)
  - [func (*PortRange) Type() string](<#func-portrange-type>)
- [type RoundTripperWrapper](<#type-roundtripperwrapper>)
- [type Route](<#type-route>)
- [type RouteFile](<#type-routefile>)
- [type TLSClientConfigHolder](<#type-tlsclientconfigholder>)
- [type WarningHeader](<#type-warningheader>)
  - [func ParseWarningHeader(header string) (result WarningHeader, remainder string, err error)](<#func-parsewarningheader>)
  - [func ParseWarningHeaders(headers []string) ([]WarningHeader, []error)](<#func-parsewarningheaders>)


## Constants

```go
const (
    // LoopbackInterfaceName is the default name of the loopback interface
    LoopbackInterfaceName = "lo"
)
```

## func AppendForwardedForHeader

```go
func AppendForwardedForHeader(req *http.Request)
```

Prepares the X\-Forwarded\-For header for another forwarding hop by appending the previous sender's IP address to the X\-Forwarded\-For chain.

## func ChooseBindAddressForInterface

```go
func ChooseBindAddressForInterface(intfName string) (net.IP, error)
```

ChooseBindAddressForInterface choose a global IP for a specific interface, with priority given to IPv4. This is required in case of network setups where default routes are present, but network interfaces use only link\-local addresses \(e.g. as described in RFC5549\). e.g when using BGP to announce a host IP over link\-local ip addresses and this ip address is attached to the lo interface.

## func ChooseHostInterface

```go
func ChooseHostInterface() (net.IP, error)
```

ChooseHostInterface is a method used fetch an IP for a daemon. If there is no routing info file, it will choose a global IP from the system interfaces. Otherwise, it will use IPv4 and IPv6 route information to return the IP of the interface with a gateway on it \(with priority given to IPv4\). For a node with no internet connection, it returns error.

## func CloneHeader

```go
func CloneHeader(in http.Header) http.Header
```

CloneHeader creates a deep copy of an http.Header.

## func CloneRequest

```go
func CloneRequest(req *http.Request) *http.Request
```

CloneRequest creates a shallow copy of the request along with a deep copy of the Headers.

## func ConnectWithRedirects

```go
func ConnectWithRedirects(originalMethod string, originalLocation *url.URL, header http.Header, originalBody io.Reader, dialer Dialer, requireSameHostRedirects bool) (net.Conn, []byte, error)
```

ConnectWithRedirects uses dialer to send req, following up to 10 redirects \(relative to originalLocation\). It returns the opened net.Conn and the raw response bytes. If requireSameHostRedirects is true, only redirects to the same host are permitted.

## func FormatURL

```go
func FormatURL(scheme string, host string, port int, path string) *url.URL
```

## func GetClientIP

```go
func GetClientIP(req *http.Request) net.IP
```

Extracts and returns the clients IP from the given request. Looks at X\-Forwarded\-For header, X\-Real\-Ip header and request.RemoteAddr in that order. Returns nil if none of them are set or is set to an invalid value.

## func GetHTTPClient

```go
func GetHTTPClient(req *http.Request) string
```

## func IPNetEqual

```go
func IPNetEqual(ipnet1, ipnet2 *net.IPNet) bool
```

IPNetEqual checks if the two input IPNets are representing the same subnet. For example, 10.0.0.1/24 and 10.0.0.0/24 are the same subnet. 10.0.0.1/24 and 10.0.0.0/25 are not the same subnet.

## func IsConnectionRefused

```go
func IsConnectionRefused(err error) bool
```

Returns if the given err is "connection refused" error

## func IsConnectionReset

```go
func IsConnectionReset(err error) bool
```

Returns if the given err is "connection reset by peer" error.

## func IsNoRoutesError

```go
func IsNoRoutesError(err error) bool
```

IsNoRoutesError checks if an error is of type noRoutesError

## func IsProbableEOF

```go
func IsProbableEOF(err error) bool
```

IsProbableEOF returns true if the given error resembles a connection termination scenario that would justify assuming that the watch is empty. These errors are what the Go http stack returns back to us which are general connection closure errors \(strongly correlated\) and callers that need to differentiate probable errors in connection behavior between normal "this is disconnected" should use the method.

## func IsTimeout

```go
func IsTimeout(err error) bool
```

IsTimeout returns true if the given error is a network timeout error

## func JoinPreservingTrailingSlash

```go
func JoinPreservingTrailingSlash(elem ...string) string
```

JoinPreservingTrailingSlash does a path.Join of the specified elements, preserving any trailing slash on the last non\-empty segment

## func JoinSchemeNamePort

```go
func JoinSchemeNamePort(scheme, name, port string) string
```

JoinSchemeNamePort returns a string that specifies the scheme, name, and port: \* "\<name\>" \* "\<name\>:\<port\>" \* "\<scheme\>:\<name\>:\<port\>" None of the parameters may contain a ':' character Name is required Scheme must be "", "http", or "https"

## func NewProxierWithNoProxyCIDR

```go
func NewProxierWithNoProxyCIDR(delegate func(req *http.Request) (*url.URL, error)) func(req *http.Request) (*url.URL, error)
```

NewProxierWithNoProxyCIDR constructs a Proxier function that respects CIDRs in NO\_PROXY and delegates if no matching CIDRs are found

## func NewWarningHeader

```go
func NewWarningHeader(code int, agent, text string) (string, error)
```

## func ResolveBindAddress

```go
func ResolveBindAddress(bindAddress net.IP) (net.IP, error)
```

ResolveBindAddress returns the IP address of a daemon, based on the given bindAddress: If bindAddress is unset, it returns the host's default IP, as with ChooseHostInterface\(\). If bindAddress is unspecified or loopback, it returns the default IP of the same address family as bindAddress. Otherwise, it just returns bindAddress.

## func SetOldTransportDefaults

```go
func SetOldTransportDefaults(t *http.Transport) *http.Transport
```

SetOldTransportDefaults applies the defaults from http.DefaultTransport for the Proxy, Dial, and TLSHandshakeTimeout fields if unset

## func SetTransportDefaults

```go
func SetTransportDefaults(t *http.Transport) *http.Transport
```

SetTransportDefaults applies the defaults from http.DefaultTransport for the Proxy, Dial, and TLSHandshakeTimeout fields if unset

## func SourceIPs

```go
func SourceIPs(req *http.Request) []net.IP
```

SourceIPs splits the comma separated X\-Forwarded\-For header and joins it with the X\-Real\-Ip header and/or req.RemoteAddr, ignoring invalid IPs. The X\-Real\-Ip is omitted if it's already present in the X\-Forwarded\-For chain. The req.RemoteAddr is always the last IP in the returned list. It returns nil if all of these are empty or invalid.

## func SplitSchemeNamePort

```go
func SplitSchemeNamePort(id string) (scheme, name, port string, valid bool)
```

SplitSchemeNamePort takes a string of the following forms: \* "\<name\>",                 returns "",        "\<name\>","",      true \* "\<name\>:\<port\>",          returns "",        "\<name\>","\<port\>",true \* "\<scheme\>:\<name\>:\<port\>", returns "\<scheme\>","\<name\>","\<port\>",true

Name must be non\-empty or valid will be returned false. Scheme must be "http" or "https" if specified Port is returned as a string, and it is not required to be numeric \(could be used for a named port, for example\).

## func TLSClientConfig

```go
func TLSClientConfig(transport http.RoundTripper) (*tls.Config, error)
```

## type AddressFamily

```go
type AddressFamily uint
```

## type AddressFamilyPreference

```go
type AddressFamilyPreference []AddressFamily
```

## type DialFunc

```go
type DialFunc func(ctx context.Context, net, addr string) (net.Conn, error)
```

### func DialerFor

```go
func DialerFor(transport http.RoundTripper) (DialFunc, error)
```

## type Dialer

Dialer dials a host and writes a request to it.

```go
type Dialer interface {
    // Dial connects to the host specified by req's URL, writes the request to the connection, and
    // returns the opened net.Conn.
    Dial(req *http.Request) (net.Conn, error)
}
```

## type DialerFunc

DialerFunc implements Dialer for the provided function.

```go
type DialerFunc func(req *http.Request) (net.Conn, error)
```

### func \(DialerFunc\) Dial

```go
func (fn DialerFunc) Dial(req *http.Request) (net.Conn, error)
```

## type PortRange

PortRange represents a range of TCP/UDP ports.  To represent a single port, set Size to 1.

```go
type PortRange struct {
    Base int
    Size int
}
```

### func ParsePortRange

```go
func ParsePortRange(value string) (*PortRange, error)
```

ParsePortRange parses a string of the form "min\-max", inclusive at both ends, and initializes a new PortRange from it.

### func ParsePortRangeOrDie

```go
func ParsePortRangeOrDie(value string) *PortRange
```

### func \(\*PortRange\) Contains

```go
func (pr *PortRange) Contains(p int) bool
```

Contains tests whether a given port falls within the PortRange.

### func \(\*PortRange\) Set

```go
func (pr *PortRange) Set(value string) error
```

Set parses a string of the form "value", "min\-max", or "min\+offset", inclusive at both ends, and sets the PortRange from it.  This is part of the flag.Value and pflag.Value interfaces.

### func \(PortRange\) String

```go
func (pr PortRange) String() string
```

String converts the PortRange to a string representation, which can be parsed by PortRange.Set or ParsePortRange.

### func \(\*PortRange\) Type

```go
func (*PortRange) Type() string
```

Type returns a descriptive string about this type.  This is part of the pflag.Value interface.

## type RoundTripperWrapper

```go
type RoundTripperWrapper interface {
    http.RoundTripper
    WrappedRoundTripper() http.RoundTripper
}
```

## type Route

```go
type Route struct {
    Interface   string
    Destination net.IP
    Gateway     net.IP
    Family      AddressFamily
}
```

## type RouteFile

```go
type RouteFile struct {
    // contains filtered or unexported fields
}
```

## type TLSClientConfigHolder

```go
type TLSClientConfigHolder interface {
    TLSClientConfig() *tls.Config
}
```

## type WarningHeader

WarningHeader contains a single RFC2616 14.46 warnings header

```go
type WarningHeader struct {
    // Codeindicates the type of warning. 299 is a miscellaneous persistent warning
    Code int
    // Agent contains the name or pseudonym of the server adding the Warning header.
    // A single "-" is recommended when agent is unknown.
    Agent string
    // Warning text
    Text string
}
```

### func ParseWarningHeader

```go
func ParseWarningHeader(header string) (result WarningHeader, remainder string, err error)
```

ParseWarningHeader extracts one RFC2616 14.46 warning from the specified header, returning an error if the header does not contain a correctly formatted warning. Any remaining content in the header is returned.

### func ParseWarningHeaders

```go
func ParseWarningHeaders(headers []string) ([]WarningHeader, []error)
```

ParseWarningHeaders extract RFC2616 14.46 warnings headers from the specified set of header values. Multiple comma\-separated warnings per header are supported. If errors are encountered on a header, the remainder of that header are skipped and subsequent headers are parsed. Returns successfully parsed warnings and any errors encountered.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
