<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# breaker

```go
import "github.com/vmware/service-level-indicator-exporter-for-kafka/vendor/github.com/eapache/go-resiliency/breaker"
```

Package breaker implements the circuit\-breaker resiliency pattern for Go.

## Index

- [Variables](<#variables>)
- [type Breaker](<#type-breaker>)
  - [func New(errorThreshold, successThreshold int, timeout time.Duration) *Breaker](<#func-new>)
  - [func (b *Breaker) Go(work func() error) error](<#func-breaker-go>)
  - [func (b *Breaker) Run(work func() error) error](<#func-breaker-run>)


## Variables

ErrBreakerOpen is the error returned from Run\(\) when the function is not executed because the breaker is currently open.

```go
var ErrBreakerOpen = errors.New("circuit breaker is open")
```

## type Breaker

Breaker implements the circuit\-breaker resiliency pattern

```go
type Breaker struct {
    // contains filtered or unexported fields
}
```

### func New

```go
func New(errorThreshold, successThreshold int, timeout time.Duration) *Breaker
```

New constructs a new circuit\-breaker that starts closed. From closed, the breaker opens if "errorThreshold" errors are seen without an error\-free period of at least "timeout". From open, the breaker half\-closes after "timeout". From half\-open, the breaker closes after "successThreshold" consecutive successes, or opens on a single error.

### func \(\*Breaker\) Go

```go
func (b *Breaker) Go(work func() error) error
```

Go will either return ErrBreakerOpen immediately if the circuit\-breaker is already open, or it will run the given function in a separate goroutine. If the function is run, Go will return nil immediately, and will \*not\* return the return value of the function. It is safe to call Go concurrently on the same Breaker.

### func \(\*Breaker\) Run

```go
func (b *Breaker) Run(work func() error) error
```

Run will either return ErrBreakerOpen immediately if the circuit\-breaker is already open, or it will run the given function and pass along its return value. It is safe to call Run concurrently on the same Breaker.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
