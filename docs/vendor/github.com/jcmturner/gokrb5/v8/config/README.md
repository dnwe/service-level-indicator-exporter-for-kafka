<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# config

```go
import "github.com/vmware/service-level-indicator-exporter-for-kafka/vendor/github.com/jcmturner/gokrb5/v8/config"
```

Package config implements KRB5 client and service configuration as described at https://web.mit.edu/kerberos/krb5-latest/doc/admin/conf_files/krb5_conf.html

## Index

- [Constants](<#constants>)
- [type Config](<#type-config>)
  - [func Load(cfgPath string) (*Config, error)](<#func-load>)
  - [func New() *Config](<#func-new>)
  - [func NewFromReader(r io.Reader) (*Config, error)](<#func-newfromreader>)
  - [func NewFromScanner(scanner *bufio.Scanner) (*Config, error)](<#func-newfromscanner>)
  - [func NewFromString(s string) (*Config, error)](<#func-newfromstring>)
  - [func (c *Config) GetKDCs(realm string, tcp bool) (int, map[int]string, error)](<#func-config-getkdcs>)
  - [func (c *Config) GetKpasswdServers(realm string, tcp bool) (int, map[int]string, error)](<#func-config-getkpasswdservers>)
  - [func (c *Config) JSON() (string, error)](<#func-config-json>)
  - [func (c *Config) ResolveRealm(domainName string) string](<#func-config-resolverealm>)
- [type DomainRealm](<#type-domainrealm>)
- [type Invalid](<#type-invalid>)
  - [func InvalidErrorf(format string, a ...interface{}) Invalid](<#func-invaliderrorf>)
  - [func (e Invalid) Error() string](<#func-invalid-error>)
- [type LibDefaults](<#type-libdefaults>)
- [type Realm](<#type-realm>)
- [type UnsupportedDirective](<#type-unsupporteddirective>)
  - [func (e UnsupportedDirective) Error() string](<#func-unsupporteddirective-error>)


## Constants

WeakETypeList is a list of encryption types that have been deemed weak.

```go
const WeakETypeList = "des-cbc-crc des-cbc-md4 des-cbc-md5 des-cbc-raw des3-cbc-raw des-hmac-sha1 arcfour-hmac-exp rc4-hmac-exp arcfour-hmac-md5-exp des"
```

## type Config

Config represents the KRB5 configuration.

```go
type Config struct {
    LibDefaults LibDefaults
    Realms      []Realm
    DomainRealm DomainRealm
}
```

### func Load

```go
func Load(cfgPath string) (*Config, error)
```

Load the KRB5 configuration from the specified file path.

### func New

```go
func New() *Config
```

New creates a new config struct instance.

### func NewFromReader

```go
func NewFromReader(r io.Reader) (*Config, error)
```

NewFromReader creates a new Config struct from an io.Reader.

### func NewFromScanner

```go
func NewFromScanner(scanner *bufio.Scanner) (*Config, error)
```

NewFromScanner creates a new Config struct from a bufio.Scanner.

### func NewFromString

```go
func NewFromString(s string) (*Config, error)
```

NewFromString creates a new Config struct from a string.

### func \(\*Config\) GetKDCs

```go
func (c *Config) GetKDCs(realm string, tcp bool) (int, map[int]string, error)
```

GetKDCs returns the count of KDCs available and a map of KDC host names keyed on preference order.

### func \(\*Config\) GetKpasswdServers

```go
func (c *Config) GetKpasswdServers(realm string, tcp bool) (int, map[int]string, error)
```

GetKpasswdServers returns the count of kpasswd servers available and a map of kpasswd host names keyed on preference order. https://web.mit.edu/kerberos/krb5-latest/doc/admin/conf_files/krb5_conf.html#realms \- see kpasswd\_server section

### func \(\*Config\) JSON

```go
func (c *Config) JSON() (string, error)
```

JSON return details of the config in a JSON format.

### func \(\*Config\) ResolveRealm

```go
func (c *Config) ResolveRealm(domainName string) string
```

ResolveRealm resolves the kerberos realm for the specified domain name from the domain to realm mapping. The most specific mapping is returned.

## type DomainRealm

DomainRealm maps the domains to realms representing the \[domain\_realm\] section of the configuration.

```go
type DomainRealm map[string]string
```

## type Invalid

Invalid config error.

```go
type Invalid struct {
    // contains filtered or unexported fields
}
```

### func InvalidErrorf

```go
func InvalidErrorf(format string, a ...interface{}) Invalid
```

InvalidErrorf creates a new Invalid error.

### func \(Invalid\) Error

```go
func (e Invalid) Error() string
```

Error implements the error interface for invalid config error.

## type LibDefaults

LibDefaults represents the \[libdefaults\] section of the configuration.

```go
type LibDefaults struct {
    AllowWeakCrypto bool //default false
    // ap_req_checksum_type int //unlikely to support this
    Canonicalize bool          //default false
    CCacheType   int           //default is 4. unlikely to implement older
    Clockskew    time.Duration //max allowed skew in seconds, default 300
    //Default_ccache_name string // default /tmp/krb5cc_%{uid} //Not implementing as will hold in memory
    DefaultClientKeytabName string //default /usr/local/var/krb5/user/%{euid}/client.keytab
    DefaultKeytabName       string //default /etc/krb5.keytab
    DefaultRealm            string
    DefaultTGSEnctypes      []string //default aes256-cts-hmac-sha1-96 aes128-cts-hmac-sha1-96 des3-cbc-sha1 arcfour-hmac-md5 camellia256-cts-cmac camellia128-cts-cmac des-cbc-crc des-cbc-md5 des-cbc-md4
    DefaultTktEnctypes      []string //default aes256-cts-hmac-sha1-96 aes128-cts-hmac-sha1-96 des3-cbc-sha1 arcfour-hmac-md5 camellia256-cts-cmac camellia128-cts-cmac des-cbc-crc des-cbc-md5 des-cbc-md4
    DefaultTGSEnctypeIDs    []int32  //default aes256-cts-hmac-sha1-96 aes128-cts-hmac-sha1-96 des3-cbc-sha1 arcfour-hmac-md5 camellia256-cts-cmac camellia128-cts-cmac des-cbc-crc des-cbc-md5 des-cbc-md4
    DefaultTktEnctypeIDs    []int32  //default aes256-cts-hmac-sha1-96 aes128-cts-hmac-sha1-96 des3-cbc-sha1 arcfour-hmac-md5 camellia256-cts-cmac camellia128-cts-cmac des-cbc-crc des-cbc-md5 des-cbc-md4
    DNSCanonicalizeHostname bool     //default true
    DNSLookupKDC            bool     //default false
    DNSLookupRealm          bool
    ExtraAddresses          []net.IP       //Not implementing yet
    Forwardable             bool           //default false
    IgnoreAcceptorHostname  bool           //default false
    K5LoginAuthoritative    bool           //default false
    K5LoginDirectory        string         //default user's home directory. Must be owned by the user or root
    KDCDefaultOptions       asn1.BitString //default 0x00000010 (KDC_OPT_RENEWABLE_OK)
    KDCTimeSync             int            //default 1
    //kdc_req_checksum_type int //unlikely to implement as for very old KDCs
    NoAddresses         bool     //default true
    PermittedEnctypes   []string //default aes256-cts-hmac-sha1-96 aes128-cts-hmac-sha1-96 des3-cbc-sha1 arcfour-hmac-md5 camellia256-cts-cmac camellia128-cts-cmac des-cbc-crc des-cbc-md5 des-cbc-md4
    PermittedEnctypeIDs []int32
    //plugin_base_dir string //not supporting plugins
    PreferredPreauthTypes []int         //default “17, 16, 15, 14”, which forces libkrb5 to attempt to use PKINIT if it is supported
    Proxiable             bool          //default false
    RDNS                  bool          //default true
    RealmTryDomains       int           //default -1
    RenewLifetime         time.Duration //default 0
    SafeChecksumType      int           //default 8
    TicketLifetime        time.Duration //default 1 day
    UDPPreferenceLimit    int           // 1 means to always use tcp. MIT krb5 has a default value of 1465, and it prevents user setting more than 32700.
    VerifyAPReqNofail     bool          //default false
}
```

## type Realm

Realm represents an entry in the \[realms\] section of the configuration.

```go
type Realm struct {
    Realm       string
    AdminServer []string
    //auth_to_local //Not implementing for now
    //auth_to_local_names //Not implementing for now
    DefaultDomain string
    KDC           []string
    KPasswdServer []string //default admin_server:464
    MasterKDC     []string
}
```

## type UnsupportedDirective

UnsupportedDirective error.

```go
type UnsupportedDirective struct {
    // contains filtered or unexported fields
}
```

### func \(UnsupportedDirective\) Error

```go
func (e UnsupportedDirective) Error() string
```

Error implements the error interface for unsupported directives.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
