<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# trust

```go
import "github.com/vmware/service-level-indicator-exporter-for-kafka/vendor/github.com/docker/cli/cli/trust"
```

## Index

- [Variables](<#variables>)
- [func GetNotaryRepository(in io.Reader, out io.Writer, userAgent string, repoInfo *registry.RepositoryInfo, authConfig *types.AuthConfig, actions ...string) (client.Repository, error)](<#func-getnotaryrepository>)
- [func GetPassphraseRetriever(in io.Reader, out io.Writer) notary.PassRetriever](<#func-getpassphraseretriever>)
- [func GetSignableRoles(repo client.Repository, target *client.Target) ([]data.RoleName, error)](<#func-getsignableroles>)
- [func GetTrustDirectory() string](<#func-gettrustdirectory>)
- [func NotaryError(repoName string, err error) error](<#func-notaryerror>)
- [func Server(index *registrytypes.IndexInfo) (string, error)](<#func-server>)
- [type ImageRefAndAuth](<#type-imagerefandauth>)
  - [func GetImageReferencesAndAuth(ctx context.Context, rs registry.Service, authResolver func(ctx context.Context, index *registrytypes.IndexInfo) types.AuthConfig, imgName string) (ImageRefAndAuth, error)](<#func-getimagereferencesandauth>)
  - [func (imgRefAuth *ImageRefAndAuth) AuthConfig() *types.AuthConfig](<#func-imagerefandauth-authconfig>)
  - [func (imgRefAuth *ImageRefAndAuth) Digest() digest.Digest](<#func-imagerefandauth-digest>)
  - [func (imgRefAuth *ImageRefAndAuth) Name() string](<#func-imagerefandauth-name>)
  - [func (imgRefAuth *ImageRefAndAuth) Reference() reference.Named](<#func-imagerefandauth-reference>)
  - [func (imgRefAuth *ImageRefAndAuth) RepoInfo() *registry.RepositoryInfo](<#func-imagerefandauth-repoinfo>)
  - [func (imgRefAuth *ImageRefAndAuth) Tag() string](<#func-imagerefandauth-tag>)


## Variables

```go
var (
    // ReleasesRole is the role named "releases"
    ReleasesRole = data.RoleName(path.Join(data.CanonicalTargetsRole.String(), "releases"))
    // ActionsPullOnly defines the actions for read-only interactions with a Notary Repository
    ActionsPullOnly = []string{"pull"}
    // ActionsPushAndPull defines the actions for read-write interactions with a Notary Repository
    ActionsPushAndPull = []string{"pull", "push"}
    // NotaryServer is the endpoint serving the Notary trust server
    NotaryServer = "https://notary.docker.io"
)
```

## func GetNotaryRepository

```go
func GetNotaryRepository(in io.Reader, out io.Writer, userAgent string, repoInfo *registry.RepositoryInfo, authConfig *types.AuthConfig, actions ...string) (client.Repository, error)
```

GetNotaryRepository returns a NotaryRepository which stores all the information needed to operate on a notary repository. It creates an HTTP transport providing authentication support.

## func GetPassphraseRetriever

```go
func GetPassphraseRetriever(in io.Reader, out io.Writer) notary.PassRetriever
```

GetPassphraseRetriever returns a passphrase retriever that utilizes Content Trust env vars

## func GetSignableRoles

```go
func GetSignableRoles(repo client.Repository, target *client.Target) ([]data.RoleName, error)
```

GetSignableRoles returns a list of roles for which we have valid signing keys, given a notary repository and a target

## func GetTrustDirectory

```go
func GetTrustDirectory() string
```

GetTrustDirectory returns the base trust directory name

## func NotaryError

```go
func NotaryError(repoName string, err error) error
```

NotaryError formats an error message received from the notary service

## func Server

```go
func Server(index *registrytypes.IndexInfo) (string, error)
```

Server returns the base URL for the trust server.

## type ImageRefAndAuth

ImageRefAndAuth contains all reference information and the auth config for an image request

```go
type ImageRefAndAuth struct {
    // contains filtered or unexported fields
}
```

### func GetImageReferencesAndAuth

```go
func GetImageReferencesAndAuth(ctx context.Context, rs registry.Service, authResolver func(ctx context.Context, index *registrytypes.IndexInfo) types.AuthConfig, imgName string) (ImageRefAndAuth, error)
```

GetImageReferencesAndAuth retrieves the necessary reference and auth information for an image name as an ImageRefAndAuth struct

### func \(\*ImageRefAndAuth\) AuthConfig

```go
func (imgRefAuth *ImageRefAndAuth) AuthConfig() *types.AuthConfig
```

AuthConfig returns the auth information \(username, etc\) for a given ImageRefAndAuth

### func \(\*ImageRefAndAuth\) Digest

```go
func (imgRefAuth *ImageRefAndAuth) Digest() digest.Digest
```

Digest returns the Image digest for a given ImageRefAndAuth

### func \(\*ImageRefAndAuth\) Name

```go
func (imgRefAuth *ImageRefAndAuth) Name() string
```

Name returns the image name used to initialize the ImageRefAndAuth

### func \(\*ImageRefAndAuth\) Reference

```go
func (imgRefAuth *ImageRefAndAuth) Reference() reference.Named
```

Reference returns the Image reference for a given ImageRefAndAuth

### func \(\*ImageRefAndAuth\) RepoInfo

```go
func (imgRefAuth *ImageRefAndAuth) RepoInfo() *registry.RepositoryInfo
```

RepoInfo returns the repository information for a given ImageRefAndAuth

### func \(\*ImageRefAndAuth\) Tag

```go
func (imgRefAuth *ImageRefAndAuth) Tag() string
```

Tag returns the Image tag for a given ImageRefAndAuth



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
