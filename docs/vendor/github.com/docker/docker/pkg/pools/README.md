<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# pools

```go
import "github.com/docker/docker/pkg/pools"
```

Package pools provides a collection of pools which provide various data types with buffers. These can be used to lower the number of memory allocations and reuse buffers.

New pools should be added to this package to allow them to be shared across packages.

Utility functions which operate on pools should be added to this package to allow them to be reused.

## Index

- [Variables](<#variables>)
- [func Copy(dst io.Writer, src io.Reader) (written int64, err error)](<#func-copy>)
- [type BufioReaderPool](<#type-bufioreaderpool>)
  - [func (bufPool *BufioReaderPool) Get(r io.Reader) *bufio.Reader](<#func-bufioreaderpool-get>)
  - [func (bufPool *BufioReaderPool) NewReadCloserWrapper(buf *bufio.Reader, r io.Reader) io.ReadCloser](<#func-bufioreaderpool-newreadcloserwrapper>)
  - [func (bufPool *BufioReaderPool) Put(b *bufio.Reader)](<#func-bufioreaderpool-put>)
- [type BufioWriterPool](<#type-bufiowriterpool>)
  - [func (bufPool *BufioWriterPool) Get(w io.Writer) *bufio.Writer](<#func-bufiowriterpool-get>)
  - [func (bufPool *BufioWriterPool) NewWriteCloserWrapper(buf *bufio.Writer, w io.Writer) io.WriteCloser](<#func-bufiowriterpool-newwritecloserwrapper>)
  - [func (bufPool *BufioWriterPool) Put(b *bufio.Writer)](<#func-bufiowriterpool-put>)


## Variables

```go
var (
    // BufioReader32KPool is a pool which returns bufio.Reader with a 32K buffer.
    BufioReader32KPool = newBufioReaderPoolWithSize(buffer32K)
    // BufioWriter32KPool is a pool which returns bufio.Writer with a 32K buffer.
    BufioWriter32KPool = newBufioWriterPoolWithSize(buffer32K)
)
```

## func Copy

```go
func Copy(dst io.Writer, src io.Reader) (written int64, err error)
```

Copy is a convenience wrapper which uses a buffer to avoid allocation in io.Copy.

## type BufioReaderPool

BufioReaderPool is a bufio reader that uses sync.Pool.

```go
type BufioReaderPool struct {
    // contains filtered or unexported fields
}
```

### func \(\*BufioReaderPool\) Get

```go
func (bufPool *BufioReaderPool) Get(r io.Reader) *bufio.Reader
```

Get returns a bufio.Reader which reads from r. The buffer size is that of the pool.

### func \(\*BufioReaderPool\) NewReadCloserWrapper

```go
func (bufPool *BufioReaderPool) NewReadCloserWrapper(buf *bufio.Reader, r io.Reader) io.ReadCloser
```

NewReadCloserWrapper returns a wrapper which puts the bufio.Reader back into the pool and closes the reader if it's an io.ReadCloser.

### func \(\*BufioReaderPool\) Put

```go
func (bufPool *BufioReaderPool) Put(b *bufio.Reader)
```

Put puts the bufio.Reader back into the pool.

## type BufioWriterPool

BufioWriterPool is a bufio writer that uses sync.Pool.

```go
type BufioWriterPool struct {
    // contains filtered or unexported fields
}
```

### func \(\*BufioWriterPool\) Get

```go
func (bufPool *BufioWriterPool) Get(w io.Writer) *bufio.Writer
```

Get returns a bufio.Writer which writes to w. The buffer size is that of the pool.

### func \(\*BufioWriterPool\) NewWriteCloserWrapper

```go
func (bufPool *BufioWriterPool) NewWriteCloserWrapper(buf *bufio.Writer, w io.Writer) io.WriteCloser
```

NewWriteCloserWrapper returns a wrapper which puts the bufio.Writer back into the pool and closes the writer if it's an io.Writecloser.

### func \(\*BufioWriterPool\) Put

```go
func (bufPool *BufioWriterPool) Put(b *bufio.Writer)
```

Put puts the bufio.Writer back into the pool.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
