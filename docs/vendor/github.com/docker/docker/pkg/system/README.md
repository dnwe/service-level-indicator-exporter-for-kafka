<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# system

```go
import "github.com/docker/docker/pkg/system"
```

## Index

- [Variables](<#variables>)
- [func CheckSystemDriveAndRemoveDriveLetter(path string, driver PathVerifier) (string, error)](<#func-checksystemdriveandremovedriveletter>)
- [func Chtimes(name string, atime time.Time, mtime time.Time) error](<#func-chtimes>)
- [func CreateSequential(name string) (*os.File, error)](<#func-createsequential>)
- [func DefaultPathEnv(os string) string](<#func-defaultpathenv>)
- [func GetExitCode(err error) (int, error)](<#func-getexitcode>)
- [func GetLongPathName(path string) (string, error)](<#func-getlongpathname>)
- [func IsAbs(path string) bool](<#func-isabs>)
- [func IsOSSupported(os string) bool](<#func-isossupported>)
- [func IsProcessAlive(pid int) bool](<#func-isprocessalive>)
- [func IsProcessZombie(pid int) (bool, error)](<#func-isprocesszombie>)
- [func KillProcess(pid int)](<#func-killprocess>)
- [func LUtimesNano(path string, ts []syscall.Timespec) error](<#func-lutimesnano>)
- [func Lgetxattr(path string, attr string) ([]byte, error)](<#func-lgetxattr>)
- [func Lsetxattr(path string, attr string, data []byte, flags int) error](<#func-lsetxattr>)
- [func Mkdev(major int64, minor int64) uint32](<#func-mkdev>)
- [func MkdirAll(path string, perm os.FileMode) error](<#func-mkdirall>)
- [func MkdirAllWithACL(path string, perm os.FileMode, sddl string) error](<#func-mkdirallwithacl>)
- [func Mknod(path string, mode uint32, dev int) error](<#func-mknod>)
- [func OpenFileSequential(name string, flag int, perm os.FileMode) (*os.File, error)](<#func-openfilesequential>)
- [func OpenSequential(name string) (*os.File, error)](<#func-opensequential>)
- [func TempFileSequential(dir, prefix string) (f *os.File, err error)](<#func-tempfilesequential>)
- [func Umask(newmask int) (oldmask int, err error)](<#func-umask>)
- [type MemInfo](<#type-meminfo>)
  - [func ReadMemInfo() (*MemInfo, error)](<#func-readmeminfo>)
- [type PathVerifier](<#type-pathverifier>)
- [type StatT](<#type-statt>)
  - [func Lstat(path string) (*StatT, error)](<#func-lstat>)
  - [func Stat(path string) (*StatT, error)](<#func-stat>)
  - [func (s StatT) GID() uint32](<#func-statt-gid>)
  - [func (s StatT) IsDir() bool](<#func-statt-isdir>)
  - [func (s StatT) Mode() uint32](<#func-statt-mode>)
  - [func (s StatT) Mtim() syscall.Timespec](<#func-statt-mtim>)
  - [func (s StatT) Rdev() uint64](<#func-statt-rdev>)
  - [func (s StatT) Size() int64](<#func-statt-size>)
  - [func (s StatT) UID() uint32](<#func-statt-uid>)


## Variables

```go
var (
    // ErrNotSupportedPlatform means the platform is not supported.
    ErrNotSupportedPlatform = errors.New("platform and architecture is not supported")

    // ErrNotSupportedOperatingSystem means the operating system is not supported.
    ErrNotSupportedOperatingSystem = errors.New("operating system is not supported")
)
```

## func CheckSystemDriveAndRemoveDriveLetter

```go
func CheckSystemDriveAndRemoveDriveLetter(path string, driver PathVerifier) (string, error)
```

CheckSystemDriveAndRemoveDriveLetter verifies that a path, if it includes a drive letter, is the system drive. On Linux: this is a no\-op. On Windows: this does the following\> CheckSystemDriveAndRemoveDriveLetter verifies and manipulates a Windows path. This is used, for example, when validating a user provided path in docker cp. If a drive letter is supplied, it must be the system drive. The drive letter is always removed. Also, it translates it to OS semantics \(IOW / to \\\). We need the path in this syntax so that it can ultimately be concatenated with a Windows long\-path which doesn't support drive\-letters. Examples: C:			\-\-\> Fail C:\\			\-\-\> \\ a			\-\-\> a /a			\-\-\> \\a d:\\			\-\-\> Fail

## func Chtimes

```go
func Chtimes(name string, atime time.Time, mtime time.Time) error
```

Chtimes changes the access time and modified time of a file at the given path

## func CreateSequential

```go
func CreateSequential(name string) (*os.File, error)
```

CreateSequential is deprecated.

Deprecated: use os.Create or github.com/moby/sys/sequential.Create\(\)

## func DefaultPathEnv

```go
func DefaultPathEnv(os string) string
```

DefaultPathEnv is unix style list of directories to search for executables. Each directory is separated from the next by a colon ':' character . For Windows containers, an empty string is returned as the default path will be set by the container, and Docker has no context of what the default path should be.

## func GetExitCode

```go
func GetExitCode(err error) (int, error)
```

GetExitCode returns the ExitStatus of the specified error if its type is exec.ExitError, returns 0 and an error otherwise.

## func GetLongPathName

```go
func GetLongPathName(path string) (string, error)
```

GetLongPathName converts Windows short pathnames to full pathnames. For example C:\\Users\\ADMIN\~1 \-\-\> C:\\Users\\Administrator. It is a no\-op on non\-Windows platforms

## func IsAbs

```go
func IsAbs(path string) bool
```

IsAbs is a platform\-agnostic wrapper for filepath.IsAbs.

On Windows, golang filepath.IsAbs does not consider a path \\windows\\system32 as absolute as it doesn't start with a drive\-letter/colon combination. However, in docker we need to verify things such as WORKDIR /windows/system32 in a Dockerfile \(which gets translated to \\windows\\system32 when being processed by the daemon\). This SHOULD be treated as absolute from a docker processing perspective.

## func IsOSSupported

```go
func IsOSSupported(os string) bool
```

IsOSSupported determines if an operating system is supported by the host.

## func IsProcessAlive

```go
func IsProcessAlive(pid int) bool
```

IsProcessAlive returns true if process with a given pid is running.

## func IsProcessZombie

```go
func IsProcessZombie(pid int) (bool, error)
```

IsProcessZombie return true if process has a state with "Z" http://man7.org/linux/man-pages/man5/proc.5.html

## func KillProcess

```go
func KillProcess(pid int)
```

KillProcess force\-stops a process.

## func LUtimesNano

```go
func LUtimesNano(path string, ts []syscall.Timespec) error
```

LUtimesNano is only supported on linux and freebsd.

## func Lgetxattr

```go
func Lgetxattr(path string, attr string) ([]byte, error)
```

Lgetxattr is not supported on platforms other than linux.

## func Lsetxattr

```go
func Lsetxattr(path string, attr string, data []byte, flags int) error
```

Lsetxattr is not supported on platforms other than linux.

## func Mkdev

```go
func Mkdev(major int64, minor int64) uint32
```

Mkdev is used to build the value of linux devices \(in /dev/\) which specifies major and minor number of the newly created device special file. Linux device nodes are a bit weird due to backwards compat with 16 bit device nodes. They are, from low to high: the lower 8 bits of the minor, then 12 bits of the major, then the top 12 bits of the minor.

## func MkdirAll

```go
func MkdirAll(path string, perm os.FileMode) error
```

MkdirAll creates a directory named path along with any necessary parents, with permission specified by attribute perm for all dir created.

## func MkdirAllWithACL

```go
func MkdirAllWithACL(path string, perm os.FileMode, sddl string) error
```

MkdirAllWithACL is a wrapper for os.MkdirAll on unix systems.

## func Mknod

```go
func Mknod(path string, mode uint32, dev int) error
```

Mknod creates a filesystem node \(file, device special file or named pipe\) named path with attributes specified by mode and dev.

## func OpenFileSequential

```go
func OpenFileSequential(name string, flag int, perm os.FileMode) (*os.File, error)
```

OpenFileSequential is deprecated.

Deprecated: use github.com/moby/sys/sequential.OpenFile\(\)

## func OpenSequential

```go
func OpenSequential(name string) (*os.File, error)
```

OpenSequential is deprecated.

Deprecated: use os.Open or github.com/moby/sys/sequential.Open

## func TempFileSequential

```go
func TempFileSequential(dir, prefix string) (f *os.File, err error)
```

TempFileSequential is deprecated.

Deprecated: use os.CreateTemp or github.com/moby/sys/sequential.CreateTemp

## func Umask

```go
func Umask(newmask int) (oldmask int, err error)
```

Umask sets current process's file mode creation mask to newmask and returns oldmask.

## type MemInfo

MemInfo contains memory statistics of the host system.

```go
type MemInfo struct {
    // Total usable RAM (i.e. physical RAM minus a few reserved bits and the
    // kernel binary code).
    MemTotal int64

    // Amount of free memory.
    MemFree int64

    // Total amount of swap space available.
    SwapTotal int64

    // Amount of swap space that is currently unused.
    SwapFree int64
}
```

### func ReadMemInfo

```go
func ReadMemInfo() (*MemInfo, error)
```

ReadMemInfo is not supported on platforms other than linux and windows.

## type PathVerifier

PathVerifier defines the subset of a PathDriver that CheckSystemDriveAndRemoveDriveLetter actually uses in order to avoid system depending on containerd/continuity.

```go
type PathVerifier interface {
    IsAbs(string) bool
}
```

## type StatT

StatT type contains status of a file. It contains metadata like permission, owner, group, size, etc about a file.

```go
type StatT struct {
    // contains filtered or unexported fields
}
```

### func Lstat

```go
func Lstat(path string) (*StatT, error)
```

Lstat takes a path to a file and returns a system.StatT type pertaining to that file.

Throws an error if the file does not exist

### func Stat

```go
func Stat(path string) (*StatT, error)
```

Stat takes a path to a file and returns a system.StatT type pertaining to that file.

Throws an error if the file does not exist

### func \(StatT\) GID

```go
func (s StatT) GID() uint32
```

GID returns file's group id of owner.

### func \(StatT\) IsDir

```go
func (s StatT) IsDir() bool
```

IsDir reports whether s describes a directory.

### func \(StatT\) Mode

```go
func (s StatT) Mode() uint32
```

Mode returns file's permission mode.

### func \(StatT\) Mtim

```go
func (s StatT) Mtim() syscall.Timespec
```

Mtim returns file's last modification time.

### func \(StatT\) Rdev

```go
func (s StatT) Rdev() uint64
```

Rdev returns file's device ID \(if it's special file\).

### func \(StatT\) Size

```go
func (s StatT) Size() int64
```

Size returns file's size.

### func \(StatT\) UID

```go
func (s StatT) UID() uint32
```

UID returns file's user id of owner.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
