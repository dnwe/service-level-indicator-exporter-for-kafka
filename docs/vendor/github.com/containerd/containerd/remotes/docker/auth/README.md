<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# auth

```go
import "github.com/vmware/service-level-indicator-exporter-for-kafka/vendor/github.com/containerd/containerd/remotes/docker/auth"
```

## Index

- [Variables](<#variables>)
- [type AuthenticationScheme](<#type-authenticationscheme>)
- [type Challenge](<#type-challenge>)
  - [func ParseAuthHeader(header http.Header) []Challenge](<#func-parseauthheader>)
- [type FetchTokenResponse](<#type-fetchtokenresponse>)
  - [func FetchToken(ctx context.Context, client *http.Client, headers http.Header, to TokenOptions) (*FetchTokenResponse, error)](<#func-fetchtoken>)
- [type OAuthTokenResponse](<#type-oauthtokenresponse>)
  - [func FetchTokenWithOAuth(ctx context.Context, client *http.Client, headers http.Header, clientID string, to TokenOptions) (*OAuthTokenResponse, error)](<#func-fetchtokenwithoauth>)
- [type TokenOptions](<#type-tokenoptions>)
  - [func GenerateTokenOptions(ctx context.Context, host, username, secret string, c Challenge) (TokenOptions, error)](<#func-generatetokenoptions>)


## Variables

```go
var (
    // ErrNoToken is returned if a request is successful but the body does not
    // contain an authorization token.
    ErrNoToken = errors.New("authorization server did not include a token in the response")
)
```

## type AuthenticationScheme

AuthenticationScheme defines scheme of the authentication method

```go
type AuthenticationScheme byte
```

```go
const (
    // BasicAuth is scheme for Basic HTTP Authentication RFC 7617
    BasicAuth AuthenticationScheme = 1 << iota
    // DigestAuth is scheme for HTTP Digest Access Authentication RFC 7616
    DigestAuth
    // BearerAuth is scheme for OAuth 2.0 Bearer Tokens RFC 6750
    BearerAuth
)
```

## type Challenge

Challenge carries information from a WWW\-Authenticate response header. See RFC 2617.

```go
type Challenge struct {
    // scheme is the auth-scheme according to RFC 2617
    Scheme AuthenticationScheme

    // parameters are the auth-params according to RFC 2617
    Parameters map[string]string
}
```

### func ParseAuthHeader

```go
func ParseAuthHeader(header http.Header) []Challenge
```

ParseAuthHeader parses challenges from WWW\-Authenticate header

## type FetchTokenResponse

FetchTokenResponse is response from fetching token with GET request

```go
type FetchTokenResponse struct {
    Token        string    `json:"token"`
    AccessToken  string    `json:"access_token"`
    ExpiresIn    int       `json:"expires_in"`
    IssuedAt     time.Time `json:"issued_at"`
    RefreshToken string    `json:"refresh_token"`
}
```

### func FetchToken

```go
func FetchToken(ctx context.Context, client *http.Client, headers http.Header, to TokenOptions) (*FetchTokenResponse, error)
```

FetchToken fetches a token using a GET request

## type OAuthTokenResponse

OAuthTokenResponse is response from fetching token with a OAuth POST request

```go
type OAuthTokenResponse struct {
    AccessToken  string    `json:"access_token"`
    RefreshToken string    `json:"refresh_token"`
    ExpiresIn    int       `json:"expires_in"`
    IssuedAt     time.Time `json:"issued_at"`
    Scope        string    `json:"scope"`
}
```

### func FetchTokenWithOAuth

```go
func FetchTokenWithOAuth(ctx context.Context, client *http.Client, headers http.Header, clientID string, to TokenOptions) (*OAuthTokenResponse, error)
```

FetchTokenWithOAuth fetches a token using a POST request

## type TokenOptions

TokenOptions are options for requesting a token

```go
type TokenOptions struct {
    Realm    string
    Service  string
    Scopes   []string
    Username string
    Secret   string

    // FetchRefreshToken enables fetching a refresh token (aka "identity token", "offline token") along with the bearer token.
    //
    // For HTTP GET mode (FetchToken), FetchRefreshToken sets `offline_token=true` in the request.
    // https://docs.docker.com/registry/spec/auth/token/#requesting-a-token
    //
    // For HTTP POST mode (FetchTokenWithOAuth), FetchRefreshToken sets `access_type=offline` in the request.
    // https://docs.docker.com/registry/spec/auth/oauth/#getting-a-token
    FetchRefreshToken bool
}
```

### func GenerateTokenOptions

```go
func GenerateTokenOptions(ctx context.Context, host, username, secret string, c Challenge) (TokenOptions, error)
```

GenerateTokenOptions generates options for fetching a token based on a challenge



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
