<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# llb

```go
import "github.com/vmware/service-level-indicator-exporter-for-kafka/vendor/github.com/moby/buildkit/client/llb"
```

## Index

- [Constants](<#constants>)
- [Variables](<#variables>)
- [func ForceNoOutput(m *mount)](<#func-forcenooutput>)
- [func MarshalConstraints(base, override *Constraints) (*pb.Op, *pb.OpMetadata)](<#func-marshalconstraints>)
- [func Readonly(m *mount)](<#func-readonly>)
- [func WriteTo(def *Definition, w io.Writer) error](<#func-writeto>)
- [type CacheMountSharingMode](<#type-cachemountsharingmode>)
- [type ChownOpt](<#type-chownopt>)
  - [func (co ChownOpt) SetCopyOption(mi *CopyInfo)](<#func-chownopt-setcopyoption>)
  - [func (co ChownOpt) SetMkdirOption(mi *MkdirInfo)](<#func-chownopt-setmkdiroption>)
  - [func (co ChownOpt) SetMkfileOption(mi *MkfileInfo)](<#func-chownopt-setmkfileoption>)
- [type ChownOption](<#type-chownoption>)
  - [func WithUIDGID(uid, gid int) ChownOption](<#func-withuidgid>)
  - [func WithUser(name string) ChownOption](<#func-withuser>)
- [type Constraints](<#type-constraints>)
  - [func NewConstraints(co ...ConstraintsOpt) *Constraints](<#func-newconstraints>)
- [type ConstraintsOpt](<#type-constraintsopt>)
  - [func LocalUniqueID(v string) ConstraintsOpt](<#func-localuniqueid>)
  - [func Platform(p ocispecs.Platform) ConstraintsOpt](<#func-platform>)
  - [func ProgressGroup(id, name string, weak bool) ConstraintsOpt](<#func-progressgroup>)
  - [func Require(filters ...string) ConstraintsOpt](<#func-require>)
  - [func WithCaps(caps apicaps.CapSet) ConstraintsOpt](<#func-withcaps>)
  - [func WithCustomName(name string) ConstraintsOpt](<#func-withcustomname>)
  - [func WithCustomNamef(name string, a ...interface{}) ConstraintsOpt](<#func-withcustomnamef>)
  - [func WithDescription(m map[string]string) ConstraintsOpt](<#func-withdescription>)
  - [func WithExportCache() ConstraintsOpt](<#func-withexportcache>)
  - [func WithoutDefaultExportCache() ConstraintsOpt](<#func-withoutdefaultexportcache>)
  - [func WithoutExportCache() ConstraintsOpt](<#func-withoutexportcache>)
- [type CopyInfo](<#type-copyinfo>)
  - [func (mi *CopyInfo) SetCopyOption(mi2 *CopyInfo)](<#func-copyinfo-setcopyoption>)
- [type CopyInput](<#type-copyinput>)
- [type CopyOption](<#type-copyoption>)
- [type CreatedTime](<#type-createdtime>)
  - [func WithCreatedTime(t time.Time) CreatedTime](<#func-withcreatedtime>)
  - [func (c CreatedTime) SetCopyOption(mi *CopyInfo)](<#func-createdtime-setcopyoption>)
  - [func (c CreatedTime) SetMkdirOption(mi *MkdirInfo)](<#func-createdtime-setmkdiroption>)
  - [func (c CreatedTime) SetMkfileOption(mi *MkfileInfo)](<#func-createdtime-setmkfileoption>)
- [type Definition](<#type-definition>)
  - [func ReadFrom(r io.Reader) (*Definition, error)](<#func-readfrom>)
  - [func (def *Definition) FromPB(x *pb.Definition)](<#func-definition-frompb>)
  - [func (def *Definition) Head() (digest.Digest, error)](<#func-definition-head>)
  - [func (def *Definition) ToPB() *pb.Definition](<#func-definition-topb>)
- [type DefinitionOp](<#type-definitionop>)
  - [func NewDefinitionOp(def *pb.Definition) (*DefinitionOp, error)](<#func-newdefinitionop>)
  - [func (d *DefinitionOp) Inputs() []Output](<#func-definitionop-inputs>)
  - [func (d *DefinitionOp) Marshal(ctx context.Context, c *Constraints) (digest.Digest, []byte, *pb.OpMetadata, []*SourceLocation, error)](<#func-definitionop-marshal>)
  - [func (d *DefinitionOp) Output() Output](<#func-definitionop-output>)
  - [func (d *DefinitionOp) ToInput(ctx context.Context, c *Constraints) (*pb.Input, error)](<#func-definitionop-toinput>)
  - [func (d *DefinitionOp) Validate(context.Context, *Constraints) error](<#func-definitionop-validate>)
  - [func (d *DefinitionOp) Vertex(context.Context, *Constraints) Vertex](<#func-definitionop-vertex>)
- [type DiffOp](<#type-diffop>)
  - [func NewDiff(lower, upper State, c Constraints) *DiffOp](<#func-newdiff>)
  - [func (m *DiffOp) Inputs() (out []Output)](<#func-diffop-inputs>)
  - [func (m *DiffOp) Marshal(ctx context.Context, constraints *Constraints) (digest.Digest, []byte, *pb.OpMetadata, []*SourceLocation, error)](<#func-diffop-marshal>)
  - [func (m *DiffOp) Output() Output](<#func-diffop-output>)
  - [func (m *DiffOp) Validate(ctx context.Context, constraints *Constraints) error](<#func-diffop-validate>)
- [type DiffType](<#type-difftype>)
- [type DifferInfo](<#type-differinfo>)
- [type EnvList](<#type-envlist>)
  - [func (e EnvList) AddOrReplace(k, v string) EnvList](<#func-envlist-addorreplace>)
  - [func (e EnvList) Delete(k string) EnvList](<#func-envlist-delete>)
  - [func (e EnvList) Get(k string) (string, bool)](<#func-envlist-get>)
  - [func (e EnvList) Index(k string) (int, bool)](<#func-envlist-index>)
  - [func (e EnvList) SetDefault(k, v string) EnvList](<#func-envlist-setdefault>)
  - [func (e EnvList) ToArray() []string](<#func-envlist-toarray>)
- [type ExecInfo](<#type-execinfo>)
- [type ExecOp](<#type-execop>)
  - [func NewExecOp(base State, proxyEnv *ProxyEnv, readOnly bool, c Constraints) *ExecOp](<#func-newexecop>)
  - [func (e *ExecOp) AddMount(target string, source Output, opt ...MountOption) Output](<#func-execop-addmount>)
  - [func (e *ExecOp) GetMount(target string) Output](<#func-execop-getmount>)
  - [func (e *ExecOp) Inputs() (inputs []Output)](<#func-execop-inputs>)
  - [func (e *ExecOp) Marshal(ctx context.Context, c *Constraints) (digest.Digest, []byte, *pb.OpMetadata, []*SourceLocation, error)](<#func-execop-marshal>)
  - [func (e *ExecOp) Output() Output](<#func-execop-output>)
  - [func (e *ExecOp) Validate(ctx context.Context, c *Constraints) error](<#func-execop-validate>)
- [type ExecState](<#type-execstate>)
  - [func (e ExecState) AddMount(target string, source State, opt ...MountOption) State](<#func-execstate-addmount>)
  - [func (e ExecState) GetMount(target string) State](<#func-execstate-getmount>)
  - [func (e ExecState) Root() State](<#func-execstate-root>)
- [type FileAction](<#type-fileaction>)
  - [func Copy(input CopyInput, src, dest string, opts ...CopyOption) *FileAction](<#func-copy>)
  - [func Mkdir(p string, m os.FileMode, opt ...MkdirOption) *FileAction](<#func-mkdir>)
  - [func Mkfile(p string, m os.FileMode, dt []byte, opts ...MkfileOption) *FileAction](<#func-mkfile>)
  - [func Rm(p string, opts ...RmOption) *FileAction](<#func-rm>)
  - [func (fa *FileAction) Copy(input CopyInput, src, dest string, opt ...CopyOption) *FileAction](<#func-fileaction-copy>)
  - [func (fa *FileAction) Mkdir(p string, m os.FileMode, opt ...MkdirOption) *FileAction](<#func-fileaction-mkdir>)
  - [func (fa *FileAction) Mkfile(p string, m os.FileMode, dt []byte, opt ...MkfileOption) *FileAction](<#func-fileaction-mkfile>)
  - [func (fa *FileAction) Rm(p string, opt ...RmOption) *FileAction](<#func-fileaction-rm>)
  - [func (fa *FileAction) WithState(s State) CopyInput](<#func-fileaction-withstate>)
- [type FileOp](<#type-fileop>)
  - [func NewFileOp(s State, action *FileAction, c Constraints) *FileOp](<#func-newfileop>)
  - [func (f *FileOp) Inputs() (inputs []Output)](<#func-fileop-inputs>)
  - [func (f *FileOp) Marshal(ctx context.Context, c *Constraints) (digest.Digest, []byte, *pb.OpMetadata, []*SourceLocation, error)](<#func-fileop-marshal>)
  - [func (f *FileOp) Output() Output](<#func-fileop-output>)
  - [func (f *FileOp) Validate(context.Context, *Constraints) error](<#func-fileop-validate>)
- [type GitInfo](<#type-gitinfo>)
- [type GitOption](<#type-gitoption>)
  - [func AuthHeaderSecret(v string) GitOption](<#func-authheadersecret>)
  - [func AuthTokenSecret(v string) GitOption](<#func-authtokensecret>)
  - [func KeepGitDir() GitOption](<#func-keepgitdir>)
  - [func KnownSSHHosts(key string) GitOption](<#func-knownsshhosts>)
  - [func MountSSHSock(sshID string) GitOption](<#func-mountsshsock>)
- [type HTTPInfo](<#type-httpinfo>)
- [type HTTPOption](<#type-httpoption>)
  - [func Checksum(dgst digest.Digest) HTTPOption](<#func-checksum>)
  - [func Chmod(perm os.FileMode) HTTPOption](<#func-chmod>)
  - [func Chown(uid, gid int) HTTPOption](<#func-chown>)
  - [func Filename(name string) HTTPOption](<#func-filename>)
- [type HostIP](<#type-hostip>)
- [type ImageInfo](<#type-imageinfo>)
- [type ImageMetaResolver](<#type-imagemetaresolver>)
- [type ImageOption](<#type-imageoption>)
  - [func ResolveDigest(v bool) ImageOption](<#func-resolvedigest>)
  - [func WithLayerLimit(l int) ImageOption](<#func-withlayerlimit>)
  - [func WithMetaResolver(mr ImageMetaResolver) ImageOption](<#func-withmetaresolver>)
- [type KeyValue](<#type-keyvalue>)
- [type LocalInfo](<#type-localinfo>)
- [type LocalOption](<#type-localoption>)
  - [func Differ(t DiffType, required bool) LocalOption](<#func-differ>)
  - [func ExcludePatterns(p []string) LocalOption](<#func-excludepatterns>)
  - [func FollowPaths(p []string) LocalOption](<#func-followpaths>)
  - [func IncludePatterns(p []string) LocalOption](<#func-includepatterns>)
  - [func SessionID(id string) LocalOption](<#func-sessionid>)
  - [func SharedKeyHint(h string) LocalOption](<#func-sharedkeyhint>)
- [type MarshalCache](<#type-marshalcache>)
  - [func (mc *MarshalCache) Cached(c *Constraints) bool](<#func-marshalcache-cached>)
  - [func (mc *MarshalCache) Load() (digest.Digest, []byte, *pb.OpMetadata, []*SourceLocation, error)](<#func-marshalcache-load>)
  - [func (mc *MarshalCache) Store(dt []byte, md *pb.OpMetadata, srcs []*SourceLocation, c *Constraints)](<#func-marshalcache-store>)
- [type MergeOp](<#type-mergeop>)
  - [func NewMerge(inputs []State, c Constraints) *MergeOp](<#func-newmerge>)
  - [func (m *MergeOp) Inputs() []Output](<#func-mergeop-inputs>)
  - [func (m *MergeOp) Marshal(ctx context.Context, constraints *Constraints) (digest.Digest, []byte, *pb.OpMetadata, []*SourceLocation, error)](<#func-mergeop-marshal>)
  - [func (m *MergeOp) Output() Output](<#func-mergeop-output>)
  - [func (m *MergeOp) Validate(ctx context.Context, constraints *Constraints) error](<#func-mergeop-validate>)
- [type MkdirInfo](<#type-mkdirinfo>)
  - [func (mi *MkdirInfo) SetMkdirOption(mi2 *MkdirInfo)](<#func-mkdirinfo-setmkdiroption>)
- [type MkdirOption](<#type-mkdiroption>)
  - [func WithParents(b bool) MkdirOption](<#func-withparents>)
- [type MkfileInfo](<#type-mkfileinfo>)
  - [func (mi *MkfileInfo) SetMkfileOption(mi2 *MkfileInfo)](<#func-mkfileinfo-setmkfileoption>)
- [type MkfileOption](<#type-mkfileoption>)
- [type MountInfo](<#type-mountinfo>)
- [type MountOption](<#type-mountoption>)
  - [func AsPersistentCacheDir(id string, sharing CacheMountSharingMode) MountOption](<#func-aspersistentcachedir>)
  - [func SourcePath(src string) MountOption](<#func-sourcepath>)
  - [func Tmpfs(opts ...TmpfsOption) MountOption](<#func-tmpfs>)
- [type OCILayoutInfo](<#type-ocilayoutinfo>)
- [type OCILayoutOption](<#type-ocilayoutoption>)
  - [func OCILayerLimit(limit int) OCILayoutOption](<#func-ocilayerlimit>)
  - [func OCISessionID(id string) OCILayoutOption](<#func-ocisessionid>)
- [type Output](<#type-output>)
- [type ProxyEnv](<#type-proxyenv>)
- [type ResolveImageConfigOpt](<#type-resolveimageconfigopt>)
- [type ResolveMode](<#type-resolvemode>)
  - [func (r ResolveMode) SetImageOption(ii *ImageInfo)](<#func-resolvemode-setimageoption>)
  - [func (r ResolveMode) String() string](<#func-resolvemode-string>)
- [type ResolverType](<#type-resolvertype>)
- [type RmInfo](<#type-rminfo>)
  - [func (mi *RmInfo) SetRmOption(mi2 *RmInfo)](<#func-rminfo-setrmoption>)
- [type RmOption](<#type-rmoption>)
  - [func WithAllowNotFound(b bool) RmOption](<#func-withallownotfound>)
  - [func WithAllowWildcard(b bool) RmOption](<#func-withallowwildcard>)
- [type RunOption](<#type-runoption>)
  - [func AddExtraHost(host string, ip net.IP) RunOption](<#func-addextrahost>)
  - [func AddMount(dest string, mountState State, opts ...MountOption) RunOption](<#func-addmount>)
  - [func AddSSHSocket(opts ...SSHOption) RunOption](<#func-addsshsocket>)
  - [func AddSecret(dest string, opts ...SecretOption) RunOption](<#func-addsecret>)
  - [func AddUlimit(name UlimitName, soft int64, hard int64) RunOption](<#func-addulimit>)
  - [func Args(a []string) RunOption](<#func-args>)
  - [func ReadonlyRootFS() RunOption](<#func-readonlyrootfs>)
  - [func Shlex(str string) RunOption](<#func-shlex>)
  - [func Shlexf(str string, v ...interface{}) RunOption](<#func-shlexf>)
  - [func With(so ...StateOption) RunOption](<#func-with>)
  - [func WithCgroupParent(cp string) RunOption](<#func-withcgroupparent>)
  - [func WithProxy(ps ProxyEnv) RunOption](<#func-withproxy>)
- [type SSHInfo](<#type-sshinfo>)
- [type SSHOption](<#type-sshoption>)
  - [func SSHID(id string) SSHOption](<#func-sshid>)
  - [func SSHSocketOpt(target string, uid, gid, mode int) SSHOption](<#func-sshsocketopt>)
  - [func SSHSocketTarget(target string) SSHOption](<#func-sshsockettarget>)
- [type SecretInfo](<#type-secretinfo>)
- [type SecretOption](<#type-secretoption>)
  - [func SecretAsEnv(v bool) SecretOption](<#func-secretasenv>)
  - [func SecretFileOpt(uid, gid, mode int) SecretOption](<#func-secretfileopt>)
  - [func SecretID(id string) SecretOption](<#func-secretid>)
- [type SourceLocation](<#type-sourcelocation>)
- [type SourceMap](<#type-sourcemap>)
  - [func NewSourceMap(st *State, filename string, dt []byte) *SourceMap](<#func-newsourcemap>)
  - [func (s *SourceMap) Location(r []*pb.Range) ConstraintsOpt](<#func-sourcemap-location>)
- [type SourceOp](<#type-sourceop>)
  - [func NewSource(id string, attrs map[string]string, c Constraints) *SourceOp](<#func-newsource>)
  - [func (s *SourceOp) Inputs() []Output](<#func-sourceop-inputs>)
  - [func (s *SourceOp) Marshal(ctx context.Context, constraints *Constraints) (digest.Digest, []byte, *pb.OpMetadata, []*SourceLocation, error)](<#func-sourceop-marshal>)
  - [func (s *SourceOp) Output() Output](<#func-sourceop-output>)
  - [func (s *SourceOp) Validate(ctx context.Context, c *Constraints) error](<#func-sourceop-validate>)
- [type State](<#type-state>)
  - [func Diff(lower, upper State, opts ...ConstraintsOpt) State](<#func-diff>)
  - [func Git(remote, ref string, opts ...GitOption) State](<#func-git>)
  - [func HTTP(url string, opts ...HTTPOption) State](<#func-http>)
  - [func Image(ref string, opts ...ImageOption) State](<#func-image>)
  - [func Local(name string, opts ...LocalOption) State](<#func-local>)
  - [func Merge(inputs []State, opts ...ConstraintsOpt) State](<#func-merge>)
  - [func NewState(o Output) State](<#func-newstate>)
  - [func OCILayout(contentStoreID string, dig digest.Digest, opts ...OCILayoutOption) State](<#func-ocilayout>)
  - [func Scratch() State](<#func-scratch>)
  - [func (s State) AddEnv(key, value string) State](<#func-state-addenv>)
  - [func (s State) AddEnvf(key, value string, v ...interface{}) State](<#func-state-addenvf>)
  - [func (s State) AddExtraHost(host string, ip net.IP) State](<#func-state-addextrahost>)
  - [func (s State) AddUlimit(name UlimitName, soft int64, hard int64) State](<#func-state-addulimit>)
  - [func (s State) Async(f func(context.Context, State, *Constraints) (State, error)) State](<#func-state-async>)
  - [func (s State) Dir(str string) State](<#func-state-dir>)
  - [func (s State) Dirf(str string, v ...interface{}) State](<#func-state-dirf>)
  - [func (s State) Env(ctx context.Context, co ...ConstraintsOpt) ([]string, error)](<#func-state-env>)
  - [func (s State) File(a *FileAction, opts ...ConstraintsOpt) State](<#func-state-file>)
  - [func (s State) GetArgs(ctx context.Context, co ...ConstraintsOpt) ([]string, error)](<#func-state-getargs>)
  - [func (s State) GetDir(ctx context.Context, co ...ConstraintsOpt) (string, error)](<#func-state-getdir>)
  - [func (s State) GetEnv(ctx context.Context, key string, co ...ConstraintsOpt) (string, bool, error)](<#func-state-getenv>)
  - [func (s State) GetHostname(ctx context.Context, co ...ConstraintsOpt) (string, error)](<#func-state-gethostname>)
  - [func (s State) GetNetwork(ctx context.Context, co ...ConstraintsOpt) (pb.NetMode, error)](<#func-state-getnetwork>)
  - [func (s State) GetPlatform(ctx context.Context, co ...ConstraintsOpt) (*ocispecs.Platform, error)](<#func-state-getplatform>)
  - [func (s State) GetSecurity(ctx context.Context, co ...ConstraintsOpt) (pb.SecurityMode, error)](<#func-state-getsecurity>)
  - [func (s State) Hostname(v string) State](<#func-state-hostname>)
  - [func (s State) Marshal(ctx context.Context, co ...ConstraintsOpt) (*Definition, error)](<#func-state-marshal>)
  - [func (s State) Network(n pb.NetMode) State](<#func-state-network>)
  - [func (s State) Output() Output](<#func-state-output>)
  - [func (s State) Platform(p ocispecs.Platform) State](<#func-state-platform>)
  - [func (s State) Reset(s2 State) State](<#func-state-reset>)
  - [func (s State) Run(ro ...RunOption) ExecState](<#func-state-run>)
  - [func (s State) Security(n pb.SecurityMode) State](<#func-state-security>)
  - [func (s State) SetMarshalDefaults(co ...ConstraintsOpt) State](<#func-state-setmarshaldefaults>)
  - [func (s State) User(v string) State](<#func-state-user>)
  - [func (s State) Validate(ctx context.Context, c *Constraints) error](<#func-state-validate>)
  - [func (s State) Value(ctx context.Context, k interface{}, co ...ConstraintsOpt) (interface{}, error)](<#func-state-value>)
  - [func (s State) With(so ...StateOption) State](<#func-state-with>)
  - [func (s State) WithCgroupParent(cp string) State](<#func-state-withcgroupparent>)
  - [func (s State) WithImageConfig(c []byte) (State, error)](<#func-state-withimageconfig>)
  - [func (s State) WithOutput(o Output) State](<#func-state-withoutput>)
  - [func (s State) WithValue(k, v interface{}) State](<#func-state-withvalue>)
- [type StateOption](<#type-stateoption>)
  - [func AddEnv(key, value string) StateOption](<#func-addenv>)
  - [func AddEnvf(key, value string, v ...interface{}) StateOption](<#func-addenvf>)
  - [func Dir(str string) StateOption](<#func-dir>)
  - [func Dirf(str string, v ...interface{}) StateOption](<#func-dirf>)
  - [func Hostname(str string) StateOption](<#func-hostname>)
  - [func Network(v pb.NetMode) StateOption](<#func-network>)
  - [func Reset(other State) StateOption](<#func-reset>)
  - [func Security(v pb.SecurityMode) StateOption](<#func-security>)
  - [func User(str string) StateOption](<#func-user>)
  - [func (fn StateOption) SetRunOption(ei *ExecInfo)](<#func-stateoption-setrunoption>)
- [type TmpfsInfo](<#type-tmpfsinfo>)
- [type TmpfsOption](<#type-tmpfsoption>)
  - [func TmpfsSize(b int64) TmpfsOption](<#func-tmpfssize>)
- [type UlimitName](<#type-ulimitname>)
- [type UserOpt](<#type-useropt>)
- [type Vertex](<#type-vertex>)


## Constants

```go
const (
    NetModeSandbox = pb.NetMode_UNSET
    NetModeHost    = pb.NetMode_HOST
    NetModeNone    = pb.NetMode_NONE
)
```

```go
const (
    SecurityModeInsecure = pb.SecurityMode_INSECURE
    SecurityModeSandbox  = pb.SecurityMode_SANDBOX
)
```

## Variables

```go
var (
    LinuxAmd64   = Platform(ocispecs.Platform{OS: "linux", Architecture: "amd64"})
    LinuxArmhf   = Platform(ocispecs.Platform{OS: "linux", Architecture: "arm", Variant: "v7"})
    LinuxArm     = LinuxArmhf
    LinuxArmel   = Platform(ocispecs.Platform{OS: "linux", Architecture: "arm", Variant: "v6"})
    LinuxArm64   = Platform(ocispecs.Platform{OS: "linux", Architecture: "arm64"})
    LinuxS390x   = Platform(ocispecs.Platform{OS: "linux", Architecture: "s390x"})
    LinuxPpc64le = Platform(ocispecs.Platform{OS: "linux", Architecture: "ppc64le"})
    Darwin       = Platform(ocispecs.Platform{OS: "darwin", Architecture: "amd64"})
    Windows      = Platform(ocispecs.Platform{OS: "windows", Architecture: "amd64"})
)
```

```go
var IgnoreCache = constraintsOptFunc(func(c *Constraints) {
    c.Metadata.IgnoreCache = true
})
```

```go
var MarkImageInternal = imageOptionFunc(func(ii *ImageInfo) {
    ii.RecordType = "internal"
})
```

```go
var SSHOptional = sshOptionFunc(func(si *SSHInfo) {
    si.Optional = true
})
```

```go
var SecretOptional = secretOptionFunc(func(si *SecretInfo) {
    si.Optional = true
})
```

## func ForceNoOutput

```go
func ForceNoOutput(m *mount)
```

## func MarshalConstraints

```go
func MarshalConstraints(base, override *Constraints) (*pb.Op, *pb.OpMetadata)
```

## func Readonly

```go
func Readonly(m *mount)
```

## func WriteTo

```go
func WriteTo(def *Definition, w io.Writer) error
```

## type CacheMountSharingMode

```go
type CacheMountSharingMode int
```

```go
const (
    CacheMountShared CacheMountSharingMode = iota
    CacheMountPrivate
    CacheMountLocked
)
```

## type ChownOpt

```go
type ChownOpt struct {
    User  *UserOpt
    Group *UserOpt
}
```

### func \(ChownOpt\) SetCopyOption

```go
func (co ChownOpt) SetCopyOption(mi *CopyInfo)
```

### func \(ChownOpt\) SetMkdirOption

```go
func (co ChownOpt) SetMkdirOption(mi *MkdirInfo)
```

### func \(ChownOpt\) SetMkfileOption

```go
func (co ChownOpt) SetMkfileOption(mi *MkfileInfo)
```

## type ChownOption

```go
type ChownOption interface {
    MkdirOption
    MkfileOption
    CopyOption
}
```

### func WithUIDGID

```go
func WithUIDGID(uid, gid int) ChownOption
```

### func WithUser

```go
func WithUser(name string) ChownOption
```

## type Constraints

```go
type Constraints struct {
    Platform          *ocispecs.Platform
    WorkerConstraints []string
    Metadata          pb.OpMetadata
    LocalUniqueID     string
    Caps              *apicaps.CapSet
    SourceLocations   []*SourceLocation
}
```

### func NewConstraints

```go
func NewConstraints(co ...ConstraintsOpt) *Constraints
```

## type ConstraintsOpt

```go
type ConstraintsOpt interface {
    SetConstraintsOption(*Constraints)
    RunOption
    LocalOption
    HTTPOption
    ImageOption
    GitOption
    OCILayoutOption
}
```

### func LocalUniqueID

```go
func LocalUniqueID(v string) ConstraintsOpt
```

### func Platform

```go
func Platform(p ocispecs.Platform) ConstraintsOpt
```

### func ProgressGroup

```go
func ProgressGroup(id, name string, weak bool) ConstraintsOpt
```

### func Require

```go
func Require(filters ...string) ConstraintsOpt
```

### func WithCaps

```go
func WithCaps(caps apicaps.CapSet) ConstraintsOpt
```

WithCaps exposes supported LLB caps to the marshaler

### func WithCustomName

```go
func WithCustomName(name string) ConstraintsOpt
```

### func WithCustomNamef

```go
func WithCustomNamef(name string, a ...interface{}) ConstraintsOpt
```

### func WithDescription

```go
func WithDescription(m map[string]string) ConstraintsOpt
```

### func WithExportCache

```go
func WithExportCache() ConstraintsOpt
```

WithExportCache forces results for this vertex to be exported with the cache

### func WithoutDefaultExportCache

```go
func WithoutDefaultExportCache() ConstraintsOpt
```

WithoutDefaultExportCache resets the cache export for the vertex to use the default defined by the build configuration.

### func WithoutExportCache

```go
func WithoutExportCache() ConstraintsOpt
```

WithoutExportCache sets results for this vertex to be not exported with the cache

## type CopyInfo

```go
type CopyInfo struct {
    Mode                *os.FileMode
    FollowSymlinks      bool
    CopyDirContentsOnly bool
    IncludePatterns     []string
    ExcludePatterns     []string
    AttemptUnpack       bool
    CreateDestPath      bool
    AllowWildcard       bool
    AllowEmptyWildcard  bool
    ChownOpt            *ChownOpt
    CreatedTime         *time.Time
}
```

### func \(\*CopyInfo\) SetCopyOption

```go
func (mi *CopyInfo) SetCopyOption(mi2 *CopyInfo)
```

## type CopyInput

CopyInput is either llb.State or \*FileActionWithState

```go
type CopyInput interface {
    // contains filtered or unexported methods
}
```

## type CopyOption

```go
type CopyOption interface {
    SetCopyOption(*CopyInfo)
}
```

## type CreatedTime

```go
type CreatedTime time.Time
```

### func WithCreatedTime

```go
func WithCreatedTime(t time.Time) CreatedTime
```

### func \(CreatedTime\) SetCopyOption

```go
func (c CreatedTime) SetCopyOption(mi *CopyInfo)
```

### func \(CreatedTime\) SetMkdirOption

```go
func (c CreatedTime) SetMkdirOption(mi *MkdirInfo)
```

### func \(CreatedTime\) SetMkfileOption

```go
func (c CreatedTime) SetMkfileOption(mi *MkfileInfo)
```

## type Definition

Definition is the LLB definition structure with per\-vertex metadata entries Corresponds to the Definition structure defined in solver/pb.Definition.

```go
type Definition struct {
    Def         [][]byte
    Metadata    map[digest.Digest]pb.OpMetadata
    Source      *pb.Source
    Constraints *Constraints
}
```

### func ReadFrom

```go
func ReadFrom(r io.Reader) (*Definition, error)
```

### func \(\*Definition\) FromPB

```go
func (def *Definition) FromPB(x *pb.Definition)
```

### func \(\*Definition\) Head

```go
func (def *Definition) Head() (digest.Digest, error)
```

### func \(\*Definition\) ToPB

```go
func (def *Definition) ToPB() *pb.Definition
```

## type DefinitionOp

DefinitionOp implements llb.Vertex using a marshalled definition.

For example, after marshalling a LLB state and sending over the wire, the LLB state can be reconstructed from the definition.

```go
type DefinitionOp struct {
    MarshalCache
    // contains filtered or unexported fields
}
```

### func NewDefinitionOp

```go
func NewDefinitionOp(def *pb.Definition) (*DefinitionOp, error)
```

NewDefinitionOp returns a new operation from a marshalled definition.

### func \(\*DefinitionOp\) Inputs

```go
func (d *DefinitionOp) Inputs() []Output
```

### func \(\*DefinitionOp\) Marshal

```go
func (d *DefinitionOp) Marshal(ctx context.Context, c *Constraints) (digest.Digest, []byte, *pb.OpMetadata, []*SourceLocation, error)
```

### func \(\*DefinitionOp\) Output

```go
func (d *DefinitionOp) Output() Output
```

### func \(\*DefinitionOp\) ToInput

```go
func (d *DefinitionOp) ToInput(ctx context.Context, c *Constraints) (*pb.Input, error)
```

### func \(\*DefinitionOp\) Validate

```go
func (d *DefinitionOp) Validate(context.Context, *Constraints) error
```

### func \(\*DefinitionOp\) Vertex

```go
func (d *DefinitionOp) Vertex(context.Context, *Constraints) Vertex
```

## type DiffOp

```go
type DiffOp struct {
    MarshalCache
    // contains filtered or unexported fields
}
```

### func NewDiff

```go
func NewDiff(lower, upper State, c Constraints) *DiffOp
```

### func \(\*DiffOp\) Inputs

```go
func (m *DiffOp) Inputs() (out []Output)
```

### func \(\*DiffOp\) Marshal

```go
func (m *DiffOp) Marshal(ctx context.Context, constraints *Constraints) (digest.Digest, []byte, *pb.OpMetadata, []*SourceLocation, error)
```

### func \(\*DiffOp\) Output

```go
func (m *DiffOp) Output() Output
```

### func \(\*DiffOp\) Validate

```go
func (m *DiffOp) Validate(ctx context.Context, constraints *Constraints) error
```

## type DiffType

```go
type DiffType string
```

```go
const (
    // DiffNone will do no file comparisons, all files in the Local source will
    // be retransmitted.
    DiffNone DiffType = pb.AttrLocalDifferNone
    // DiffMetadata will compare file metadata (size, modified time, mode, owner,
    // group, device and link name) to determine if the files in the Local source need
    // to be retransmitted.  This is the default behavior.
    DiffMetadata DiffType = pb.AttrLocalDifferMetadata
)
```

## type DifferInfo

```go
type DifferInfo struct {
    Type     DiffType
    Required bool
}
```

## type EnvList

```go
type EnvList []KeyValue
```

### func \(EnvList\) AddOrReplace

```go
func (e EnvList) AddOrReplace(k, v string) EnvList
```

### func \(EnvList\) Delete

```go
func (e EnvList) Delete(k string) EnvList
```

### func \(EnvList\) Get

```go
func (e EnvList) Get(k string) (string, bool)
```

### func \(EnvList\) Index

```go
func (e EnvList) Index(k string) (int, bool)
```

### func \(EnvList\) SetDefault

```go
func (e EnvList) SetDefault(k, v string) EnvList
```

### func \(EnvList\) ToArray

```go
func (e EnvList) ToArray() []string
```

## type ExecInfo

```go
type ExecInfo struct {
    State          State
    Mounts         []MountInfo
    ReadonlyRootFS bool
    ProxyEnv       *ProxyEnv
    Secrets        []SecretInfo
    SSH            []SSHInfo
    // contains filtered or unexported fields
}
```

## type ExecOp

```go
type ExecOp struct {
    MarshalCache
    // contains filtered or unexported fields
}
```

### func NewExecOp

```go
func NewExecOp(base State, proxyEnv *ProxyEnv, readOnly bool, c Constraints) *ExecOp
```

### func \(\*ExecOp\) AddMount

```go
func (e *ExecOp) AddMount(target string, source Output, opt ...MountOption) Output
```

### func \(\*ExecOp\) GetMount

```go
func (e *ExecOp) GetMount(target string) Output
```

### func \(\*ExecOp\) Inputs

```go
func (e *ExecOp) Inputs() (inputs []Output)
```

### func \(\*ExecOp\) Marshal

```go
func (e *ExecOp) Marshal(ctx context.Context, c *Constraints) (digest.Digest, []byte, *pb.OpMetadata, []*SourceLocation, error)
```

### func \(\*ExecOp\) Output

```go
func (e *ExecOp) Output() Output
```

### func \(\*ExecOp\) Validate

```go
func (e *ExecOp) Validate(ctx context.Context, c *Constraints) error
```

## type ExecState

```go
type ExecState struct {
    State
    // contains filtered or unexported fields
}
```

### func \(ExecState\) AddMount

```go
func (e ExecState) AddMount(target string, source State, opt ...MountOption) State
```

### func \(ExecState\) GetMount

```go
func (e ExecState) GetMount(target string) State
```

### func \(ExecState\) Root

```go
func (e ExecState) Root() State
```

## type FileAction

```go
type FileAction struct {
    // contains filtered or unexported fields
}
```

### func Copy

```go
func Copy(input CopyInput, src, dest string, opts ...CopyOption) *FileAction
```

### func Mkdir

```go
func Mkdir(p string, m os.FileMode, opt ...MkdirOption) *FileAction
```

### func Mkfile

```go
func Mkfile(p string, m os.FileMode, dt []byte, opts ...MkfileOption) *FileAction
```

### func Rm

```go
func Rm(p string, opts ...RmOption) *FileAction
```

### func \(\*FileAction\) Copy

```go
func (fa *FileAction) Copy(input CopyInput, src, dest string, opt ...CopyOption) *FileAction
```

### func \(\*FileAction\) Mkdir

```go
func (fa *FileAction) Mkdir(p string, m os.FileMode, opt ...MkdirOption) *FileAction
```

### func \(\*FileAction\) Mkfile

```go
func (fa *FileAction) Mkfile(p string, m os.FileMode, dt []byte, opt ...MkfileOption) *FileAction
```

### func \(\*FileAction\) Rm

```go
func (fa *FileAction) Rm(p string, opt ...RmOption) *FileAction
```

### func \(\*FileAction\) WithState

```go
func (fa *FileAction) WithState(s State) CopyInput
```

## type FileOp

```go
type FileOp struct {
    MarshalCache
    // contains filtered or unexported fields
}
```

### func NewFileOp

```go
func NewFileOp(s State, action *FileAction, c Constraints) *FileOp
```

### func \(\*FileOp\) Inputs

```go
func (f *FileOp) Inputs() (inputs []Output)
```

### func \(\*FileOp\) Marshal

```go
func (f *FileOp) Marshal(ctx context.Context, c *Constraints) (digest.Digest, []byte, *pb.OpMetadata, []*SourceLocation, error)
```

### func \(\*FileOp\) Output

```go
func (f *FileOp) Output() Output
```

### func \(\*FileOp\) Validate

```go
func (f *FileOp) Validate(context.Context, *Constraints) error
```

## type GitInfo

```go
type GitInfo struct {
    KeepGitDir       bool
    AuthTokenSecret  string
    AuthHeaderSecret string

    KnownSSHHosts string
    MountSSHSock  string
    // contains filtered or unexported fields
}
```

## type GitOption

```go
type GitOption interface {
    SetGitOption(*GitInfo)
}
```

### func AuthHeaderSecret

```go
func AuthHeaderSecret(v string) GitOption
```

### func AuthTokenSecret

```go
func AuthTokenSecret(v string) GitOption
```

### func KeepGitDir

```go
func KeepGitDir() GitOption
```

### func KnownSSHHosts

```go
func KnownSSHHosts(key string) GitOption
```

### func MountSSHSock

```go
func MountSSHSock(sshID string) GitOption
```

## type HTTPInfo

```go
type HTTPInfo struct {
    Checksum digest.Digest
    Filename string
    Perm     int
    UID      int
    GID      int
    // contains filtered or unexported fields
}
```

## type HTTPOption

```go
type HTTPOption interface {
    SetHTTPOption(*HTTPInfo)
}
```

### func Checksum

```go
func Checksum(dgst digest.Digest) HTTPOption
```

### func Chmod

```go
func Chmod(perm os.FileMode) HTTPOption
```

### func Chown

```go
func Chown(uid, gid int) HTTPOption
```

### func Filename

```go
func Filename(name string) HTTPOption
```

## type HostIP

```go
type HostIP struct {
    Host string
    IP   net.IP
}
```

## type ImageInfo

```go
type ImageInfo struct {
    RecordType string
    // contains filtered or unexported fields
}
```

## type ImageMetaResolver

ImageMetaResolver can resolve image config metadata from a reference

```go
type ImageMetaResolver interface {
    ResolveImageConfig(ctx context.Context, ref string, opt ResolveImageConfigOpt) (digest.Digest, []byte, error)
}
```

## type ImageOption

```go
type ImageOption interface {
    SetImageOption(*ImageInfo)
}
```

### func ResolveDigest

```go
func ResolveDigest(v bool) ImageOption
```

ResolveDigest uses the meta resolver to update the ref of image with full digest before marshaling. This makes image ref immutable and is recommended if you want to make sure meta resolver data matches the image used during the build.

### func WithLayerLimit

```go
func WithLayerLimit(l int) ImageOption
```

### func WithMetaResolver

```go
func WithMetaResolver(mr ImageMetaResolver) ImageOption
```

WithMetaResolver adds a metadata resolver to an image

## type KeyValue

```go
type KeyValue struct {
    // contains filtered or unexported fields
}
```

## type LocalInfo

```go
type LocalInfo struct {
    SessionID       string
    IncludePatterns string
    ExcludePatterns string
    FollowPaths     string
    SharedKeyHint   string
    Differ          DifferInfo
    // contains filtered or unexported fields
}
```

## type LocalOption

```go
type LocalOption interface {
    SetLocalOption(*LocalInfo)
}
```

### func Differ

```go
func Differ(t DiffType, required bool) LocalOption
```

### func ExcludePatterns

```go
func ExcludePatterns(p []string) LocalOption
```

### func FollowPaths

```go
func FollowPaths(p []string) LocalOption
```

### func IncludePatterns

```go
func IncludePatterns(p []string) LocalOption
```

### func SessionID

```go
func SessionID(id string) LocalOption
```

### func SharedKeyHint

```go
func SharedKeyHint(h string) LocalOption
```

## type MarshalCache

```go
type MarshalCache struct {
    // contains filtered or unexported fields
}
```

### func \(\*MarshalCache\) Cached

```go
func (mc *MarshalCache) Cached(c *Constraints) bool
```

### func \(\*MarshalCache\) Load

```go
func (mc *MarshalCache) Load() (digest.Digest, []byte, *pb.OpMetadata, []*SourceLocation, error)
```

### func \(\*MarshalCache\) Store

```go
func (mc *MarshalCache) Store(dt []byte, md *pb.OpMetadata, srcs []*SourceLocation, c *Constraints)
```

## type MergeOp

```go
type MergeOp struct {
    MarshalCache
    // contains filtered or unexported fields
}
```

### func NewMerge

```go
func NewMerge(inputs []State, c Constraints) *MergeOp
```

### func \(\*MergeOp\) Inputs

```go
func (m *MergeOp) Inputs() []Output
```

### func \(\*MergeOp\) Marshal

```go
func (m *MergeOp) Marshal(ctx context.Context, constraints *Constraints) (digest.Digest, []byte, *pb.OpMetadata, []*SourceLocation, error)
```

### func \(\*MergeOp\) Output

```go
func (m *MergeOp) Output() Output
```

### func \(\*MergeOp\) Validate

```go
func (m *MergeOp) Validate(ctx context.Context, constraints *Constraints) error
```

## type MkdirInfo

```go
type MkdirInfo struct {
    MakeParents bool
    ChownOpt    *ChownOpt
    CreatedTime *time.Time
}
```

### func \(\*MkdirInfo\) SetMkdirOption

```go
func (mi *MkdirInfo) SetMkdirOption(mi2 *MkdirInfo)
```

## type MkdirOption

```go
type MkdirOption interface {
    SetMkdirOption(*MkdirInfo)
}
```

### func WithParents

```go
func WithParents(b bool) MkdirOption
```

## type MkfileInfo

```go
type MkfileInfo struct {
    ChownOpt    *ChownOpt
    CreatedTime *time.Time
}
```

### func \(\*MkfileInfo\) SetMkfileOption

```go
func (mi *MkfileInfo) SetMkfileOption(mi2 *MkfileInfo)
```

## type MkfileOption

```go
type MkfileOption interface {
    SetMkfileOption(*MkfileInfo)
}
```

## type MountInfo

```go
type MountInfo struct {
    Target string
    Source Output
    Opts   []MountOption
}
```

## type MountOption

```go
type MountOption func(*mount)
```

### func AsPersistentCacheDir

```go
func AsPersistentCacheDir(id string, sharing CacheMountSharingMode) MountOption
```

### func SourcePath

```go
func SourcePath(src string) MountOption
```

### func Tmpfs

```go
func Tmpfs(opts ...TmpfsOption) MountOption
```

## type OCILayoutInfo

```go
type OCILayoutInfo struct {
    // contains filtered or unexported fields
}
```

## type OCILayoutOption

```go
type OCILayoutOption interface {
    SetOCILayoutOption(*OCILayoutInfo)
}
```

### func OCILayerLimit

```go
func OCILayerLimit(limit int) OCILayoutOption
```

### func OCISessionID

```go
func OCISessionID(id string) OCILayoutOption
```

## type Output

```go
type Output interface {
    ToInput(context.Context, *Constraints) (*pb.Input, error)
    Vertex(context.Context, *Constraints) Vertex
}
```

## type ProxyEnv

```go
type ProxyEnv struct {
    HTTPProxy  string
    HTTPSProxy string
    FTPProxy   string
    NoProxy    string
    AllProxy   string
}
```

## type ResolveImageConfigOpt

```go
type ResolveImageConfigOpt struct {
    Platform     *ocispecs.Platform
    ResolveMode  string
    LogName      string
    ResolverType // default is ResolverTypeRegistry
    SessionID    string
}
```

## type ResolveMode

```go
type ResolveMode int
```

```go
const (
    ResolveModeDefault ResolveMode = iota
    ResolveModeForcePull
    ResolveModePreferLocal
)
```

### func \(ResolveMode\) SetImageOption

```go
func (r ResolveMode) SetImageOption(ii *ImageInfo)
```

### func \(ResolveMode\) String

```go
func (r ResolveMode) String() string
```

## type ResolverType

```go
type ResolverType int
```

```go
const (
    ResolverTypeRegistry ResolverType = iota
    ResolverTypeOCILayout
)
```

## type RmInfo

```go
type RmInfo struct {
    AllowNotFound bool
    AllowWildcard bool
}
```

### func \(\*RmInfo\) SetRmOption

```go
func (mi *RmInfo) SetRmOption(mi2 *RmInfo)
```

## type RmOption

```go
type RmOption interface {
    SetRmOption(*RmInfo)
}
```

### func WithAllowNotFound

```go
func WithAllowNotFound(b bool) RmOption
```

### func WithAllowWildcard

```go
func WithAllowWildcard(b bool) RmOption
```

## type RunOption

```go
type RunOption interface {
    SetRunOption(es *ExecInfo)
}
```

### func AddExtraHost

```go
func AddExtraHost(host string, ip net.IP) RunOption
```

### func AddMount

```go
func AddMount(dest string, mountState State, opts ...MountOption) RunOption
```

### func AddSSHSocket

```go
func AddSSHSocket(opts ...SSHOption) RunOption
```

### func AddSecret

```go
func AddSecret(dest string, opts ...SecretOption) RunOption
```

### func AddUlimit

```go
func AddUlimit(name UlimitName, soft int64, hard int64) RunOption
```

### func Args

```go
func Args(a []string) RunOption
```

### func ReadonlyRootFS

```go
func ReadonlyRootFS() RunOption
```

### func Shlex

```go
func Shlex(str string) RunOption
```

### func Shlexf

```go
func Shlexf(str string, v ...interface{}) RunOption
```

### func With

```go
func With(so ...StateOption) RunOption
```

### func WithCgroupParent

```go
func WithCgroupParent(cp string) RunOption
```

### func WithProxy

```go
func WithProxy(ps ProxyEnv) RunOption
```

## type SSHInfo

```go
type SSHInfo struct {
    ID       string
    Target   string
    Mode     int
    UID      int
    GID      int
    Optional bool
}
```

## type SSHOption

```go
type SSHOption interface {
    SetSSHOption(*SSHInfo)
}
```

### func SSHID

```go
func SSHID(id string) SSHOption
```

### func SSHSocketOpt

```go
func SSHSocketOpt(target string, uid, gid, mode int) SSHOption
```

### func SSHSocketTarget

```go
func SSHSocketTarget(target string) SSHOption
```

## type SecretInfo

```go
type SecretInfo struct {
    ID       string
    Target   string
    Mode     int
    UID      int
    GID      int
    Optional bool
    IsEnv    bool
}
```

## type SecretOption

```go
type SecretOption interface {
    SetSecretOption(*SecretInfo)
}
```

### func SecretAsEnv

```go
func SecretAsEnv(v bool) SecretOption
```

SecretAsEnv defines if the secret should be added as an environment variable

### func SecretFileOpt

```go
func SecretFileOpt(uid, gid, mode int) SecretOption
```

### func SecretID

```go
func SecretID(id string) SecretOption
```

## type SourceLocation

```go
type SourceLocation struct {
    SourceMap *SourceMap
    Ranges    []*pb.Range
}
```

## type SourceMap

```go
type SourceMap struct {
    State      *State
    Definition *Definition
    Filename   string
    Data       []byte
}
```

### func NewSourceMap

```go
func NewSourceMap(st *State, filename string, dt []byte) *SourceMap
```

### func \(\*SourceMap\) Location

```go
func (s *SourceMap) Location(r []*pb.Range) ConstraintsOpt
```

## type SourceOp

```go
type SourceOp struct {
    MarshalCache
    // contains filtered or unexported fields
}
```

### func NewSource

```go
func NewSource(id string, attrs map[string]string, c Constraints) *SourceOp
```

### func \(\*SourceOp\) Inputs

```go
func (s *SourceOp) Inputs() []Output
```

### func \(\*SourceOp\) Marshal

```go
func (s *SourceOp) Marshal(ctx context.Context, constraints *Constraints) (digest.Digest, []byte, *pb.OpMetadata, []*SourceLocation, error)
```

### func \(\*SourceOp\) Output

```go
func (s *SourceOp) Output() Output
```

### func \(\*SourceOp\) Validate

```go
func (s *SourceOp) Validate(ctx context.Context, c *Constraints) error
```

## type State

```go
type State struct {
    // contains filtered or unexported fields
}
```

### func Diff

```go
func Diff(lower, upper State, opts ...ConstraintsOpt) State
```

### func Git

```go
func Git(remote, ref string, opts ...GitOption) State
```

### func HTTP

```go
func HTTP(url string, opts ...HTTPOption) State
```

### func Image

```go
func Image(ref string, opts ...ImageOption) State
```

### func Local

```go
func Local(name string, opts ...LocalOption) State
```

### func Merge

```go
func Merge(inputs []State, opts ...ConstraintsOpt) State
```

### func NewState

```go
func NewState(o Output) State
```

### func OCILayout

```go
func OCILayout(contentStoreID string, dig digest.Digest, opts ...OCILayoutOption) State
```

### func Scratch

```go
func Scratch() State
```

### func \(State\) AddEnv

```go
func (s State) AddEnv(key, value string) State
```

### func \(State\) AddEnvf

```go
func (s State) AddEnvf(key, value string, v ...interface{}) State
```

### func \(State\) AddExtraHost

```go
func (s State) AddExtraHost(host string, ip net.IP) State
```

### func \(State\) AddUlimit

```go
func (s State) AddUlimit(name UlimitName, soft int64, hard int64) State
```

### func \(State\) Async

```go
func (s State) Async(f func(context.Context, State, *Constraints) (State, error)) State
```

### func \(State\) Dir

```go
func (s State) Dir(str string) State
```

### func \(State\) Dirf

```go
func (s State) Dirf(str string, v ...interface{}) State
```

### func \(State\) Env

```go
func (s State) Env(ctx context.Context, co ...ConstraintsOpt) ([]string, error)
```

### func \(State\) File

```go
func (s State) File(a *FileAction, opts ...ConstraintsOpt) State
```

### func \(State\) GetArgs

```go
func (s State) GetArgs(ctx context.Context, co ...ConstraintsOpt) ([]string, error)
```

### func \(State\) GetDir

```go
func (s State) GetDir(ctx context.Context, co ...ConstraintsOpt) (string, error)
```

### func \(State\) GetEnv

```go
func (s State) GetEnv(ctx context.Context, key string, co ...ConstraintsOpt) (string, bool, error)
```

### func \(State\) GetHostname

```go
func (s State) GetHostname(ctx context.Context, co ...ConstraintsOpt) (string, error)
```

### func \(State\) GetNetwork

```go
func (s State) GetNetwork(ctx context.Context, co ...ConstraintsOpt) (pb.NetMode, error)
```

### func \(State\) GetPlatform

```go
func (s State) GetPlatform(ctx context.Context, co ...ConstraintsOpt) (*ocispecs.Platform, error)
```

### func \(State\) GetSecurity

```go
func (s State) GetSecurity(ctx context.Context, co ...ConstraintsOpt) (pb.SecurityMode, error)
```

### func \(State\) Hostname

```go
func (s State) Hostname(v string) State
```

### func \(State\) Marshal

```go
func (s State) Marshal(ctx context.Context, co ...ConstraintsOpt) (*Definition, error)
```

### func \(State\) Network

```go
func (s State) Network(n pb.NetMode) State
```

### func \(State\) Output

```go
func (s State) Output() Output
```

### func \(State\) Platform

```go
func (s State) Platform(p ocispecs.Platform) State
```

### func \(State\) Reset

```go
func (s State) Reset(s2 State) State
```

### func \(State\) Run

```go
func (s State) Run(ro ...RunOption) ExecState
```

### func \(State\) Security

```go
func (s State) Security(n pb.SecurityMode) State
```

### func \(State\) SetMarshalDefaults

```go
func (s State) SetMarshalDefaults(co ...ConstraintsOpt) State
```

### func \(State\) User

```go
func (s State) User(v string) State
```

### func \(State\) Validate

```go
func (s State) Validate(ctx context.Context, c *Constraints) error
```

### func \(State\) Value

```go
func (s State) Value(ctx context.Context, k interface{}, co ...ConstraintsOpt) (interface{}, error)
```

### func \(State\) With

```go
func (s State) With(so ...StateOption) State
```

### func \(State\) WithCgroupParent

```go
func (s State) WithCgroupParent(cp string) State
```

### func \(State\) WithImageConfig

```go
func (s State) WithImageConfig(c []byte) (State, error)
```

### func \(State\) WithOutput

```go
func (s State) WithOutput(o Output) State
```

### func \(State\) WithValue

```go
func (s State) WithValue(k, v interface{}) State
```

## type StateOption

```go
type StateOption func(State) State
```

### func AddEnv

```go
func AddEnv(key, value string) StateOption
```

### func AddEnvf

```go
func AddEnvf(key, value string, v ...interface{}) StateOption
```

### func Dir

```go
func Dir(str string) StateOption
```

### func Dirf

```go
func Dirf(str string, v ...interface{}) StateOption
```

### func Hostname

```go
func Hostname(str string) StateOption
```

### func Network

```go
func Network(v pb.NetMode) StateOption
```

### func Reset

```go
func Reset(other State) StateOption
```

### func Security

```go
func Security(v pb.SecurityMode) StateOption
```

### func User

```go
func User(str string) StateOption
```

### func \(StateOption\) SetRunOption

```go
func (fn StateOption) SetRunOption(ei *ExecInfo)
```

## type TmpfsInfo

```go
type TmpfsInfo struct {
    Size int64
}
```

## type TmpfsOption

```go
type TmpfsOption interface {
    SetTmpfsOption(*TmpfsInfo)
}
```

### func TmpfsSize

```go
func TmpfsSize(b int64) TmpfsOption
```

## type UlimitName

```go
type UlimitName string
```

```go
const (
    UlimitCore       UlimitName = "core"
    UlimitCPU        UlimitName = "cpu"
    UlimitData       UlimitName = "data"
    UlimitFsize      UlimitName = "fsize"
    UlimitLocks      UlimitName = "locks"
    UlimitMemlock    UlimitName = "memlock"
    UlimitMsgqueue   UlimitName = "msgqueue"
    UlimitNice       UlimitName = "nice"
    UlimitNofile     UlimitName = "nofile"
    UlimitNproc      UlimitName = "nproc"
    UlimitRss        UlimitName = "rss"
    UlimitRtprio     UlimitName = "rtprio"
    UlimitRttime     UlimitName = "rttime"
    UlimitSigpending UlimitName = "sigpending"
    UlimitStack      UlimitName = "stack"
)
```

## type UserOpt

```go
type UserOpt struct {
    UID  int
    Name string
}
```

## type Vertex

```go
type Vertex interface {
    Validate(context.Context, *Constraints) error
    Marshal(context.Context, *Constraints) (digest.Digest, []byte, *pb.OpMetadata, []*SourceLocation, error)
    Output() Output
    Inputs() []Output
}
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
