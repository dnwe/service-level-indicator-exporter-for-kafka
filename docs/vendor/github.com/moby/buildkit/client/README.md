<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# client

```go
import "github.com/vmware/service-level-indicator-exporter-for-kafka/vendor/github.com/moby/buildkit/client"
```

## Index

- [Constants](<#constants>)
- [Variables](<#variables>)
- [type BuildkitVersion](<#type-buildkitversion>)
- [type CacheOptionsEntry](<#type-cacheoptionsentry>)
- [type Client](<#type-client>)
  - [func New(ctx context.Context, address string, opts ...ClientOpt) (*Client, error)](<#func-new>)
  - [func (c *Client) Build(ctx context.Context, opt SolveOpt, product string, buildFunc gateway.BuildFunc, statusChan chan *SolveStatus) (*SolveResponse, error)](<#func-client-build>)
  - [func (c *Client) Close() error](<#func-client-close>)
  - [func (c *Client) Dialer() session.Dialer](<#func-client-dialer>)
  - [func (c *Client) DiskUsage(ctx context.Context, opts ...DiskUsageOption) ([]*UsageInfo, error)](<#func-client-diskusage>)
  - [func (c *Client) Info(ctx context.Context) (*Info, error)](<#func-client-info>)
  - [func (c *Client) ListWorkers(ctx context.Context, opts ...ListWorkersOption) ([]*WorkerInfo, error)](<#func-client-listworkers>)
  - [func (c *Client) Prune(ctx context.Context, ch chan UsageInfo, opts ...PruneOption) error](<#func-client-prune>)
  - [func (c *Client) Solve(ctx context.Context, def *llb.Definition, opt SolveOpt, statusChan chan *SolveStatus) (*SolveResponse, error)](<#func-client-solve>)
- [type ClientOpt](<#type-clientopt>)
  - [func WithContextDialer(df func(context.Context, string) (net.Conn, error)) ClientOpt](<#func-withcontextdialer>)
  - [func WithCredentials(serverName, ca, cert, key string) ClientOpt](<#func-withcredentials>)
  - [func WithFailFast() ClientOpt](<#func-withfailfast>)
  - [func WithSessionDialer(dialer func(context.Context, string, map[string][]string) (net.Conn, error)) ClientOpt](<#func-withsessiondialer>)
  - [func WithTracerDelegate(td TracerDelegate) ClientOpt](<#func-withtracerdelegate>)
  - [func WithTracerProvider(t trace.TracerProvider) ClientOpt](<#func-withtracerprovider>)
- [type DiskUsageInfo](<#type-diskusageinfo>)
- [type DiskUsageOption](<#type-diskusageoption>)
- [type ExportEntry](<#type-exportentry>)
- [type Filter](<#type-filter>)
  - [func WithFilter(f []string) Filter](<#func-withfilter>)
  - [func (f Filter) SetDiskUsageOption(di *DiskUsageInfo)](<#func-filter-setdiskusageoption>)
  - [func (f Filter) SetListWorkersOption(lwi *ListWorkersInfo)](<#func-filter-setlistworkersoption>)
  - [func (f Filter) SetPruneOption(pi *PruneInfo)](<#func-filter-setpruneoption>)
- [type Info](<#type-info>)
- [type ListWorkersInfo](<#type-listworkersinfo>)
- [type ListWorkersOption](<#type-listworkersoption>)
- [type PruneInfo](<#type-pruneinfo>)
- [type PruneOption](<#type-pruneoption>)
  - [func WithKeepOpt(duration time.Duration, bytes int64) PruneOption](<#func-withkeepopt>)
- [type SolveOpt](<#type-solveopt>)
- [type SolveResponse](<#type-solveresponse>)
- [type SolveStatus](<#type-solvestatus>)
- [type TracerDelegate](<#type-tracerdelegate>)
- [type UsageInfo](<#type-usageinfo>)
- [type UsageRecordType](<#type-usagerecordtype>)
- [type Vertex](<#type-vertex>)
- [type VertexLog](<#type-vertexlog>)
- [type VertexStatus](<#type-vertexstatus>)
- [type VertexWarning](<#type-vertexwarning>)
- [type WorkerInfo](<#type-workerinfo>)


## Constants

```go
const (
    ExporterImage  = "image"
    ExporterLocal  = "local"
    ExporterTar    = "tar"
    ExporterOCI    = "oci"
    ExporterDocker = "docker"
)
```

## Variables

```go
var PruneAll = pruneOptionFunc(func(pi *PruneInfo) {
    pi.All = true
})
```

## type BuildkitVersion

```go
type BuildkitVersion struct {
    Package  string `json:"package"`
    Version  string `json:"version"`
    Revision string `json:"revision"`
}
```

## type CacheOptionsEntry

```go
type CacheOptionsEntry struct {
    Type  string
    Attrs map[string]string
}
```

## type Client

```go
type Client struct {
    // contains filtered or unexported fields
}
```

### func New

```go
func New(ctx context.Context, address string, opts ...ClientOpt) (*Client, error)
```

New returns a new buildkit client. Address can be empty for the system\-default address.

### func \(\*Client\) Build

```go
func (c *Client) Build(ctx context.Context, opt SolveOpt, product string, buildFunc gateway.BuildFunc, statusChan chan *SolveStatus) (*SolveResponse, error)
```

### func \(\*Client\) Close

```go
func (c *Client) Close() error
```

### func \(\*Client\) Dialer

```go
func (c *Client) Dialer() session.Dialer
```

### func \(\*Client\) DiskUsage

```go
func (c *Client) DiskUsage(ctx context.Context, opts ...DiskUsageOption) ([]*UsageInfo, error)
```

### func \(\*Client\) Info

```go
func (c *Client) Info(ctx context.Context) (*Info, error)
```

### func \(\*Client\) ListWorkers

```go
func (c *Client) ListWorkers(ctx context.Context, opts ...ListWorkersOption) ([]*WorkerInfo, error)
```

ListWorkers lists all active workers

### func \(\*Client\) Prune

```go
func (c *Client) Prune(ctx context.Context, ch chan UsageInfo, opts ...PruneOption) error
```

### func \(\*Client\) Solve

```go
func (c *Client) Solve(ctx context.Context, def *llb.Definition, opt SolveOpt, statusChan chan *SolveStatus) (*SolveResponse, error)
```

Solve calls Solve on the controller. def must be nil if \(and only if\) opt.Frontend is set.

## type ClientOpt

```go
type ClientOpt interface{}
```

### func WithContextDialer

```go
func WithContextDialer(df func(context.Context, string) (net.Conn, error)) ClientOpt
```

### func WithCredentials

```go
func WithCredentials(serverName, ca, cert, key string) ClientOpt
```

WithCredentials configures the TLS parameters of the client. Arguments: \* serverName: specifies the name of the target server \* ca:				 specifies the filepath of the CA certificate to use for verification \* cert:			 specifies the filepath of the client certificate \* key:				 specifies the filepath of the client key

### func WithFailFast

```go
func WithFailFast() ClientOpt
```

### func WithSessionDialer

```go
func WithSessionDialer(dialer func(context.Context, string, map[string][]string) (net.Conn, error)) ClientOpt
```

### func WithTracerDelegate

```go
func WithTracerDelegate(td TracerDelegate) ClientOpt
```

### func WithTracerProvider

```go
func WithTracerProvider(t trace.TracerProvider) ClientOpt
```

## type DiskUsageInfo

```go
type DiskUsageInfo struct {
    Filter []string
}
```

## type DiskUsageOption

```go
type DiskUsageOption interface {
    SetDiskUsageOption(*DiskUsageInfo)
}
```

## type ExportEntry

```go
type ExportEntry struct {
    Type      string
    Attrs     map[string]string
    Output    func(map[string]string) (io.WriteCloser, error) // for ExporterOCI and ExporterDocker
    OutputDir string                                          // for ExporterLocal
}
```

## type Filter

```go
type Filter []string
```

### func WithFilter

```go
func WithFilter(f []string) Filter
```

### func \(Filter\) SetDiskUsageOption

```go
func (f Filter) SetDiskUsageOption(di *DiskUsageInfo)
```

### func \(Filter\) SetListWorkersOption

```go
func (f Filter) SetListWorkersOption(lwi *ListWorkersInfo)
```

### func \(Filter\) SetPruneOption

```go
func (f Filter) SetPruneOption(pi *PruneInfo)
```

## type Info

```go
type Info struct {
    BuildkitVersion BuildkitVersion `json:"buildkitVersion"`
}
```

## type ListWorkersInfo

ListWorkersInfo is a payload for worker list query

```go
type ListWorkersInfo struct {
    Filter []string
}
```

## type ListWorkersOption

ListWorkersOption is an option for a worker list query

```go
type ListWorkersOption interface {
    SetListWorkersOption(*ListWorkersInfo)
}
```

## type PruneInfo

```go
type PruneInfo struct {
    Filter       []string      `json:"filter"`
    All          bool          `json:"all"`
    KeepDuration time.Duration `json:"keepDuration"`
    KeepBytes    int64         `json:"keepBytes"`
}
```

## type PruneOption

```go
type PruneOption interface {
    SetPruneOption(*PruneInfo)
}
```

### func WithKeepOpt

```go
func WithKeepOpt(duration time.Duration, bytes int64) PruneOption
```

## type SolveOpt

```go
type SolveOpt struct {
    Exports               []ExportEntry
    LocalDirs             map[string]string
    OCIStores             map[string]content.Store
    SharedKey             string
    Frontend              string
    FrontendAttrs         map[string]string
    FrontendInputs        map[string]llb.State
    CacheExports          []CacheOptionsEntry
    CacheImports          []CacheOptionsEntry
    Session               []session.Attachable
    AllowedEntitlements   []entitlements.Entitlement
    SharedSession         *session.Session // TODO: refactor to better session syncing
    SessionPreInitialized bool             // TODO: refactor to better session syncing
}
```

## type SolveResponse

```go
type SolveResponse struct {
    // ExporterResponse is also used for CacheExporter
    ExporterResponse map[string]string
}
```

## type SolveStatus

```go
type SolveStatus struct {
    Vertexes []*Vertex
    Statuses []*VertexStatus
    Logs     []*VertexLog
    Warnings []*VertexWarning
}
```

## type TracerDelegate

```go
type TracerDelegate interface {
    SetSpanExporter(context.Context, sdktrace.SpanExporter) error
}
```

## type UsageInfo

```go
type UsageInfo struct {
    ID      string `json:"id"`
    Mutable bool   `json:"mutable"`
    InUse   bool   `json:"inUse"`
    Size    int64  `json:"size"`

    CreatedAt   time.Time       `json:"createdAt"`
    LastUsedAt  *time.Time      `json:"lastUsedAt"`
    UsageCount  int             `json:"usageCount"`
    Parents     []string        `json:"parents"`
    Description string          `json:"description"`
    RecordType  UsageRecordType `json:"recordType"`
    Shared      bool            `json:"shared"`
}
```

## type UsageRecordType

```go
type UsageRecordType string
```

```go
const (
    UsageRecordTypeInternal    UsageRecordType = "internal"
    UsageRecordTypeFrontend    UsageRecordType = "frontend"
    UsageRecordTypeLocalSource UsageRecordType = "source.local"
    UsageRecordTypeGitCheckout UsageRecordType = "source.git.checkout"
    UsageRecordTypeCacheMount  UsageRecordType = "exec.cachemount"
    UsageRecordTypeRegular     UsageRecordType = "regular"
)
```

## type Vertex

```go
type Vertex struct {
    Digest        digest.Digest
    Inputs        []digest.Digest
    Name          string
    Started       *time.Time
    Completed     *time.Time
    Cached        bool
    Error         string
    ProgressGroup *pb.ProgressGroup
}
```

## type VertexLog

```go
type VertexLog struct {
    Vertex    digest.Digest
    Stream    int
    Data      []byte
    Timestamp time.Time
}
```

## type VertexStatus

```go
type VertexStatus struct {
    ID        string
    Vertex    digest.Digest
    Name      string
    Total     int64
    Current   int64
    Timestamp time.Time
    Started   *time.Time
    Completed *time.Time
}
```

## type VertexWarning

```go
type VertexWarning struct {
    Vertex     digest.Digest
    Level      int
    Short      []byte
    Detail     [][]byte
    URL        string
    SourceInfo *pb.SourceInfo
    Range      []*pb.Range
}
```

## type WorkerInfo

WorkerInfo contains information about a worker

```go
type WorkerInfo struct {
    ID              string              `json:"id"`
    Labels          map[string]string   `json:"labels"`
    Platforms       []ocispecs.Platform `json:"platforms"`
    GCPolicy        []PruneInfo         `json:"gcPolicy"`
    BuildkitVersion BuildkitVersion     `json:"buildkitVersion"`
}
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
