<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# progress

```go
import "github.com/vmware/service-level-indicator-exporter-for-kafka/vendor/github.com/moby/buildkit/util/progress"
```

## Index

- [func OneOff(ctx context.Context, id string) func(err error) error](<#func-oneoff>)
- [func WithProgress(ctx context.Context, pw Writer) context.Context](<#func-withprogress>)
- [type Controller](<#type-controller>)
- [type MultiReader](<#type-multireader>)
  - [func NewMultiReader(pr Reader) *MultiReader](<#func-newmultireader>)
  - [func (mr *MultiReader) Reader(ctx context.Context) Reader](<#func-multireader-reader>)
- [type MultiWriter](<#type-multiwriter>)
  - [func NewMultiWriter(opts ...WriterOption) *MultiWriter](<#func-newmultiwriter>)
  - [func (ps *MultiWriter) Add(pw Writer)](<#func-multiwriter-add>)
  - [func (ps *MultiWriter) Close() error](<#func-multiwriter-close>)
  - [func (ps *MultiWriter) Delete(pw Writer)](<#func-multiwriter-delete>)
  - [func (ps *MultiWriter) Write(id string, v interface{}) error](<#func-multiwriter-write>)
  - [func (ps *MultiWriter) WriteRawProgress(p *Progress) error](<#func-multiwriter-writerawprogress>)
- [type Progress](<#type-progress>)
  - [func (p *Progress) Meta(key string) (interface{}, bool)](<#func-progress-meta>)
- [type Reader](<#type-reader>)
  - [func NewContext(ctx context.Context) (Reader, context.Context, func())](<#func-newcontext>)
- [type Status](<#type-status>)
- [type Writer](<#type-writer>)
  - [func NewFromContext(ctx context.Context, opts ...WriterOption) (Writer, bool, context.Context)](<#func-newfromcontext>)
- [type WriterFactory](<#type-writerfactory>)
  - [func FromContext(ctx context.Context, opts ...WriterOption) WriterFactory](<#func-fromcontext>)
- [type WriterOption](<#type-writeroption>)
  - [func WithMetadata(key string, val interface{}) WriterOption](<#func-withmetadata>)


## func OneOff

```go
func OneOff(ctx context.Context, id string) func(err error) error
```

## func WithProgress

```go
func WithProgress(ctx context.Context, pw Writer) context.Context
```

## type Controller

```go
type Controller interface {
    Start(context.Context) (context.Context, func(error))
    Status(id string, action string) func()
}
```

## type MultiReader

```go
type MultiReader struct {
    // contains filtered or unexported fields
}
```

### func NewMultiReader

```go
func NewMultiReader(pr Reader) *MultiReader
```

### func \(\*MultiReader\) Reader

```go
func (mr *MultiReader) Reader(ctx context.Context) Reader
```

## type MultiWriter

```go
type MultiWriter struct {
    // contains filtered or unexported fields
}
```

### func NewMultiWriter

```go
func NewMultiWriter(opts ...WriterOption) *MultiWriter
```

### func \(\*MultiWriter\) Add

```go
func (ps *MultiWriter) Add(pw Writer)
```

### func \(\*MultiWriter\) Close

```go
func (ps *MultiWriter) Close() error
```

### func \(\*MultiWriter\) Delete

```go
func (ps *MultiWriter) Delete(pw Writer)
```

### func \(\*MultiWriter\) Write

```go
func (ps *MultiWriter) Write(id string, v interface{}) error
```

### func \(\*MultiWriter\) WriteRawProgress

```go
func (ps *MultiWriter) WriteRawProgress(p *Progress) error
```

## type Progress

```go
type Progress struct {
    ID        string
    Timestamp time.Time
    Sys       interface{}
    // contains filtered or unexported fields
}
```

### func \(\*Progress\) Meta

```go
func (p *Progress) Meta(key string) (interface{}, bool)
```

## type Reader

```go
type Reader interface {
    Read(context.Context) ([]*Progress, error)
}
```

### func NewContext

```go
func NewContext(ctx context.Context) (Reader, context.Context, func())
```

NewContext returns a new context and a progress reader that captures all progress items writtern to this context. Last returned parameter is a closer function to signal that no new writes will happen to this context.

## type Status

```go
type Status struct {
    Action    string
    Current   int
    Total     int
    Started   *time.Time
    Completed *time.Time
}
```

## type Writer

```go
type Writer interface {
    Write(id string, value interface{}) error
    Close() error
}
```

### func NewFromContext

```go
func NewFromContext(ctx context.Context, opts ...WriterOption) (Writer, bool, context.Context)
```

NewFromContext creates a new Writer based on a Writer previously stored in the Context and returns a new Context with the new Writer stored.  It is the callers responsibility to Close the returned Writer to avoid resource leaks.

## type WriterFactory

WriterFactory will generate a new progress Writer and return a new Context with the new Writer stored.  It is the callers responsibility to Close the returned Writer to avoid resource leaks.

```go
type WriterFactory func(ctx context.Context) (Writer, bool, context.Context)
```

### func FromContext

```go
func FromContext(ctx context.Context, opts ...WriterOption) WriterFactory
```

FromContext returns a WriterFactory to generate new progress writers based on a Writer previously stored in the Context.

## type WriterOption

```go
type WriterOption func(Writer)
```

### func WithMetadata

```go
func WithMetadata(key string, val interface{}) WriterOption
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
