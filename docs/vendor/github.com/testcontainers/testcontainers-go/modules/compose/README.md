<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# compose

```go
import "github.com/vmware/service-level-indicator-exporter-for-kafka/vendor/github.com/testcontainers/testcontainers-go/modules/compose"
```

## Index

- [Variables](<#variables>)
- [type ComposeLoggerOption](<#type-composeloggeroption>)
  - [func WithLogger(logger testcontainers.Logging) ComposeLoggerOption](<#func-withlogger>)
  - [func (o ComposeLoggerOption) ApplyToLocalCompose(opts *LocalDockerComposeOptions)](<#func-composeloggeroption-applytolocalcompose>)
- [type ComposeStack](<#type-composestack>)
- [type ComposeStackFiles](<#type-composestackfiles>)
- [type ComposeStackOption](<#type-composestackoption>)
  - [func WithStackFiles(filePaths ...string) ComposeStackOption](<#func-withstackfiles>)
- [type ComposeVersion](<#type-composeversion>)
- [type DockerCompose](<#type-dockercompose>)
- [type ExecError](<#type-execerror>)
- [type IgnoreOrphans](<#type-ignoreorphans>)
- [type LocalDockerCompose](<#type-localdockercompose>)
  - [func NewLocalDockerCompose(filePaths []string, identifier string, opts ...LocalDockerComposeOption) *LocalDockerCompose](<#func-newlocaldockercompose>)
  - [func (dc *LocalDockerCompose) Down() ExecError](<#func-localdockercompose-down>)
  - [func (dc *LocalDockerCompose) Invoke() ExecError](<#func-localdockercompose-invoke>)
  - [func (dc *LocalDockerCompose) WaitForService(service string, strategy wait.Strategy) DockerCompose](<#func-localdockercompose-waitforservice>)
  - [func (dc *LocalDockerCompose) WithCommand(cmd []string) DockerCompose](<#func-localdockercompose-withcommand>)
  - [func (dc *LocalDockerCompose) WithEnv(env map[string]string) DockerCompose](<#func-localdockercompose-withenv>)
  - [func (dc *LocalDockerCompose) WithExposedService(service string, port int, strategy wait.Strategy) DockerCompose](<#func-localdockercompose-withexposedservice>)
- [type LocalDockerComposeOption](<#type-localdockercomposeoption>)
- [type LocalDockerComposeOptions](<#type-localdockercomposeoptions>)
- [type LocalDockerComposeOptionsFunc](<#type-localdockercomposeoptionsfunc>)
  - [func (f LocalDockerComposeOptionsFunc) ApplyToLocalCompose(opts *LocalDockerComposeOptions)](<#func-localdockercomposeoptionsfunc-applytolocalcompose>)
- [type RemoveImages](<#type-removeimages>)
- [type RemoveOrphans](<#type-removeorphans>)
- [type StackDownOption](<#type-stackdownoption>)
- [type StackIdentifier](<#type-stackidentifier>)
  - [func (f StackIdentifier) String() string](<#func-stackidentifier-string>)
- [type StackUpOption](<#type-stackupoption>)
  - [func RunServices(serviceNames ...string) StackUpOption](<#func-runservices>)
- [type Wait](<#type-wait>)


## Variables

```go
var ErrNoStackConfigured = errors.New("no stack files configured")
```

## type ComposeLoggerOption

```go
type ComposeLoggerOption struct {
    // contains filtered or unexported fields
}
```

### func WithLogger

```go
func WithLogger(logger testcontainers.Logging) ComposeLoggerOption
```

WithLogger is a generic option that implements LocalDockerComposeOption It replaces the global Logging implementation with a user defined one e.g. to aggregate logs from testcontainers with the logs of specific test case

### func \(ComposeLoggerOption\) ApplyToLocalCompose

```go
func (o ComposeLoggerOption) ApplyToLocalCompose(opts *LocalDockerComposeOptions)
```

## type ComposeStack

ComposeStack defines operations that can be applied to a parsed compose stack

```go
type ComposeStack interface {
    Up(ctx context.Context, opts ...StackUpOption) error
    Down(ctx context.Context, opts ...StackDownOption) error
    Services() []string
    WaitForService(s string, strategy wait.Strategy) ComposeStack
    WithEnv(m map[string]string) ComposeStack
    WithOsEnv() ComposeStack
    ServiceContainer(ctx context.Context, svcName string) (*testcontainers.DockerContainer, error)
}
```

## type ComposeStackFiles

```go
type ComposeStackFiles []string
```

## type ComposeStackOption

```go
type ComposeStackOption interface {
    // contains filtered or unexported methods
}
```

### func WithStackFiles

```go
func WithStackFiles(filePaths ...string) ComposeStackOption
```

## type ComposeVersion

```go
type ComposeVersion interface {
    Format(parts ...string) string
}
```

## type DockerCompose

DockerCompose defines the contract for running Docker Compose Deprecated: DockerCompose is the old shell escape based API use ComposeStack instead

```go
type DockerCompose interface {
    Down() ExecError
    Invoke() ExecError
    WaitForService(string, wait.Strategy) DockerCompose
    WithCommand([]string) DockerCompose
    WithEnv(map[string]string) DockerCompose
    WithExposedService(string, int, wait.Strategy) DockerCompose
}
```

## type ExecError

ExecError is super struct that holds any information about an execution error, so the client code can handle the result

```go
type ExecError struct {
    Command      []string
    StdoutOutput []byte
    StderrOutput []byte
    Error        error
    Stdout       error
    Stderr       error
}
```

## type IgnoreOrphans

IgnoreOrphans \- Ignore legacy containers for services that are not defined in the project

```go
type IgnoreOrphans bool
```

## type LocalDockerCompose

LocalDockerCompose represents a Docker Compose execution using local binary docker\-compose or docker\-compose.exe, depending on the underlying platform

```go
type LocalDockerCompose struct {
    ComposeVersion
    *LocalDockerComposeOptions
    Executable       string
    ComposeFilePaths []string

    Identifier string
    Cmd        []string
    Env        map[string]string
    Services   map[string]interface{}

    WaitStrategyMap map[waitService]wait.Strategy
    // contains filtered or unexported fields
}
```

### func NewLocalDockerCompose

```go
func NewLocalDockerCompose(filePaths []string, identifier string, opts ...LocalDockerComposeOption) *LocalDockerCompose
```

NewLocalDockerCompose returns an instance of the local Docker Compose, using an array of Docker Compose file paths and an identifier for the Compose execution.

It will iterate through the array adding '\-f compose\-file\-path' flags to the local Docker Compose execution. The identifier represents the name of the execution, which will define the name of the underlying Docker network and the name of the running Compose services.

Deprecated: NewLocalDockerCompose returns a DockerCompose compatible instance which is superseded by ComposeStack use NewDockerCompose instead to get a ComposeStack compatible instance

### func \(\*LocalDockerCompose\) Down

```go
func (dc *LocalDockerCompose) Down() ExecError
```

Down executes docker\-compose down

### func \(\*LocalDockerCompose\) Invoke

```go
func (dc *LocalDockerCompose) Invoke() ExecError
```

Invoke invokes the docker compose

### func \(\*LocalDockerCompose\) WaitForService

```go
func (dc *LocalDockerCompose) WaitForService(service string, strategy wait.Strategy) DockerCompose
```

WaitForService sets the strategy for the service that is to be waited on

### func \(\*LocalDockerCompose\) WithCommand

```go
func (dc *LocalDockerCompose) WithCommand(cmd []string) DockerCompose
```

WithCommand assigns the command

### func \(\*LocalDockerCompose\) WithEnv

```go
func (dc *LocalDockerCompose) WithEnv(env map[string]string) DockerCompose
```

WithEnv assigns the environment

### func \(\*LocalDockerCompose\) WithExposedService

```go
func (dc *LocalDockerCompose) WithExposedService(service string, port int, strategy wait.Strategy) DockerCompose
```

WithExposedService sets the strategy for the service that is to be waited on. If multiple strategies are given for a single service running on different ports, both strategies will be applied on the same container

## type LocalDockerComposeOption

LocalDockerComposeOption defines a common interface to modify LocalDockerComposeOptions These options can be passed to NewLocalDockerCompose in a variadic way to customize the returned LocalDockerCompose instance

```go
type LocalDockerComposeOption interface {
    ApplyToLocalCompose(opts *LocalDockerComposeOptions)
}
```

## type LocalDockerComposeOptions

LocalDockerComposeOptions defines options applicable to LocalDockerCompose

```go
type LocalDockerComposeOptions struct {
    Logger testcontainers.Logging
}
```

## type LocalDockerComposeOptionsFunc

LocalDockerComposeOptionsFunc is a shorthand to implement the LocalDockerComposeOption interface

```go
type LocalDockerComposeOptionsFunc func(opts *LocalDockerComposeOptions)
```

### func \(LocalDockerComposeOptionsFunc\) ApplyToLocalCompose

```go
func (f LocalDockerComposeOptionsFunc) ApplyToLocalCompose(opts *LocalDockerComposeOptions)
```

## type RemoveImages

RemoveImages used by services

```go
type RemoveImages uint8
```

```go
const (
    // RemoveImagesAll - remove all images used by the stack
    RemoveImagesAll RemoveImages = iota
    // RemoveImagesLocal - remove only images that don't have a tag
    RemoveImagesLocal
)
```

## type RemoveOrphans

RemoveOrphans will cleanup containers that are not declared on the compose model but own the same labels

```go
type RemoveOrphans bool
```

## type StackDownOption

```go
type StackDownOption interface {
    // contains filtered or unexported methods
}
```

## type StackIdentifier

```go
type StackIdentifier string
```

### func \(StackIdentifier\) String

```go
func (f StackIdentifier) String() string
```

## type StackUpOption

```go
type StackUpOption interface {
    // contains filtered or unexported methods
}
```

### func RunServices

```go
func RunServices(serviceNames ...string) StackUpOption
```

RunServices is comparable to 'docker\-compose run' as it only creates a subset of containers instead of all services defined by the project

## type Wait

Wait won't return until containers reached the running|healthy state

```go
type Wait bool
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
