<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# testcontainers

```go
import "github.com/vmware/service-level-indicator-exporter-for-kafka/vendor/github.com/testcontainers/testcontainers-go"
```

## Index

- [Constants](<#constants>)
- [Variables](<#variables>)
- [func LogDockerServerInfo(ctx context.Context, client client.APIClient, logger Logging)](<#func-logdockerserverinfo>)
- [func SkipIfProviderIsNotHealthy(t *testing.T)](<#func-skipifproviderisnothealthy>)
- [type BindMounter](<#type-bindmounter>)
- [type Container](<#type-container>)
  - [func GenericContainer(ctx context.Context, req GenericContainerRequest) (Container, error)](<#func-genericcontainer>)
  - [func ParallelContainers(ctx context.Context, reqs ParallelContainerRequest, opt ParallelContainersOptions) ([]Container, error)](<#func-parallelcontainers>)
- [type ContainerFile](<#type-containerfile>)
- [type ContainerMount](<#type-containermount>)
  - [func BindMount(hostPath string, mountTarget ContainerMountTarget) ContainerMount](<#func-bindmount>)
  - [func VolumeMount(volumeName string, mountTarget ContainerMountTarget) ContainerMount](<#func-volumemount>)
- [type ContainerMountSource](<#type-containermountsource>)
- [type ContainerMountTarget](<#type-containermounttarget>)
  - [func (t ContainerMountTarget) Target() string](<#func-containermounttarget-target>)
- [type ContainerMounts](<#type-containermounts>)
  - [func Mounts(mounts ...ContainerMount) ContainerMounts](<#func-mounts>)
- [type ContainerProvider](<#type-containerprovider>)
- [type ContainerRequest](<#type-containerrequest>)
  - [func (c *ContainerRequest) GetAuthConfigs() map[string]types.AuthConfig](<#func-containerrequest-getauthconfigs>)
  - [func (c *ContainerRequest) GetBuildArgs() map[string]*string](<#func-containerrequest-getbuildargs>)
  - [func (c *ContainerRequest) GetContext() (io.Reader, error)](<#func-containerrequest-getcontext>)
  - [func (c *ContainerRequest) GetDockerfile() string](<#func-containerrequest-getdockerfile>)
  - [func (c *ContainerRequest) ShouldBuildImage() bool](<#func-containerrequest-shouldbuildimage>)
  - [func (c *ContainerRequest) ShouldPrintBuildLog() bool](<#func-containerrequest-shouldprintbuildlog>)
  - [func (c *ContainerRequest) Validate() error](<#func-containerrequest-validate>)
- [type DefaultNetwork](<#type-defaultnetwork>)
  - [func (n DefaultNetwork) ApplyDockerTo(opts *DockerProviderOptions)](<#func-defaultnetwork-applydockerto>)
  - [func (n DefaultNetwork) ApplyGenericTo(opts *GenericProviderOptions)](<#func-defaultnetwork-applygenericto>)
- [type DeprecatedContainer](<#type-deprecatedcontainer>)
- [type DockerBindMountSource](<#type-dockerbindmountsource>)
  - [func (s DockerBindMountSource) GetBindOptions() *mount.BindOptions](<#func-dockerbindmountsource-getbindoptions>)
  - [func (s DockerBindMountSource) Source() string](<#func-dockerbindmountsource-source>)
  - [func (DockerBindMountSource) Type() MountType](<#func-dockerbindmountsource-type>)
- [type DockerContainer](<#type-dockercontainer>)
  - [func (c *DockerContainer) ContainerIP(ctx context.Context) (string, error)](<#func-dockercontainer-containerip>)
  - [func (c *DockerContainer) ContainerIPs(ctx context.Context) ([]string, error)](<#func-dockercontainer-containerips>)
  - [func (c *DockerContainer) CopyDirToContainer(ctx context.Context, hostDirPath string, containerParentPath string, fileMode int64) error](<#func-dockercontainer-copydirtocontainer>)
  - [func (c *DockerContainer) CopyFileFromContainer(ctx context.Context, filePath string) (io.ReadCloser, error)](<#func-dockercontainer-copyfilefromcontainer>)
  - [func (c *DockerContainer) CopyFileToContainer(ctx context.Context, hostFilePath string, containerFilePath string, fileMode int64) error](<#func-dockercontainer-copyfiletocontainer>)
  - [func (c *DockerContainer) CopyToContainer(ctx context.Context, fileContent []byte, containerFilePath string, fileMode int64) error](<#func-dockercontainer-copytocontainer>)
  - [func (c *DockerContainer) Endpoint(ctx context.Context, proto string) (string, error)](<#func-dockercontainer-endpoint>)
  - [func (c *DockerContainer) Exec(ctx context.Context, cmd []string, options ...tcexec.ProcessOption) (int, io.Reader, error)](<#func-dockercontainer-exec>)
  - [func (c *DockerContainer) FollowOutput(consumer LogConsumer)](<#func-dockercontainer-followoutput>)
  - [func (c *DockerContainer) GetContainerID() string](<#func-dockercontainer-getcontainerid>)
  - [func (c *DockerContainer) Host(ctx context.Context) (string, error)](<#func-dockercontainer-host>)
  - [func (c *DockerContainer) IsRunning() bool](<#func-dockercontainer-isrunning>)
  - [func (c *DockerContainer) Logs(ctx context.Context) (io.ReadCloser, error)](<#func-dockercontainer-logs>)
  - [func (c *DockerContainer) MappedPort(ctx context.Context, port nat.Port) (nat.Port, error)](<#func-dockercontainer-mappedport>)
  - [func (c *DockerContainer) Name(ctx context.Context) (string, error)](<#func-dockercontainer-name>)
  - [func (c *DockerContainer) NetworkAliases(ctx context.Context) (map[string][]string, error)](<#func-dockercontainer-networkaliases>)
  - [func (c *DockerContainer) Networks(ctx context.Context) ([]string, error)](<#func-dockercontainer-networks>)
  - [func (c *DockerContainer) PortEndpoint(ctx context.Context, port nat.Port, proto string) (string, error)](<#func-dockercontainer-portendpoint>)
  - [func (c *DockerContainer) Ports(ctx context.Context) (nat.PortMap, error)](<#func-dockercontainer-ports>)
  - [func (c *DockerContainer) SessionID() string](<#func-dockercontainer-sessionid>)
  - [func (c *DockerContainer) SetLogger(logger Logging)](<#func-dockercontainer-setlogger>)
  - [func (c *DockerContainer) SetProvider(provider *DockerProvider)](<#func-dockercontainer-setprovider>)
  - [func (c *DockerContainer) Start(ctx context.Context) error](<#func-dockercontainer-start>)
  - [func (c *DockerContainer) StartLogProducer(ctx context.Context) error](<#func-dockercontainer-startlogproducer>)
  - [func (c *DockerContainer) State(ctx context.Context) (*types.ContainerState, error)](<#func-dockercontainer-state>)
  - [func (c *DockerContainer) Stop(ctx context.Context, timeout *time.Duration) error](<#func-dockercontainer-stop>)
  - [func (c *DockerContainer) StopLogProducer() error](<#func-dockercontainer-stoplogproducer>)
  - [func (c *DockerContainer) Terminate(ctx context.Context) error](<#func-dockercontainer-terminate>)
- [type DockerNetwork](<#type-dockernetwork>)
  - [func (n *DockerNetwork) Remove(ctx context.Context) error](<#func-dockernetwork-remove>)
- [type DockerProvider](<#type-dockerprovider>)
  - [func NewDockerProvider(provOpts ...DockerProviderOption) (*DockerProvider, error)](<#func-newdockerprovider>)
  - [func (p *DockerProvider) BuildImage(ctx context.Context, img ImageBuildInfo) (string, error)](<#func-dockerprovider-buildimage>)
  - [func (p *DockerProvider) Client() client.APIClient](<#func-dockerprovider-client>)
  - [func (p *DockerProvider) Config() TestContainersConfig](<#func-dockerprovider-config>)
  - [func (p *DockerProvider) CreateContainer(ctx context.Context, req ContainerRequest) (Container, error)](<#func-dockerprovider-createcontainer>)
  - [func (p *DockerProvider) CreateNetwork(ctx context.Context, req NetworkRequest) (Network, error)](<#func-dockerprovider-createnetwork>)
  - [func (p *DockerProvider) GetGatewayIP(ctx context.Context) (string, error)](<#func-dockerprovider-getgatewayip>)
  - [func (p *DockerProvider) GetNetwork(ctx context.Context, req NetworkRequest) (types.NetworkResource, error)](<#func-dockerprovider-getnetwork>)
  - [func (p *DockerProvider) Health(ctx context.Context) (err error)](<#func-dockerprovider-health>)
  - [func (p *DockerProvider) ReuseOrCreateContainer(ctx context.Context, req ContainerRequest) (Container, error)](<#func-dockerprovider-reuseorcreatecontainer>)
  - [func (p *DockerProvider) RunContainer(ctx context.Context, req ContainerRequest) (Container, error)](<#func-dockerprovider-runcontainer>)
  - [func (p *DockerProvider) SetClient(c client.APIClient)](<#func-dockerprovider-setclient>)
- [type DockerProviderOption](<#type-dockerprovideroption>)
  - [func Generic2DockerOptions(opts ...GenericProviderOption) []DockerProviderOption](<#func-generic2dockeroptions>)
  - [func WithDefaultBridgeNetwork(bridgeNetworkName string) DockerProviderOption](<#func-withdefaultbridgenetwork>)
- [type DockerProviderOptionFunc](<#type-dockerprovideroptionfunc>)
  - [func (f DockerProviderOptionFunc) ApplyDockerTo(opts *DockerProviderOptions)](<#func-dockerprovideroptionfunc-applydockerto>)
- [type DockerProviderOptions](<#type-dockerprovideroptions>)
- [type DockerTmpfsMountSource](<#type-dockertmpfsmountsource>)
  - [func (s DockerTmpfsMountSource) GetTmpfsOptions() *mount.TmpfsOptions](<#func-dockertmpfsmountsource-gettmpfsoptions>)
- [type DockerVolumeMountSource](<#type-dockervolumemountsource>)
  - [func (s DockerVolumeMountSource) GetVolumeOptions() *mount.VolumeOptions](<#func-dockervolumemountsource-getvolumeoptions>)
  - [func (s DockerVolumeMountSource) Source() string](<#func-dockervolumemountsource-source>)
  - [func (DockerVolumeMountSource) Type() MountType](<#func-dockervolumemountsource-type>)
- [type FileFromContainer](<#type-filefromcontainer>)
  - [func (fc *FileFromContainer) Close() error](<#func-filefromcontainer-close>)
  - [func (fc *FileFromContainer) Read(b []byte) (int, error)](<#func-filefromcontainer-read>)
- [type FromDockerfile](<#type-fromdockerfile>)
- [type GenericBindMountSource](<#type-genericbindmountsource>)
  - [func (s GenericBindMountSource) Source() string](<#func-genericbindmountsource-source>)
  - [func (GenericBindMountSource) Type() MountType](<#func-genericbindmountsource-type>)
- [type GenericContainerRequest](<#type-genericcontainerrequest>)
- [type GenericNetworkRequest](<#type-genericnetworkrequest>)
- [type GenericProvider](<#type-genericprovider>)
- [type GenericProviderOption](<#type-genericprovideroption>)
- [type GenericProviderOptionFunc](<#type-genericprovideroptionfunc>)
  - [func (f GenericProviderOptionFunc) ApplyGenericTo(opts *GenericProviderOptions)](<#func-genericprovideroptionfunc-applygenericto>)
- [type GenericProviderOptions](<#type-genericprovideroptions>)
- [type GenericTmpfsMountSource](<#type-generictmpfsmountsource>)
  - [func (s GenericTmpfsMountSource) Source() string](<#func-generictmpfsmountsource-source>)
  - [func (GenericTmpfsMountSource) Type() MountType](<#func-generictmpfsmountsource-type>)
- [type GenericVolumeMountSource](<#type-genericvolumemountsource>)
  - [func (s GenericVolumeMountSource) Source() string](<#func-genericvolumemountsource-source>)
  - [func (GenericVolumeMountSource) Type() MountType](<#func-genericvolumemountsource-type>)
- [type ImageBuildInfo](<#type-imagebuildinfo>)
- [type Log](<#type-log>)
- [type LogConsumer](<#type-logconsumer>)
- [type LoggerOption](<#type-loggeroption>)
  - [func WithLogger(logger Logging) LoggerOption](<#func-withlogger>)
  - [func (o LoggerOption) ApplyDockerTo(opts *DockerProviderOptions)](<#func-loggeroption-applydockerto>)
  - [func (o LoggerOption) ApplyGenericTo(opts *GenericProviderOptions)](<#func-loggeroption-applygenericto>)
- [type Logging](<#type-logging>)
  - [func TestLogger(tb testing.TB) Logging](<#func-testlogger>)
- [type MountType](<#type-mounttype>)
- [type Network](<#type-network>)
  - [func GenericNetwork(ctx context.Context, req GenericNetworkRequest) (Network, error)](<#func-genericnetwork>)
- [type NetworkProvider](<#type-networkprovider>)
- [type NetworkRequest](<#type-networkrequest>)
- [type ParallelContainerRequest](<#type-parallelcontainerrequest>)
- [type ParallelContainersError](<#type-parallelcontainerserror>)
  - [func (gpe ParallelContainersError) Error() string](<#func-parallelcontainerserror-error>)
- [type ParallelContainersOptions](<#type-parallelcontainersoptions>)
- [type ParallelContainersRequestError](<#type-parallelcontainersrequesterror>)
- [type ProviderType](<#type-providertype>)
  - [func (t ProviderType) GetProvider(opts ...GenericProviderOption) (GenericProvider, error)](<#func-providertype-getprovider>)
- [type Reaper](<#type-reaper>)
  - [func NewReaper(ctx context.Context, sessionID string, provider ReaperProvider, reaperImageName string) (*Reaper, error)](<#func-newreaper>)
  - [func (r *Reaper) Connect() (chan bool, error)](<#func-reaper-connect>)
  - [func (r *Reaper) Labels() map[string]string](<#func-reaper-labels>)
- [type ReaperProvider](<#type-reaperprovider>)
- [type TestContainersConfig](<#type-testcontainersconfig>)
  - [func NewDockerClient() (cli *client.Client, host string, tcConfig TestContainersConfig, err error)](<#func-newdockerclient>)
- [type TmpfsMounter](<#type-tmpfsmounter>)
- [type VolumeMounter](<#type-volumemounter>)


## Constants

```go
const (
    Bridge        = "bridge" // Bridge network name (as well as driver)
    Podman        = "podman"
    ReaperDefault = "reaper_default" // Default network name when bridge is not available

)
```

```go
const (
    TestcontainerLabel          = "org.testcontainers.golang"
    TestcontainerLabelSessionID = TestcontainerLabel + ".sessionId"
    TestcontainerLabelIsReaper  = TestcontainerLabel + ".reaper"

    ReaperDefaultImage = "docker.io/testcontainers/ryuk:0.3.4"
)
```

StderrLog is the log type for STDERR

```go
const StderrLog = "STDERR"
```

StdoutLog is the log type for STDOUT

```go
const StdoutLog = "STDOUT"
```

## Variables

```go
var (
    ErrDuplicateMountTarget = errors.New("duplicate mount target detected")
)
```

```go
var (
    ErrReuseEmptyName = errors.New("with reuse option a container name mustn't be empty")
)
```

## func LogDockerServerInfo

```go
func LogDockerServerInfo(ctx context.Context, client client.APIClient, logger Logging)
```

LogDockerServerInfo logs the docker server info using the provided logger and Docker client

## func SkipIfProviderIsNotHealthy

```go
func SkipIfProviderIsNotHealthy(t *testing.T)
```

SkipIfProviderIsNotHealthy is a utility function capable of skipping tests if the provider is not healthy, or running at all. This is a function designed to be used in your test, when Docker is not mandatory for CI/CD. In this way tests that depend on Testcontainers won't run if the provider is provisioned correctly.

## type BindMounter

BindMounter can optionally be implemented by mount sources to support advanced scenarios based on mount.BindOptions

```go
type BindMounter interface {
    GetBindOptions() *mount.BindOptions
}
```

## type Container

Container allows getting info about and controlling a single container instance

```go
type Container interface {
    GetContainerID() string                                         // get the container id from the provider
    Endpoint(context.Context, string) (string, error)               // get proto://ip:port string for the first exposed port
    PortEndpoint(context.Context, nat.Port, string) (string, error) // get proto://ip:port string for the given exposed port
    Host(context.Context) (string, error)                           // get host where the container port is exposed
    MappedPort(context.Context, nat.Port) (nat.Port, error)         // get externally mapped port for a container port
    Ports(context.Context) (nat.PortMap, error)                     // get all exposed ports
    SessionID() string                                              // get session id
    IsRunning() bool
    Start(context.Context) error                 // start the container
    Stop(context.Context, *time.Duration) error  // stop the container
    Terminate(context.Context) error             // terminate the container
    Logs(context.Context) (io.ReadCloser, error) // Get logs of the container
    FollowOutput(LogConsumer)
    StartLogProducer(context.Context) error
    StopLogProducer() error
    Name(context.Context) (string, error)                        // get container name
    State(context.Context) (*types.ContainerState, error)        // returns container's running state
    Networks(context.Context) ([]string, error)                  // get container networks
    NetworkAliases(context.Context) (map[string][]string, error) // get container network aliases for a network
    Exec(ctx context.Context, cmd []string, options ...tcexec.ProcessOption) (int, io.Reader, error)
    ContainerIP(context.Context) (string, error)    // get container ip
    ContainerIPs(context.Context) ([]string, error) // get all container IPs
    CopyToContainer(ctx context.Context, fileContent []byte, containerFilePath string, fileMode int64) error
    CopyDirToContainer(ctx context.Context, hostDirPath string, containerParentPath string, fileMode int64) error
    CopyFileToContainer(ctx context.Context, hostFilePath string, containerFilePath string, fileMode int64) error
    CopyFileFromContainer(ctx context.Context, filePath string) (io.ReadCloser, error)
}
```

### func GenericContainer

```go
func GenericContainer(ctx context.Context, req GenericContainerRequest) (Container, error)
```

GenericContainer creates a generic container with parameters

### func ParallelContainers

```go
func ParallelContainers(ctx context.Context, reqs ParallelContainerRequest, opt ParallelContainersOptions) ([]Container, error)
```

ParallelContainers creates a generic containers with parameters and run it in parallel mode

## type ContainerFile

```go
type ContainerFile struct {
    HostFilePath      string
    ContainerFilePath string
    FileMode          int64
}
```

## type ContainerMount

ContainerMount models a mount into a container

```go
type ContainerMount struct {
    // Source is typically either a GenericBindMountSource or a GenericVolumeMountSource
    Source ContainerMountSource
    // Target is the path where the mount should be mounted within the container
    Target ContainerMountTarget
    // ReadOnly determines if the mount should be read-only
    ReadOnly bool
}
```

### func BindMount

```go
func BindMount(hostPath string, mountTarget ContainerMountTarget) ContainerMount
```

BindMount returns a new ContainerMount with a GenericBindMountSource as source This is a convenience method to cover typical use cases.

### func VolumeMount

```go
func VolumeMount(volumeName string, mountTarget ContainerMountTarget) ContainerMount
```

VolumeMount returns a new ContainerMount with a GenericVolumeMountSource as source This is a convenience method to cover typical use cases.

## type ContainerMountSource

ContainerMountSource is the base for all mount sources

```go
type ContainerMountSource interface {
    // Source will be used as Source field in the final mount
    // this might either be a volume name, a host path or might be empty e.g. for Tmpfs
    Source() string

    // Type determines the final mount type
    // possible options are limited by the Docker API
    Type() MountType
}
```

## type ContainerMountTarget

ContainerMountTarget represents the target path within a container where the mount will be available Note that mount targets must be unique. It's not supported to mount different sources to the same target.

```go
type ContainerMountTarget string
```

### func \(ContainerMountTarget\) Target

```go
func (t ContainerMountTarget) Target() string
```

## type ContainerMounts

ContainerMounts represents a collection of mounts for a container

```go
type ContainerMounts []ContainerMount
```

### func Mounts

```go
func Mounts(mounts ...ContainerMount) ContainerMounts
```

Mounts returns a ContainerMounts to support a more fluent API

## type ContainerProvider

ContainerProvider allows the creation of containers on an arbitrary system

```go
type ContainerProvider interface {
    CreateContainer(context.Context, ContainerRequest) (Container, error)        // create a container without starting it
    ReuseOrCreateContainer(context.Context, ContainerRequest) (Container, error) // reuses a container if it exists or creates a container without starting
    RunContainer(context.Context, ContainerRequest) (Container, error)           // create a container and start it
    Health(context.Context) error
    Config() TestContainersConfig
}
```

## type ContainerRequest

ContainerRequest represents the parameters used to get a running container

```go
type ContainerRequest struct {
    FromDockerfile
    Image           string
    Entrypoint      []string
    Env             map[string]string
    ExposedPorts    []string // allow specifying protocol info
    Cmd             []string
    Labels          map[string]string
    Mounts          ContainerMounts
    Tmpfs           map[string]string
    RegistryCred    string
    WaitingFor      wait.Strategy
    Name            string // for specifying container name
    Hostname        string
    ExtraHosts      []string
    Privileged      bool                // for starting privileged container
    Networks        []string            // for specifying network names
    NetworkAliases  map[string][]string // for specifying network aliases
    NetworkMode     container.NetworkMode
    Resources       container.Resources
    Files           []ContainerFile // files which will be copied when container starts
    User            string          // for specifying uid:gid
    SkipReaper      bool            // indicates whether we skip setting up a reaper for this
    ReaperImage     string          // alternative reaper image
    AutoRemove      bool            // if set to true, the container will be removed from the host when stopped
    AlwaysPullImage bool            // Always pull image
    ImagePlatform   string          // ImagePlatform describes the platform which the image runs on.
    Binds           []string
    ShmSize         int64    // Amount of memory shared with the host (in bytes)
    CapAdd          []string // Add Linux capabilities
    CapDrop         []string // Drop Linux capabilities
}
```

### func \(\*ContainerRequest\) GetAuthConfigs

```go
func (c *ContainerRequest) GetAuthConfigs() map[string]types.AuthConfig
```

GetAuthConfigs returns the auth configs to be able to pull from an authenticated docker registry

### func \(\*ContainerRequest\) GetBuildArgs

```go
func (c *ContainerRequest) GetBuildArgs() map[string]*string
```

GetBuildArgs returns the env args to be used when creating from Dockerfile

### func \(\*ContainerRequest\) GetContext

```go
func (c *ContainerRequest) GetContext() (io.Reader, error)
```

GetContext retrieve the build context for the request

### func \(\*ContainerRequest\) GetDockerfile

```go
func (c *ContainerRequest) GetDockerfile() string
```

GetDockerfile returns the Dockerfile from the ContainerRequest, defaults to "Dockerfile"

### func \(\*ContainerRequest\) ShouldBuildImage

```go
func (c *ContainerRequest) ShouldBuildImage() bool
```

### func \(\*ContainerRequest\) ShouldPrintBuildLog

```go
func (c *ContainerRequest) ShouldPrintBuildLog() bool
```

### func \(\*ContainerRequest\) Validate

```go
func (c *ContainerRequest) Validate() error
```

Validate ensures that the ContainerRequest does not have invalid parameters configured to it ex. make sure you are not specifying both an image as well as a context

## type DefaultNetwork

```go
type DefaultNetwork string
```

### func \(DefaultNetwork\) ApplyDockerTo

```go
func (n DefaultNetwork) ApplyDockerTo(opts *DockerProviderOptions)
```

### func \(DefaultNetwork\) ApplyGenericTo

```go
func (n DefaultNetwork) ApplyGenericTo(opts *GenericProviderOptions)
```

## type DeprecatedContainer

DeprecatedContainer shows methods that were supported before, but are now deprecated Deprecated: Use Container

```go
type DeprecatedContainer interface {
    GetHostEndpoint(ctx context.Context, port string) (string, string, error)
    GetIPAddress(ctx context.Context) (string, error)
    LivenessCheckPorts(ctx context.Context) (nat.PortSet, error)
    Terminate(ctx context.Context) error
}
```

## type DockerBindMountSource

```go
type DockerBindMountSource struct {
    *mount.BindOptions

    // HostPath is the path mounted into the container
    // the same host path might be mounted to multiple locations withing a single container
    HostPath string
}
```

### func \(DockerBindMountSource\) GetBindOptions

```go
func (s DockerBindMountSource) GetBindOptions() *mount.BindOptions
```

### func \(DockerBindMountSource\) Source

```go
func (s DockerBindMountSource) Source() string
```

### func \(DockerBindMountSource\) Type

```go
func (DockerBindMountSource) Type() MountType
```

## type DockerContainer

DockerContainer represents a container started using Docker

```go
type DockerContainer struct {
    // Container ID from Docker
    ID         string
    WaitingFor wait.Strategy
    Image      string
    // contains filtered or unexported fields
}
```

### func \(\*DockerContainer\) ContainerIP

```go
func (c *DockerContainer) ContainerIP(ctx context.Context) (string, error)
```

ContainerIP gets the IP address of the primary network within the container.

### func \(\*DockerContainer\) ContainerIPs

```go
func (c *DockerContainer) ContainerIPs(ctx context.Context) ([]string, error)
```

ContainerIPs gets the IP addresses of all the networks within the container.

### func \(\*DockerContainer\) CopyDirToContainer

```go
func (c *DockerContainer) CopyDirToContainer(ctx context.Context, hostDirPath string, containerParentPath string, fileMode int64) error
```

CopyDirToContainer copies the contents of a directory to a parent path in the container. This parent path must exist in the container first as we cannot create it

### func \(\*DockerContainer\) CopyFileFromContainer

```go
func (c *DockerContainer) CopyFileFromContainer(ctx context.Context, filePath string) (io.ReadCloser, error)
```

### func \(\*DockerContainer\) CopyFileToContainer

```go
func (c *DockerContainer) CopyFileToContainer(ctx context.Context, hostFilePath string, containerFilePath string, fileMode int64) error
```

### func \(\*DockerContainer\) CopyToContainer

```go
func (c *DockerContainer) CopyToContainer(ctx context.Context, fileContent []byte, containerFilePath string, fileMode int64) error
```

CopyToContainer copies fileContent data to a file in container

### func \(\*DockerContainer\) Endpoint

```go
func (c *DockerContainer) Endpoint(ctx context.Context, proto string) (string, error)
```

Endpoint gets proto://host:port string for the first exposed port Will returns just host:port if proto is ""

### func \(\*DockerContainer\) Exec

```go
func (c *DockerContainer) Exec(ctx context.Context, cmd []string, options ...tcexec.ProcessOption) (int, io.Reader, error)
```

### func \(\*DockerContainer\) FollowOutput

```go
func (c *DockerContainer) FollowOutput(consumer LogConsumer)
```

FollowOutput adds a LogConsumer to be sent logs from the container's STDOUT and STDERR

### func \(\*DockerContainer\) GetContainerID

```go
func (c *DockerContainer) GetContainerID() string
```

### func \(\*DockerContainer\) Host

```go
func (c *DockerContainer) Host(ctx context.Context) (string, error)
```

Host gets host \(ip or name\) of the docker daemon where the container port is exposed Warning: this is based on your Docker host setting. Will fail if using an SSH tunnel You can use the "TC\_HOST" env variable to set this yourself

### func \(\*DockerContainer\) IsRunning

```go
func (c *DockerContainer) IsRunning() bool
```

### func \(\*DockerContainer\) Logs

```go
func (c *DockerContainer) Logs(ctx context.Context) (io.ReadCloser, error)
```

Logs will fetch both STDOUT and STDERR from the current container. Returns a ReadCloser and leaves it up to the caller to extract what it wants.

### func \(\*DockerContainer\) MappedPort

```go
func (c *DockerContainer) MappedPort(ctx context.Context, port nat.Port) (nat.Port, error)
```

MappedPort gets externally mapped port for a container port

### func \(\*DockerContainer\) Name

```go
func (c *DockerContainer) Name(ctx context.Context) (string, error)
```

Name gets the name of the container.

### func \(\*DockerContainer\) NetworkAliases

```go
func (c *DockerContainer) NetworkAliases(ctx context.Context) (map[string][]string, error)
```

NetworkAliases gets the aliases of the container for the networks it is attached to.

### func \(\*DockerContainer\) Networks

```go
func (c *DockerContainer) Networks(ctx context.Context) ([]string, error)
```

Networks gets the names of the networks the container is attached to.

### func \(\*DockerContainer\) PortEndpoint

```go
func (c *DockerContainer) PortEndpoint(ctx context.Context, port nat.Port, proto string) (string, error)
```

PortEndpoint gets proto://host:port string for the given exposed port Will returns just host:port if proto is ""

### func \(\*DockerContainer\) Ports

```go
func (c *DockerContainer) Ports(ctx context.Context) (nat.PortMap, error)
```

Ports gets the exposed ports for the container.

### func \(\*DockerContainer\) SessionID

```go
func (c *DockerContainer) SessionID() string
```

SessionID gets the current session id

### func \(\*DockerContainer\) SetLogger

```go
func (c *DockerContainer) SetLogger(logger Logging)
```

SetLogger sets the logger for the container

### func \(\*DockerContainer\) SetProvider

```go
func (c *DockerContainer) SetProvider(provider *DockerProvider)
```

SetProvider sets the provider for the container

### func \(\*DockerContainer\) Start

```go
func (c *DockerContainer) Start(ctx context.Context) error
```

Start will start an already created container

### func \(\*DockerContainer\) StartLogProducer

```go
func (c *DockerContainer) StartLogProducer(ctx context.Context) error
```

StartLogProducer will start a concurrent process that will continuously read logs from the container and will send them to each added LogConsumer

### func \(\*DockerContainer\) State

```go
func (c *DockerContainer) State(ctx context.Context) (*types.ContainerState, error)
```

State returns container's running state

### func \(\*DockerContainer\) Stop

```go
func (c *DockerContainer) Stop(ctx context.Context, timeout *time.Duration) error
```

#### Stop will stop an already started container

In case the container fails to stop gracefully within a time frame specified by the timeout argument, it is forcefully terminated \(killed\).

If the timeout is nil, the container's StopTimeout value is used, if set, otherwise the engine default. A negative timeout value can be specified, meaning no timeout, i.e. no forceful termination is performed.

### func \(\*DockerContainer\) StopLogProducer

```go
func (c *DockerContainer) StopLogProducer() error
```

StopLogProducer will stop the concurrent process that is reading logs and sending them to each added LogConsumer

### func \(\*DockerContainer\) Terminate

```go
func (c *DockerContainer) Terminate(ctx context.Context) error
```

Terminate is used to kill the container. It is usually triggered by as defer function.

## type DockerNetwork

DockerNetwork represents a network started using Docker

```go
type DockerNetwork struct {
    ID     string // Network ID from Docker
    Driver string
    Name   string
    // contains filtered or unexported fields
}
```

### func \(\*DockerNetwork\) Remove

```go
func (n *DockerNetwork) Remove(ctx context.Context) error
```

Remove is used to remove the network. It is usually triggered by as defer function.

## type DockerProvider

DockerProvider implements the ContainerProvider interface

```go
type DockerProvider struct {
    *DockerProviderOptions
    // contains filtered or unexported fields
}
```

### func NewDockerProvider

```go
func NewDockerProvider(provOpts ...DockerProviderOption) (*DockerProvider, error)
```

NewDockerProvider creates a Docker provider with the EnvClient

### func \(\*DockerProvider\) BuildImage

```go
func (p *DockerProvider) BuildImage(ctx context.Context, img ImageBuildInfo) (string, error)
```

BuildImage will build and image from context and Dockerfile, then return the tag

### func \(\*DockerProvider\) Client

```go
func (p *DockerProvider) Client() client.APIClient
```

Client gets the docker client used by the provider

### func \(\*DockerProvider\) Config

```go
func (p *DockerProvider) Config() TestContainersConfig
```

Config provides the TestContainersConfig read from $HOME/.testcontainers.properties or the environment variables

### func \(\*DockerProvider\) CreateContainer

```go
func (p *DockerProvider) CreateContainer(ctx context.Context, req ContainerRequest) (Container, error)
```

CreateContainer fulfills a request for a container without starting it

### func \(\*DockerProvider\) CreateNetwork

```go
func (p *DockerProvider) CreateNetwork(ctx context.Context, req NetworkRequest) (Network, error)
```

CreateNetwork returns the object representing a new network identified by its name

### func \(\*DockerProvider\) GetGatewayIP

```go
func (p *DockerProvider) GetGatewayIP(ctx context.Context) (string, error)
```

### func \(\*DockerProvider\) GetNetwork

```go
func (p *DockerProvider) GetNetwork(ctx context.Context, req NetworkRequest) (types.NetworkResource, error)
```

GetNetwork returns the object representing the network identified by its name

### func \(\*DockerProvider\) Health

```go
func (p *DockerProvider) Health(ctx context.Context) (err error)
```

Health measure the healthiness of the provider. Right now we leverage the docker\-client ping endpoint to see if the daemon is reachable.

### func \(\*DockerProvider\) ReuseOrCreateContainer

```go
func (p *DockerProvider) ReuseOrCreateContainer(ctx context.Context, req ContainerRequest) (Container, error)
```

### func \(\*DockerProvider\) RunContainer

```go
func (p *DockerProvider) RunContainer(ctx context.Context, req ContainerRequest) (Container, error)
```

RunContainer takes a RequestContainer as input and it runs a container via the docker sdk

### func \(\*DockerProvider\) SetClient

```go
func (p *DockerProvider) SetClient(c client.APIClient)
```

SetClient sets the docker client to be used by the provider

## type DockerProviderOption

DockerProviderOption defines a common interface to modify DockerProviderOptions These can be passed to NewDockerProvider in a variadic way to customize the returned DockerProvider instance

```go
type DockerProviderOption interface {
    ApplyDockerTo(opts *DockerProviderOptions)
}
```

### func Generic2DockerOptions

```go
func Generic2DockerOptions(opts ...GenericProviderOption) []DockerProviderOption
```

### func WithDefaultBridgeNetwork

```go
func WithDefaultBridgeNetwork(bridgeNetworkName string) DockerProviderOption
```

## type DockerProviderOptionFunc

DockerProviderOptionFunc is a shorthand to implement the DockerProviderOption interface

```go
type DockerProviderOptionFunc func(opts *DockerProviderOptions)
```

### func \(DockerProviderOptionFunc\) ApplyDockerTo

```go
func (f DockerProviderOptionFunc) ApplyDockerTo(opts *DockerProviderOptions)
```

## type DockerProviderOptions

DockerProviderOptions defines options applicable to DockerProvider

```go
type DockerProviderOptions struct {
    *GenericProviderOptions
    // contains filtered or unexported fields
}
```

## type DockerTmpfsMountSource

```go
type DockerTmpfsMountSource struct {
    GenericTmpfsMountSource
    *mount.TmpfsOptions
}
```

### func \(DockerTmpfsMountSource\) GetTmpfsOptions

```go
func (s DockerTmpfsMountSource) GetTmpfsOptions() *mount.TmpfsOptions
```

## type DockerVolumeMountSource

```go
type DockerVolumeMountSource struct {
    *mount.VolumeOptions

    // Name refers to the name of the volume to be mounted
    // the same volume might be mounted to multiple locations within a single container
    Name string
}
```

### func \(DockerVolumeMountSource\) GetVolumeOptions

```go
func (s DockerVolumeMountSource) GetVolumeOptions() *mount.VolumeOptions
```

### func \(DockerVolumeMountSource\) Source

```go
func (s DockerVolumeMountSource) Source() string
```

### func \(DockerVolumeMountSource\) Type

```go
func (DockerVolumeMountSource) Type() MountType
```

## type FileFromContainer

```go
type FileFromContainer struct {
    // contains filtered or unexported fields
}
```

### func \(\*FileFromContainer\) Close

```go
func (fc *FileFromContainer) Close() error
```

### func \(\*FileFromContainer\) Read

```go
func (fc *FileFromContainer) Read(b []byte) (int, error)
```

## type FromDockerfile

FromDockerfile represents the parameters needed to build an image from a Dockerfile rather than using a pre\-built one

```go
type FromDockerfile struct {
    Context        string                      // the path to the context of of the docker build
    ContextArchive io.Reader                   // the tar archive file to send to docker that contains the build context
    Dockerfile     string                      // the path from the context to the Dockerfile for the image, defaults to "Dockerfile"
    BuildArgs      map[string]*string          // enable user to pass build args to docker daemon
    PrintBuildLog  bool                        // enable user to print build log
    AuthConfigs    map[string]types.AuthConfig // enable auth configs to be able to pull from an authenticated docker registry
}
```

## type GenericBindMountSource

GenericBindMountSource implements ContainerMountSource and represents a bind mount Optionally mount.BindOptions might be added for advanced scenarios

```go
type GenericBindMountSource struct {
    // HostPath is the path mounted into the container
    // the same host path might be mounted to multiple locations withing a single container
    HostPath string
}
```

### func \(GenericBindMountSource\) Source

```go
func (s GenericBindMountSource) Source() string
```

### func \(GenericBindMountSource\) Type

```go
func (GenericBindMountSource) Type() MountType
```

## type GenericContainerRequest

GenericContainerRequest represents parameters to a generic container

```go
type GenericContainerRequest struct {
    ContainerRequest              // embedded request for provider
    Started          bool         // whether to auto-start the container
    ProviderType     ProviderType // which provider to use, Docker if empty
    Logger           Logging      // provide a container specific Logging - use default global logger if empty
    Reuse            bool         // reuse an existing container if it exists or create a new one. a container name mustn't be empty
}
```

## type GenericNetworkRequest

GenericNetworkRequest represents parameters to a generic network

```go
type GenericNetworkRequest struct {
    NetworkRequest              // embedded request for provider
    ProviderType   ProviderType // which provider to use, Docker if empty
}
```

## type GenericProvider

GenericProvider represents an abstraction for container and network providers

```go
type GenericProvider interface {
    ContainerProvider
    NetworkProvider
}
```

## type GenericProviderOption

GenericProviderOption defines a common interface to modify GenericProviderOptions These options can be passed to GetProvider in a variadic way to customize the returned GenericProvider instance

```go
type GenericProviderOption interface {
    ApplyGenericTo(opts *GenericProviderOptions)
}
```

## type GenericProviderOptionFunc

GenericProviderOptionFunc is a shorthand to implement the GenericProviderOption interface

```go
type GenericProviderOptionFunc func(opts *GenericProviderOptions)
```

### func \(GenericProviderOptionFunc\) ApplyGenericTo

```go
func (f GenericProviderOptionFunc) ApplyGenericTo(opts *GenericProviderOptions)
```

## type GenericProviderOptions

GenericProviderOptions defines options applicable to all providers

```go
type GenericProviderOptions struct {
    Logger         Logging
    DefaultNetwork string
}
```

## type GenericTmpfsMountSource

GenericTmpfsMountSource implements ContainerMountSource and represents a TmpFS mount Optionally mount.TmpfsOptions might be added for advanced scenarios

```go
type GenericTmpfsMountSource struct {
}
```

### func \(GenericTmpfsMountSource\) Source

```go
func (s GenericTmpfsMountSource) Source() string
```

### func \(GenericTmpfsMountSource\) Type

```go
func (GenericTmpfsMountSource) Type() MountType
```

## type GenericVolumeMountSource

GenericVolumeMountSource implements ContainerMountSource and represents a volume mount

```go
type GenericVolumeMountSource struct {
    // Name refers to the name of the volume to be mounted
    // the same volume might be mounted to multiple locations within a single container
    Name string
}
```

### func \(GenericVolumeMountSource\) Source

```go
func (s GenericVolumeMountSource) Source() string
```

### func \(GenericVolumeMountSource\) Type

```go
func (GenericVolumeMountSource) Type() MountType
```

## type ImageBuildInfo

ImageBuildInfo defines what is needed to build an image

```go
type ImageBuildInfo interface {
    GetContext() (io.Reader, error)              // the path to the build context
    GetDockerfile() string                       // the relative path to the Dockerfile, including the fileitself
    ShouldPrintBuildLog() bool                   // allow build log to be printed to stdout
    ShouldBuildImage() bool                      // return true if the image needs to be built
    GetBuildArgs() map[string]*string            // return the environment args used to build the from Dockerfile
    GetAuthConfigs() map[string]types.AuthConfig // return the auth configs to be able to pull from an authenticated docker registry
}
```

## type Log

Log represents a message that was created by a process, LogType is either "STDOUT" or "STDERR", Content is the byte contents of the message itself

```go
type Log struct {
    LogType string
    Content []byte
}
```

## type LogConsumer

LogConsumer represents any object that can handle a Log, it is up to the LogConsumer instance what to do with the log

```go
type LogConsumer interface {
    Accept(Log)
}
```

## type LoggerOption

```go
type LoggerOption struct {
    // contains filtered or unexported fields
}
```

### func WithLogger

```go
func WithLogger(logger Logging) LoggerOption
```

WithLogger is a generic option that implements GenericProviderOption, DockerProviderOption It replaces the global Logging implementation with a user defined one e.g. to aggregate logs from testcontainers with the logs of specific test case

### func \(LoggerOption\) ApplyDockerTo

```go
func (o LoggerOption) ApplyDockerTo(opts *DockerProviderOptions)
```

### func \(LoggerOption\) ApplyGenericTo

```go
func (o LoggerOption) ApplyGenericTo(opts *GenericProviderOptions)
```

## type Logging

Logging defines the Logger interface

```go
type Logging interface {
    Printf(format string, v ...interface{})
}
```

Logger is the default log instance

```go
var Logger Logging = log.New(os.Stderr, "", log.LstdFlags)
```

### func TestLogger

```go
func TestLogger(tb testing.TB) Logging
```

TestLogger returns a Logging implementation for testing.TB This way logs from testcontainers are part of the test output of a test suite or test case

## type MountType

```go
type MountType uint
```

```go
const (
    MountTypeBind MountType = iota
    MountTypeVolume
    MountTypeTmpfs
    MountTypePipe
)
```

## type Network

Network allows getting info about a single network instance

```go
type Network interface {
    Remove(context.Context) error // removes the network
}
```

### func GenericNetwork

```go
func GenericNetwork(ctx context.Context, req GenericNetworkRequest) (Network, error)
```

GenericNetwork creates a generic network with parameters

## type NetworkProvider

NetworkProvider allows the creation of networks on an arbitrary system

```go
type NetworkProvider interface {
    CreateNetwork(context.Context, NetworkRequest) (Network, error)            // create a network
    GetNetwork(context.Context, NetworkRequest) (types.NetworkResource, error) // get a network
}
```

## type NetworkRequest

NetworkRequest represents the parameters used to get a network

```go
type NetworkRequest struct {
    Driver         string
    CheckDuplicate bool
    Internal       bool
    EnableIPv6     bool
    Name           string
    Labels         map[string]string
    Attachable     bool
    IPAM           *network.IPAM

    SkipReaper  bool   // indicates whether we skip setting up a reaper for this
    ReaperImage string //alternative reaper registry
}
```

## type ParallelContainerRequest

```go
type ParallelContainerRequest []GenericContainerRequest
```

## type ParallelContainersError

```go
type ParallelContainersError struct {
    Errors []ParallelContainersRequestError
}
```

### func \(ParallelContainersError\) Error

```go
func (gpe ParallelContainersError) Error() string
```

## type ParallelContainersOptions

ParallelContainersOptions represents additional options for parallel running

```go
type ParallelContainersOptions struct {
    WorkersCount int // count of parallel workers. If field empty(zero), default value will be 'defaultWorkersCount'
}
```

## type ParallelContainersRequestError

ParallelContainersRequestError represents error from parallel request

```go
type ParallelContainersRequestError struct {
    Request GenericContainerRequest
    Error   error
}
```

## type ProviderType

ProviderType is an enum for the possible providers

```go
type ProviderType int
```

possible provider types

```go
const (
    ProviderDocker ProviderType = iota // Docker is default = 0
    ProviderPodman
)
```

### func \(ProviderType\) GetProvider

```go
func (t ProviderType) GetProvider(opts ...GenericProviderOption) (GenericProvider, error)
```

GetProvider provides the provider implementation for a certain type

## type Reaper

Reaper is used to start a sidecar container that cleans up resources

```go
type Reaper struct {
    Provider  ReaperProvider
    SessionID string
    Endpoint  string
}
```

### func NewReaper

```go
func NewReaper(ctx context.Context, sessionID string, provider ReaperProvider, reaperImageName string) (*Reaper, error)
```

NewReaper creates a Reaper with a sessionID to identify containers and a provider to use

### func \(\*Reaper\) Connect

```go
func (r *Reaper) Connect() (chan bool, error)
```

Connect runs a goroutine which can be terminated by sending true into the returned channel

### func \(\*Reaper\) Labels

```go
func (r *Reaper) Labels() map[string]string
```

Labels returns the container labels to use so that this Reaper cleans them up

## type ReaperProvider

ReaperProvider represents a provider for the reaper to run itself with The ContainerProvider interface should usually satisfy this as well, so it is pluggable

```go
type ReaperProvider interface {
    RunContainer(ctx context.Context, req ContainerRequest) (Container, error)
    Config() TestContainersConfig
}
```

## type TestContainersConfig

or through Decode

```go
type TestContainersConfig struct {
    Host           string `properties:"docker.host,default="`
    TLSVerify      int    `properties:"docker.tls.verify,default=0"`
    CertPath       string `properties:"docker.cert.path,default="`
    RyukPrivileged bool   `properties:"ryuk.container.privileged,default=false"`
}
```

### func NewDockerClient

```go
func NewDockerClient() (cli *client.Client, host string, tcConfig TestContainersConfig, err error)
```

## type TmpfsMounter

TmpfsMounter can optionally be implemented by mount sources to support advanced scenarios based on mount.TmpfsOptions

```go
type TmpfsMounter interface {
    GetTmpfsOptions() *mount.TmpfsOptions
}
```

## type VolumeMounter

VolumeMounter can optionally be implemented by mount sources to support advanced scenarios based on mount.VolumeOptions

```go
type VolumeMounter interface {
    GetVolumeOptions() *mount.VolumeOptions
}
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
