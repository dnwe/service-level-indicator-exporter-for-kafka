<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# vt100

```go
import "github.com/vmware/service-level-indicator-exporter-for-kafka/vendor/github.com/tonistiigi/vt100"
```

package vt100 implements a quick\-and\-dirty programmable ANSI terminal emulator.

You could, for example, use it to run a program like nethack that expects a terminal as a subprocess. It tracks the position of the cursor, colors, and various other aspects of the terminal's state, and allows you to inspect them.

We do very much mean the dirty part. It's not that we think it might have bugs. It's that we're SURE it does. Currently, we only handle raw mode, with no cooked mode features like scrolling. We also misinterpret some of the control codes, which may or may not matter for your purpose.

## Index

- [Constants](<#constants>)
- [Variables](<#variables>)
- [type Command](<#type-command>)
  - [func Decode(s io.RuneScanner) (Command, error)](<#func-decode>)
- [type Cursor](<#type-cursor>)
- [type Format](<#type-format>)
- [type Intensity](<#type-intensity>)
- [type UnsupportedError](<#type-unsupportederror>)
- [type VT100](<#type-vt100>)
  - [func NewVT100(y, x int) *VT100](<#func-newvt100>)
  - [func (v *VT100) HTML() string](<#func-vt100-html>)
  - [func (v *VT100) Process(c Command) error](<#func-vt100-process>)
  - [func (v *VT100) Resize(y, x int)](<#func-vt100-resize>)
  - [func (v *VT100) UsedHeight() int](<#func-vt100-usedheight>)
  - [func (v *VT100) Write(dt []byte) (int, error)](<#func-vt100-write>)


## Constants

```go
const (
    Normal Intensity = 0
    Bright           = 1
    Dim              = 2
)
```

## Variables

```go
var (
    // Technically RGBAs are supposed to be premultiplied. But CSS doesn't expect them
    // that way, so we won't do it in this file.
    DefaultColor = color.RGBA{0, 0, 0, 0}
    // Our black has 255 alpha, so it will compare negatively with DefaultColor.
    Black   = color.RGBA{0, 0, 0, 255}
    Red     = color.RGBA{255, 0, 0, 255}
    Green   = color.RGBA{0, 255, 0, 255}
    Yellow  = color.RGBA{255, 255, 0, 255}
    Blue    = color.RGBA{0, 0, 255, 255}
    Magenta = color.RGBA{255, 0, 255, 255}
    Cyan    = color.RGBA{0, 255, 255, 255}
    White   = color.RGBA{255, 255, 255, 255}
)
```

## type Command

Command is a type of object that the terminal can process to perform an update.

```go
type Command interface {
    // contains filtered or unexported methods
}
```

### func Decode

```go
func Decode(s io.RuneScanner) (Command, error)
```

Decode decodes one ANSI terminal command from s.

s should be connected to a client program that expects an ANSI terminal on the other end. It will push bytes to us that we are meant to intepret as terminal control codes, or text to place onto the terminal.

This Command alone does not actually update the terminal. You need to pass it to VT100.Process\(\).

You should not share s with any other reader, because it could leave the stream in an invalid state.

## type Cursor

Cursor represents both the position and text type of the cursor.

```go
type Cursor struct {
    // Y and X are the coordinates.
    Y, X int

    // F is the format that will be displayed.
    F   Format
}
```

## type Format

Format represents the display format of text on a terminal.

```go
type Format struct {
    // Fg is the foreground color.
    Fg  color.RGBA
    // Bg is the background color.
    Bg  color.RGBA
    // Intensity is the text intensity (bright, normal, dim).
    Intensity Intensity
    // Various text properties.
    Underscore, Conceal, Negative, Blink, Inverse bool
}
```

## type Intensity

```go
type Intensity int
```

## type UnsupportedError

UnsupportedError indicates that we parsed an operation that this terminal does not implement. Such errors indicate that the client program asked us to perform an action that we don't know how to. It MAY be safe to continue trying to do additional operations. This is a distinct category of errors from things we do know how to do, but are badly encoded, or errors from the underlying io.RuneScanner that we're reading commands from.

```go
type UnsupportedError struct {
    // contains filtered or unexported fields
}
```

## type VT100

VT100 represents a simplified, raw VT100 terminal.

```go
type VT100 struct {
    // Height and Width are the dimensions of the terminal.
    Height, Width int

    // Content is the text in the terminal.
    Content [][]rune

    // Format is the display properties of each cell.
    Format [][]Format

    // Cursor is the current state of the cursor.
    Cursor Cursor
    // contains filtered or unexported fields
}
```

### func NewVT100

```go
func NewVT100(y, x int) *VT100
```

NewVT100 creates a new VT100 object with the specified dimensions. y and x must both be greater than zero.

Each cell is set to contain a ' ' rune, and all formats are left as the default.

### func \(\*VT100\) HTML

```go
func (v *VT100) HTML() string
```

HTML renders v as an HTML fragment. One idea for how to use this is to debug the current state of the screen reader.

### func \(\*VT100\) Process

```go
func (v *VT100) Process(c Command) error
```

Process handles a single ANSI terminal command, updating the terminal appropriately.

One special kind of error that this can return is an UnsupportedError. It's probably best to check for these and skip, because they are likely recoverable. Support errors are exported as expvars, so it is possibly not necessary to log them. If you want to check what's failed, start a debug http server and examine the vt100\-unsupported\-commands field in /debug/vars.

### func \(\*VT100\) Resize

```go
func (v *VT100) Resize(y, x int)
```

### func \(\*VT100\) UsedHeight

```go
func (v *VT100) UsedHeight() int
```

### func \(\*VT100\) Write

```go
func (v *VT100) Write(dt []byte) (int, error)
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
