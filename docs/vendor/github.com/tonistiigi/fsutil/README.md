<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# fsutil

```go
import "github.com/vmware/service-level-indicator-exporter-for-kafka/vendor/github.com/tonistiigi/fsutil"
```

## Index

- [func Changes(ctx context.Context, a, b walkerFn, changeFn ChangeFunc) error](<#func-changes>)
- [func ComparePath(p1, p2 string) int](<#func-comparepath>)
- [func FollowLinks(root string, paths []string) ([]string, error)](<#func-followlinks>)
- [func Receive(ctx context.Context, conn Stream, dest string, opt ReceiveOpt) error](<#func-receive>)
- [func Send(ctx context.Context, conn Stream, fs FS, progressCb func(int, bool)) error](<#func-send>)
- [func Stat(path string) (*types.Stat, error)](<#func-stat>)
- [func Walk(ctx context.Context, p string, opt *WalkOpt, fn filepath.WalkFunc) error](<#func-walk>)
- [func WriteTar(ctx context.Context, fs FS, w io.Writer) error](<#func-writetar>)
- [type ChangeFunc](<#type-changefunc>)
- [type ChangeKind](<#type-changekind>)
  - [func (k ChangeKind) String() string](<#func-changekind-string>)
- [type ContentHasher](<#type-contenthasher>)
- [type DiffType](<#type-difftype>)
- [type Dir](<#type-dir>)
- [type DiskWriter](<#type-diskwriter>)
  - [func NewDiskWriter(ctx context.Context, dest string, opt DiskWriterOpt) (*DiskWriter, error)](<#func-newdiskwriter>)
  - [func (dw *DiskWriter) HandleChange(kind ChangeKind, p string, fi os.FileInfo, err error) (retErr error)](<#func-diskwriter-handlechange>)
  - [func (dw *DiskWriter) Wait(ctx context.Context) error](<#func-diskwriter-wait>)
- [type DiskWriterOpt](<#type-diskwriteropt>)
- [type FS](<#type-fs>)
  - [func NewFS(root string, opt *WalkOpt) FS](<#func-newfs>)
  - [func SubDirFS(dirs []Dir) (FS, error)](<#func-subdirfs>)
- [type FilterFunc](<#type-filterfunc>)
- [type HandleChangeFn](<#type-handlechangefn>)
- [type Hardlinks](<#type-hardlinks>)
  - [func (v *Hardlinks) HandleChange(kind ChangeKind, p string, fi os.FileInfo, err error) error](<#func-hardlinks-handlechange>)
- [type MapFunc](<#type-mapfunc>)
- [type MapResult](<#type-mapresult>)
- [type ReceiveOpt](<#type-receiveopt>)
- [type StatInfo](<#type-statinfo>)
  - [func (s *StatInfo) IsDir() bool](<#func-statinfo-isdir>)
  - [func (s *StatInfo) ModTime() time.Time](<#func-statinfo-modtime>)
  - [func (s *StatInfo) Mode() os.FileMode](<#func-statinfo-mode>)
  - [func (s *StatInfo) Name() string](<#func-statinfo-name>)
  - [func (s *StatInfo) Size() int64](<#func-statinfo-size>)
  - [func (s *StatInfo) Sys() interface{}](<#func-statinfo-sys>)
- [type Stream](<#type-stream>)
- [type Validator](<#type-validator>)
  - [func (v *Validator) HandleChange(kind ChangeKind, p string, fi os.FileInfo, err error) (retErr error)](<#func-validator-handlechange>)
- [type WalkOpt](<#type-walkopt>)
- [type WriteToFunc](<#type-writetofunc>)


## func Changes

```go
func Changes(ctx context.Context, a, b walkerFn, changeFn ChangeFunc) error
```

## func ComparePath

```go
func ComparePath(p1, p2 string) int
```

## func FollowLinks

```go
func FollowLinks(root string, paths []string) ([]string, error)
```

## func Receive

```go
func Receive(ctx context.Context, conn Stream, dest string, opt ReceiveOpt) error
```

## func Send

```go
func Send(ctx context.Context, conn Stream, fs FS, progressCb func(int, bool)) error
```

## func Stat

```go
func Stat(path string) (*types.Stat, error)
```

## func Walk

```go
func Walk(ctx context.Context, p string, opt *WalkOpt, fn filepath.WalkFunc) error
```

## func WriteTar

```go
func WriteTar(ctx context.Context, fs FS, w io.Writer) error
```

## type ChangeFunc

ChangeFunc is the type of function called for each change computed during a directory changes calculation.

```go
type ChangeFunc func(ChangeKind, string, os.FileInfo, error) error
```

## type ChangeKind

ChangeKind is the type of modification that a change is making.

```go
type ChangeKind int
```

```go
const (
    // ChangeKindAdd represents an addition of
    // a file
    ChangeKindAdd ChangeKind = iota

    // ChangeKindModify represents a change to
    // an existing file
    ChangeKindModify

    // ChangeKindDelete represents a delete of
    // a file
    ChangeKindDelete
)
```

### func \(ChangeKind\) String

```go
func (k ChangeKind) String() string
```

## type ContentHasher

```go
type ContentHasher func(*types.Stat) (hash.Hash, error)
```

## type DiffType

```go
type DiffType int
```

```go
const (
    DiffMetadata DiffType = iota
    DiffNone
    DiffContent
)
```

## type Dir

```go
type Dir struct {
    Stat types.Stat
    FS   FS
}
```

## type DiskWriter

```go
type DiskWriter struct {
    // contains filtered or unexported fields
}
```

### func NewDiskWriter

```go
func NewDiskWriter(ctx context.Context, dest string, opt DiskWriterOpt) (*DiskWriter, error)
```

### func \(\*DiskWriter\) HandleChange

```go
func (dw *DiskWriter) HandleChange(kind ChangeKind, p string, fi os.FileInfo, err error) (retErr error)
```

### func \(\*DiskWriter\) Wait

```go
func (dw *DiskWriter) Wait(ctx context.Context) error
```

## type DiskWriterOpt

```go
type DiskWriterOpt struct {
    AsyncDataCb   WriteToFunc
    SyncDataCb    WriteToFunc
    NotifyCb      func(ChangeKind, string, os.FileInfo, error) error
    ContentHasher ContentHasher
    Filter        FilterFunc
}
```

## type FS

```go
type FS interface {
    Walk(context.Context, filepath.WalkFunc) error
    Open(string) (io.ReadCloser, error)
}
```

### func NewFS

```go
func NewFS(root string, opt *WalkOpt) FS
```

### func SubDirFS

```go
func SubDirFS(dirs []Dir) (FS, error)
```

## type FilterFunc

```go
type FilterFunc func(string, *types.Stat) bool
```

## type HandleChangeFn

```go
type HandleChangeFn func(ChangeKind, string, os.FileInfo, error) error
```

## type Hardlinks

```go
type Hardlinks struct {
    // contains filtered or unexported fields
}
```

### func \(\*Hardlinks\) HandleChange

```go
func (v *Hardlinks) HandleChange(kind ChangeKind, p string, fi os.FileInfo, err error) error
```

## type MapFunc

```go
type MapFunc func(string, *types.Stat) MapResult
```

## type MapResult

The result of the walk function controls both how WalkDir continues and whether the path is kept.

```go
type MapResult int
```

```go
const (
    // Keep the current path and continue.
    MapResultKeep MapResult = iota

    // Exclude the current path and continue.
    MapResultExclude

    // Exclude the current path, and skip the rest of the dir.
    // If path is a dir, skip the current directory.
    // If path is a file, skip the rest of the parent directory.
    // (This matches the semantics of fs.SkipDir.)
    MapResultSkipDir
)
```

## type ReceiveOpt

```go
type ReceiveOpt struct {
    NotifyHashed  ChangeFunc
    ContentHasher ContentHasher
    ProgressCb    func(int, bool)
    Merge         bool
    Filter        FilterFunc
    Differ        DiffType
}
```

## type StatInfo

```go
type StatInfo struct {
    *types.Stat
}
```

### func \(\*StatInfo\) IsDir

```go
func (s *StatInfo) IsDir() bool
```

### func \(\*StatInfo\) ModTime

```go
func (s *StatInfo) ModTime() time.Time
```

### func \(\*StatInfo\) Mode

```go
func (s *StatInfo) Mode() os.FileMode
```

### func \(\*StatInfo\) Name

```go
func (s *StatInfo) Name() string
```

### func \(\*StatInfo\) Size

```go
func (s *StatInfo) Size() int64
```

### func \(\*StatInfo\) Sys

```go
func (s *StatInfo) Sys() interface{}
```

## type Stream

```go
type Stream interface {
    RecvMsg(interface{}) error
    SendMsg(m interface{}) error
    Context() context.Context
}
```

## type Validator

```go
type Validator struct {
    // contains filtered or unexported fields
}
```

### func \(\*Validator\) HandleChange

```go
func (v *Validator) HandleChange(kind ChangeKind, p string, fi os.FileInfo, err error) (retErr error)
```

## type WalkOpt

```go
type WalkOpt struct {
    IncludePatterns []string
    ExcludePatterns []string
    // FollowPaths contains symlinks that are resolved into include patterns
    // before performing the fs walk
    FollowPaths []string
    Map         MapFunc
}
```

## type WriteToFunc

```go
type WriteToFunc func(context.Context, string, io.WriteCloser) error
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
