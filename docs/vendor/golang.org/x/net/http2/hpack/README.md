<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# hpack

```go
import "github.com/vmware/service-level-indicator-exporter-for-kafka/vendor/golang.org/x/net/http2/hpack"
```

Package hpack implements HPACK, a compression format for efficiently representing HTTP header fields in the context of HTTP/2.

See http://tools.ietf.org/html/draft-ietf-httpbis-header-compression-09

## Index

- [Variables](<#variables>)
- [func AppendHuffmanString(dst []byte, s string) []byte](<#func-appendhuffmanstring>)
- [func HuffmanDecode(w io.Writer, v []byte) (int, error)](<#func-huffmandecode>)
- [func HuffmanDecodeToString(v []byte) (string, error)](<#func-huffmandecodetostring>)
- [func HuffmanEncodeLength(s string) uint64](<#func-huffmanencodelength>)
- [type Decoder](<#type-decoder>)
  - [func NewDecoder(maxDynamicTableSize uint32, emitFunc func(f HeaderField)) *Decoder](<#func-newdecoder>)
  - [func (d *Decoder) Close() error](<#func-decoder-close>)
  - [func (d *Decoder) DecodeFull(p []byte) ([]HeaderField, error)](<#func-decoder-decodefull>)
  - [func (d *Decoder) EmitEnabled() bool](<#func-decoder-emitenabled>)
  - [func (d *Decoder) SetAllowedMaxDynamicTableSize(v uint32)](<#func-decoder-setallowedmaxdynamictablesize>)
  - [func (d *Decoder) SetEmitEnabled(v bool)](<#func-decoder-setemitenabled>)
  - [func (d *Decoder) SetEmitFunc(emitFunc func(f HeaderField))](<#func-decoder-setemitfunc>)
  - [func (d *Decoder) SetMaxDynamicTableSize(v uint32)](<#func-decoder-setmaxdynamictablesize>)
  - [func (d *Decoder) SetMaxStringLength(n int)](<#func-decoder-setmaxstringlength>)
  - [func (d *Decoder) Write(p []byte) (n int, err error)](<#func-decoder-write>)
- [type DecodingError](<#type-decodingerror>)
  - [func (de DecodingError) Error() string](<#func-decodingerror-error>)
- [type Encoder](<#type-encoder>)
  - [func NewEncoder(w io.Writer) *Encoder](<#func-newencoder>)
  - [func (e *Encoder) SetMaxDynamicTableSize(v uint32)](<#func-encoder-setmaxdynamictablesize>)
  - [func (e *Encoder) SetMaxDynamicTableSizeLimit(v uint32)](<#func-encoder-setmaxdynamictablesizelimit>)
  - [func (e *Encoder) WriteField(f HeaderField) error](<#func-encoder-writefield>)
- [type HeaderField](<#type-headerfield>)
  - [func (hf HeaderField) IsPseudo() bool](<#func-headerfield-ispseudo>)
  - [func (hf HeaderField) Size() uint32](<#func-headerfield-size>)
  - [func (hf HeaderField) String() string](<#func-headerfield-string>)
- [type InvalidIndexError](<#type-invalidindexerror>)
  - [func (e InvalidIndexError) Error() string](<#func-invalidindexerror-error>)


## Variables

ErrInvalidHuffman is returned for errors found decoding Huffman\-encoded strings.

```go
var ErrInvalidHuffman = errors.New("hpack: invalid Huffman-encoded data")
```

ErrStringLength is returned by Decoder.Write when the max string length \(as configured by Decoder.SetMaxStringLength\) would be violated.

```go
var ErrStringLength = errors.New("hpack: string too long")
```

## func AppendHuffmanString

```go
func AppendHuffmanString(dst []byte, s string) []byte
```

AppendHuffmanString appends s, as encoded in Huffman codes, to dst and returns the extended buffer.

## func HuffmanDecode

```go
func HuffmanDecode(w io.Writer, v []byte) (int, error)
```

HuffmanDecode decodes the string in v and writes the expanded result to w, returning the number of bytes written to w and the Write call's return value. At most one Write call is made.

## func HuffmanDecodeToString

```go
func HuffmanDecodeToString(v []byte) (string, error)
```

HuffmanDecodeToString decodes the string in v.

## func HuffmanEncodeLength

```go
func HuffmanEncodeLength(s string) uint64
```

HuffmanEncodeLength returns the number of bytes required to encode s in Huffman codes. The result is round up to byte boundary.

## type Decoder

A Decoder is the decoding context for incremental processing of header blocks.

```go
type Decoder struct {
    // contains filtered or unexported fields
}
```

### func NewDecoder

```go
func NewDecoder(maxDynamicTableSize uint32, emitFunc func(f HeaderField)) *Decoder
```

NewDecoder returns a new decoder with the provided maximum dynamic table size. The emitFunc will be called for each valid field parsed, in the same goroutine as calls to Write, before Write returns.

### func \(\*Decoder\) Close

```go
func (d *Decoder) Close() error
```

Close declares that the decoding is complete and resets the Decoder to be reused again for a new header block. If there is any remaining data in the decoder's buffer, Close returns an error.

### func \(\*Decoder\) DecodeFull

```go
func (d *Decoder) DecodeFull(p []byte) ([]HeaderField, error)
```

Decode decodes an entire block.

TODO: remove this method and make it incremental later? This is easier for debugging now.

### func \(\*Decoder\) EmitEnabled

```go
func (d *Decoder) EmitEnabled() bool
```

EmitEnabled reports whether calls to the emitFunc provided to NewDecoder are currently enabled. The default is true.

### func \(\*Decoder\) SetAllowedMaxDynamicTableSize

```go
func (d *Decoder) SetAllowedMaxDynamicTableSize(v uint32)
```

SetAllowedMaxDynamicTableSize sets the upper bound that the encoded stream \(via dynamic table size updates\) may set the maximum size to.

### func \(\*Decoder\) SetEmitEnabled

```go
func (d *Decoder) SetEmitEnabled(v bool)
```

SetEmitEnabled controls whether the emitFunc provided to NewDecoder should be called. The default is true.

This facility exists to let servers enforce MAX\_HEADER\_LIST\_SIZE while still decoding and keeping in\-sync with decoder state, but without doing unnecessary decompression or generating unnecessary garbage for header fields past the limit.

### func \(\*Decoder\) SetEmitFunc

```go
func (d *Decoder) SetEmitFunc(emitFunc func(f HeaderField))
```

SetEmitFunc changes the callback used when new header fields are decoded. It must be non\-nil. It does not affect EmitEnabled.

### func \(\*Decoder\) SetMaxDynamicTableSize

```go
func (d *Decoder) SetMaxDynamicTableSize(v uint32)
```

### func \(\*Decoder\) SetMaxStringLength

```go
func (d *Decoder) SetMaxStringLength(n int)
```

SetMaxStringLength sets the maximum size of a HeaderField name or value string. If a string exceeds this length \(even after any decompression\), Write will return ErrStringLength. A value of 0 means unlimited and is the default from NewDecoder.

### func \(\*Decoder\) Write

```go
func (d *Decoder) Write(p []byte) (n int, err error)
```

## type DecodingError

A DecodingError is something the spec defines as a decoding error.

```go
type DecodingError struct {
    Err error
}
```

### func \(DecodingError\) Error

```go
func (de DecodingError) Error() string
```

## type Encoder

```go
type Encoder struct {
    // contains filtered or unexported fields
}
```

### func NewEncoder

```go
func NewEncoder(w io.Writer) *Encoder
```

NewEncoder returns a new Encoder which performs HPACK encoding. An encoded data is written to w.

### func \(\*Encoder\) SetMaxDynamicTableSize

```go
func (e *Encoder) SetMaxDynamicTableSize(v uint32)
```

SetMaxDynamicTableSize changes the dynamic header table size to v. The actual size is bounded by the value passed to SetMaxDynamicTableSizeLimit.

### func \(\*Encoder\) SetMaxDynamicTableSizeLimit

```go
func (e *Encoder) SetMaxDynamicTableSizeLimit(v uint32)
```

SetMaxDynamicTableSizeLimit changes the maximum value that can be specified in SetMaxDynamicTableSize to v. By default, it is set to 4096, which is the same size of the default dynamic header table size described in HPACK specification. If the current maximum dynamic header table size is strictly greater than v, "Header Table Size Update" will be done in the next WriteField call and the maximum dynamic header table size is truncated to v.

### func \(\*Encoder\) WriteField

```go
func (e *Encoder) WriteField(f HeaderField) error
```

WriteField encodes f into a single Write to e's underlying Writer. This function may also produce bytes for "Header Table Size Update" if necessary. If produced, it is done before encoding f.

## type HeaderField

A HeaderField is a name\-value pair. Both the name and value are treated as opaque sequences of octets.

```go
type HeaderField struct {
    Name, Value string

    // Sensitive means that this header field should never be
    // indexed.
    Sensitive bool
}
```

### func \(HeaderField\) IsPseudo

```go
func (hf HeaderField) IsPseudo() bool
```

IsPseudo reports whether the header field is an http2 pseudo header. That is, it reports whether it starts with a colon. It is not otherwise guaranteed to be a valid pseudo header field, though.

### func \(HeaderField\) Size

```go
func (hf HeaderField) Size() uint32
```

Size returns the size of an entry per RFC 7541 section 4.1.

### func \(HeaderField\) String

```go
func (hf HeaderField) String() string
```

## type InvalidIndexError

An InvalidIndexError is returned when an encoder references a table entry before the static table or after the end of the dynamic table.

```go
type InvalidIndexError int
```

### func \(InvalidIndexError\) Error

```go
func (e InvalidIndexError) Error() string
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
