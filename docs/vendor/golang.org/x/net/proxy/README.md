<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# proxy

```go
import "golang.org/x/net/proxy"
```

Package proxy provides support for a variety of protocols to proxy network data.

## Index

- [Variables](<#variables>)
- [func Dial(ctx context.Context, network, address string) (net.Conn, error)](<#func-dial>)
- [func RegisterDialerType(scheme string, f func(*url.URL, Dialer) (Dialer, error))](<#func-registerdialertype>)
- [type Auth](<#type-auth>)
- [type ContextDialer](<#type-contextdialer>)
- [type Dialer](<#type-dialer>)
  - [func FromEnvironment() Dialer](<#func-fromenvironment>)
  - [func FromEnvironmentUsing(forward Dialer) Dialer](<#func-fromenvironmentusing>)
  - [func FromURL(u *url.URL, forward Dialer) (Dialer, error)](<#func-fromurl>)
  - [func SOCKS5(network, address string, auth *Auth, forward Dialer) (Dialer, error)](<#func-socks5>)
- [type PerHost](<#type-perhost>)
  - [func NewPerHost(defaultDialer, bypass Dialer) *PerHost](<#func-newperhost>)
  - [func (p *PerHost) AddFromString(s string)](<#func-perhost-addfromstring>)
  - [func (p *PerHost) AddHost(host string)](<#func-perhost-addhost>)
  - [func (p *PerHost) AddIP(ip net.IP)](<#func-perhost-addip>)
  - [func (p *PerHost) AddNetwork(net *net.IPNet)](<#func-perhost-addnetwork>)
  - [func (p *PerHost) AddZone(zone string)](<#func-perhost-addzone>)
  - [func (p *PerHost) Dial(network, addr string) (c net.Conn, err error)](<#func-perhost-dial>)
  - [func (p *PerHost) DialContext(ctx context.Context, network, addr string) (c net.Conn, err error)](<#func-perhost-dialcontext>)


## Variables

Direct implements Dialer by making network connections directly using net.Dial or net.DialContext.

```go
var Direct = direct{}
```

## func Dial

```go
func Dial(ctx context.Context, network, address string) (net.Conn, error)
```

Dial works like DialContext on net.Dialer but using a dialer returned by FromEnvironment.

The passed ctx is only used for returning the Conn, not the lifetime of the Conn.

Custom dialers \(registered via RegisterDialerType\) that do not implement ContextDialer can leak a goroutine for as long as it takes the underlying Dialer implementation to timeout.

A Conn returned from a successful Dial after the context has been cancelled will be immediately closed.

## func RegisterDialerType

```go
func RegisterDialerType(scheme string, f func(*url.URL, Dialer) (Dialer, error))
```

RegisterDialerType takes a URL scheme and a function to generate Dialers from a URL with that scheme and a forwarding Dialer. Registered schemes are used by FromURL.

## type Auth

Auth contains authentication parameters that specific Dialers may require.

```go
type Auth struct {
    User, Password string
}
```

## type ContextDialer

A ContextDialer dials using a context.

```go
type ContextDialer interface {
    DialContext(ctx context.Context, network, address string) (net.Conn, error)
}
```

## type Dialer

A Dialer is a means to establish a connection. Custom dialers should also implement ContextDialer.

```go
type Dialer interface {
    // Dial connects to the given address via the proxy.
    Dial(network, addr string) (c net.Conn, err error)
}
```

### func FromEnvironment

```go
func FromEnvironment() Dialer
```

FromEnvironment returns the dialer specified by the proxy\-related variables in the environment and makes underlying connections directly.

### func FromEnvironmentUsing

```go
func FromEnvironmentUsing(forward Dialer) Dialer
```

FromEnvironmentUsing returns the dialer specify by the proxy\-related variables in the environment and makes underlying connections using the provided forwarding Dialer \(for instance, a \*net.Dialer with desired configuration\).

### func FromURL

```go
func FromURL(u *url.URL, forward Dialer) (Dialer, error)
```

FromURL returns a Dialer given a URL specification and an underlying Dialer for it to make network requests.

### func SOCKS5

```go
func SOCKS5(network, address string, auth *Auth, forward Dialer) (Dialer, error)
```

SOCKS5 returns a Dialer that makes SOCKSv5 connections to the given address with an optional username and password. See RFC 1928 and RFC 1929.

## type PerHost

A PerHost directs connections to a default Dialer unless the host name requested matches one of a number of exceptions.

```go
type PerHost struct {
    // contains filtered or unexported fields
}
```

### func NewPerHost

```go
func NewPerHost(defaultDialer, bypass Dialer) *PerHost
```

NewPerHost returns a PerHost Dialer that directs connections to either defaultDialer or bypass, depending on whether the connection matches one of the configured rules.

### func \(\*PerHost\) AddFromString

```go
func (p *PerHost) AddFromString(s string)
```

AddFromString parses a string that contains comma\-separated values specifying hosts that should use the bypass proxy. Each value is either an IP address, a CIDR range, a zone \(\*.example.com\) or a host name \(localhost\). A best effort is made to parse the string and errors are ignored.

### func \(\*PerHost\) AddHost

```go
func (p *PerHost) AddHost(host string)
```

AddHost specifies a host name that will use the bypass proxy.

### func \(\*PerHost\) AddIP

```go
func (p *PerHost) AddIP(ip net.IP)
```

AddIP specifies an IP address that will use the bypass proxy. Note that this will only take effect if a literal IP address is dialed. A connection to a named host will never match an IP.

### func \(\*PerHost\) AddNetwork

```go
func (p *PerHost) AddNetwork(net *net.IPNet)
```

AddNetwork specifies an IP range that will use the bypass proxy. Note that this will only take effect if a literal IP address is dialed. A connection to a named host will never match.

### func \(\*PerHost\) AddZone

```go
func (p *PerHost) AddZone(zone string)
```

AddZone specifies a DNS suffix that will use the bypass proxy. A zone of "example.com" matches "example.com" and all of its subdomains.

### func \(\*PerHost\) Dial

```go
func (p *PerHost) Dial(network, addr string) (c net.Conn, err error)
```

Dial connects to the address addr on the given network through either defaultDialer or bypass.

### func \(\*PerHost\) DialContext

```go
func (p *PerHost) DialContext(ctx context.Context, network, addr string) (c net.Conn, err error)
```

DialContext connects to the address addr on the given network through either defaultDialer or bypass.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
