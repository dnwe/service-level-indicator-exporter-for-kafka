<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# semaphore

```go
import "golang.org/x/sync/semaphore"
```

Package semaphore provides a weighted semaphore implementation.

## Index

- [type Weighted](<#type-weighted>)
  - [func NewWeighted(n int64) *Weighted](<#func-newweighted>)
  - [func (s *Weighted) Acquire(ctx context.Context, n int64) error](<#func-weighted-acquire>)
  - [func (s *Weighted) Release(n int64)](<#func-weighted-release>)
  - [func (s *Weighted) TryAcquire(n int64) bool](<#func-weighted-tryacquire>)


## type Weighted

Weighted provides a way to bound concurrent access to a resource. The callers can request access with a given weight.

```go
type Weighted struct {
    // contains filtered or unexported fields
}
```

### func NewWeighted

```go
func NewWeighted(n int64) *Weighted
```

NewWeighted creates a new weighted semaphore with the given maximum combined weight for concurrent access.

### func \(\*Weighted\) Acquire

```go
func (s *Weighted) Acquire(ctx context.Context, n int64) error
```

Acquire acquires the semaphore with a weight of n, blocking until resources are available or ctx is done. On success, returns nil. On failure, returns ctx.Err\(\) and leaves the semaphore unchanged.

If ctx is already done, Acquire may still succeed without blocking.

### func \(\*Weighted\) Release

```go
func (s *Weighted) Release(n int64)
```

Release releases the semaphore with a weight of n.

### func \(\*Weighted\) TryAcquire

```go
func (s *Weighted) TryAcquire(n int64) bool
```

TryAcquire acquires the semaphore with a weight of n without blocking. On success, returns true. On failure, returns false and leaves the semaphore unchanged.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
