<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# messageset

```go
import "github.com/vmware/service-level-indicator-exporter-for-kafka/vendor/google.golang.org/protobuf/internal/encoding/messageset"
```

Package messageset encodes and decodes the obsolete MessageSet wire format.

## Index

- [Constants](<#constants>)
- [func AppendFieldEnd(b []byte) []byte](<#func-appendfieldend>)
- [func AppendFieldStart(b []byte, num protowire.Number) []byte](<#func-appendfieldstart>)
- [func AppendUnknown(b, unknown []byte) ([]byte, error)](<#func-appendunknown>)
- [func ConsumeFieldValue(b []byte, wantLen bool) (typeid protowire.Number, message []byte, n int, err error)](<#func-consumefieldvalue>)
- [func IsMessageSet(md protoreflect.MessageDescriptor) bool](<#func-ismessageset>)
- [func IsMessageSetExtension(fd protoreflect.FieldDescriptor) bool](<#func-ismessagesetextension>)
- [func SizeField(num protowire.Number) int](<#func-sizefield>)
- [func SizeUnknown(unknown []byte) (size int)](<#func-sizeunknown>)
- [func Unmarshal(b []byte, wantLen bool, fn func(typeID protowire.Number, value []byte) error) error](<#func-unmarshal>)


## Constants

The MessageSet wire format is equivalent to a message defined as follows, where each Item defines an extension field with a field number of 'type\_id' and content of 'message'. MessageSet extensions must be non\-repeated message fields.

```
message MessageSet {
	repeated group Item = 1 {
		required int32 type_id = 2;
		required string message = 3;
	}
}
```

```go
const (
    FieldItem    = protowire.Number(1)
    FieldTypeID  = protowire.Number(2)
    FieldMessage = protowire.Number(3)
)
```

ExtensionName is the field name for extensions of MessageSet.

A valid MessageSet extension must be of the form:

```
message MyMessage {
	extend proto2.bridge.MessageSet {
		optional MyMessage message_set_extension = 1234;
	}
	...
}
```

```go
const ExtensionName = "message_set_extension"
```

## func AppendFieldEnd

```go
func AppendFieldEnd(b []byte) []byte
```

AppendFieldEnd appends the trailing end group marker for a MessageSet item field.

## func AppendFieldStart

```go
func AppendFieldStart(b []byte, num protowire.Number) []byte
```

AppendFieldStart appends the start of a MessageSet item field containing an extension with the given number. The caller must add the message subfield \(including the tag\).

## func AppendUnknown

```go
func AppendUnknown(b, unknown []byte) ([]byte, error)
```

AppendUnknown appends unknown fields to b in MessageSet format.

For historic reasons, unresolved items in a MessageSet are stored in a message's unknown fields section in non\-MessageSet format. That is, an unknown item with typeID T and value V appears in the unknown fields as a field with number T and value V.

This function converts the unknown fields back into MessageSet form.

## func ConsumeFieldValue

```go
func ConsumeFieldValue(b []byte, wantLen bool) (typeid protowire.Number, message []byte, n int, err error)
```

ConsumeFieldValue parses b as a MessageSet item field value until and including the trailing end group marker. It assumes the start group tag has already been parsed. It returns the contents of the type\_id and message subfields and the total item length.

If wantLen is true, the returned message value includes the length prefix.

## func IsMessageSet

```go
func IsMessageSet(md protoreflect.MessageDescriptor) bool
```

IsMessageSet returns whether the message uses the MessageSet wire format.

## func IsMessageSetExtension

```go
func IsMessageSetExtension(fd protoreflect.FieldDescriptor) bool
```

IsMessageSetExtension reports this field properly extends a MessageSet.

## func SizeField

```go
func SizeField(num protowire.Number) int
```

SizeField returns the size of a MessageSet item field containing an extension with the given field number, not counting the contents of the message subfield.

## func SizeUnknown

```go
func SizeUnknown(unknown []byte) (size int)
```

SizeUnknown returns the size of an unknown fields section in MessageSet format.

See AppendUnknown.

## func Unmarshal

```go
func Unmarshal(b []byte, wantLen bool, fn func(typeID protowire.Number, value []byte) error) error
```

Unmarshal parses a MessageSet.

It calls fn with the type ID and value of each item in the MessageSet. Unknown fields are discarded.

If wantLen is true, the item values include the varint length prefix. This is ugly, but simplifies the fast\-path decoder in internal/impl.



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
